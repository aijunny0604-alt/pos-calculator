var D0=Object.defineProperty;var z0=(o,m,c)=>m in o?D0(o,m,{enumerable:!0,configurable:!0,writable:!0,value:c}):o[m]=c;var Ge=(o,m,c)=>z0(o,typeof m!="symbol"?m+"":m,c);(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))b(j);new MutationObserver(j=>{for(const $ of j)if($.type==="childList")for(const N of $.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&b(N)}).observe(document,{childList:!0,subtree:!0});function c(j){const $={};return j.integrity&&($.integrity=j.integrity),j.referrerPolicy&&($.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?$.credentials="include":j.crossOrigin==="anonymous"?$.credentials="omit":$.credentials="same-origin",$}function b(j){if(j.ep)return;j.ep=!0;const $=c(j);fetch(j.href,$)}})();function O0(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var pi={exports:{}},Kr={},fi={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function I0(){if(Bd)return ut;Bd=1;var o=Symbol.for("react.element"),m=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),le=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ae=Symbol.iterator;function de(y){return y===null||typeof y!="object"?null:(y=ae&&y[ae]||y["@@iterator"],typeof y=="function"?y:null)}var ge={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,I={};function Y(y,L,Me){this.props=y,this.context=L,this.refs=I,this.updater=Me||ge}Y.prototype.isReactComponent={},Y.prototype.setState=function(y,L){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,L,"setState")},Y.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function je(){}je.prototype=Y.prototype;function Le(y,L,Me){this.props=y,this.context=L,this.refs=I,this.updater=Me||ge}var z=Le.prototype=new je;z.constructor=Le,V(z,Y.prototype),z.isPureReactComponent=!0;var X=Array.isArray,J=Object.prototype.hasOwnProperty,oe={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function ye(y,L,Me){var H,me={},ke=null,Ne=null;if(L!=null)for(H in L.ref!==void 0&&(Ne=L.ref),L.key!==void 0&&(ke=""+L.key),L)J.call(L,H)&&!U.hasOwnProperty(H)&&(me[H]=L[H]);var Ye=arguments.length-2;if(Ye===1)me.children=Me;else if(1<Ye){for(var we=Array(Ye),ft=0;ft<Ye;ft++)we[ft]=arguments[ft+2];me.children=we}if(y&&y.defaultProps)for(H in Ye=y.defaultProps,Ye)me[H]===void 0&&(me[H]=Ye[H]);return{$$typeof:o,type:y,key:ke,ref:Ne,props:me,_owner:oe.current}}function Z(y,L){return{$$typeof:o,type:y.type,key:L,ref:y.ref,props:y.props,_owner:y._owner}}function De(y){return typeof y=="object"&&y!==null&&y.$$typeof===o}function be(y){var L={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(Me){return L[Me]})}var $e=/\/+/g;function Re(y,L){return typeof y=="object"&&y!==null&&y.key!=null?be(""+y.key):L.toString(36)}function Ae(y,L,Me,H,me){var ke=typeof y;(ke==="undefined"||ke==="boolean")&&(y=null);var Ne=!1;if(y===null)Ne=!0;else switch(ke){case"string":case"number":Ne=!0;break;case"object":switch(y.$$typeof){case o:case m:Ne=!0}}if(Ne)return Ne=y,me=me(Ne),y=H===""?"."+Re(Ne,0):H,X(me)?(Me="",y!=null&&(Me=y.replace($e,"$&/")+"/"),Ae(me,L,Me,"",function(ft){return ft})):me!=null&&(De(me)&&(me=Z(me,Me+(!me.key||Ne&&Ne.key===me.key?"":(""+me.key).replace($e,"$&/")+"/")+y)),L.push(me)),1;if(Ne=0,H=H===""?".":H+":",X(y))for(var Ye=0;Ye<y.length;Ye++){ke=y[Ye];var we=H+Re(ke,Ye);Ne+=Ae(ke,L,Me,we,me)}else if(we=de(y),typeof we=="function")for(y=we.call(y),Ye=0;!(ke=y.next()).done;)ke=ke.value,we=H+Re(ke,Ye++),Ne+=Ae(ke,L,Me,we,me);else if(ke==="object")throw L=String(y),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Ne}function te(y,L,Me){if(y==null)return y;var H=[],me=0;return Ae(y,H,"","",function(ke){return L.call(Me,ke,me++)}),H}function Xe(y){if(y._status===-1){var L=y._result;L=L(),L.then(function(Me){(y._status===0||y._status===-1)&&(y._status=1,y._result=Me)},function(Me){(y._status===0||y._status===-1)&&(y._status=2,y._result=Me)}),y._status===-1&&(y._status=0,y._result=L)}if(y._status===1)return y._result.default;throw y._result}var Ee={current:null},k={transition:null},O={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:k,ReactCurrentOwner:oe};function W(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:te,forEach:function(y,L,Me){te(y,function(){L.apply(this,arguments)},Me)},count:function(y){var L=0;return te(y,function(){L++}),L},toArray:function(y){return te(y,function(L){return L})||[]},only:function(y){if(!De(y))throw Error("React.Children.only expected to receive a single React element child.");return y}},ut.Component=Y,ut.Fragment=c,ut.Profiler=j,ut.PureComponent=Le,ut.StrictMode=b,ut.Suspense=E,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,ut.act=W,ut.cloneElement=function(y,L,Me){if(y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+y+".");var H=V({},y.props),me=y.key,ke=y.ref,Ne=y._owner;if(L!=null){if(L.ref!==void 0&&(ke=L.ref,Ne=oe.current),L.key!==void 0&&(me=""+L.key),y.type&&y.type.defaultProps)var Ye=y.type.defaultProps;for(we in L)J.call(L,we)&&!U.hasOwnProperty(we)&&(H[we]=L[we]===void 0&&Ye!==void 0?Ye[we]:L[we])}var we=arguments.length-2;if(we===1)H.children=Me;else if(1<we){Ye=Array(we);for(var ft=0;ft<we;ft++)Ye[ft]=arguments[ft+2];H.children=Ye}return{$$typeof:o,type:y.type,key:me,ref:ke,props:H,_owner:Ne}},ut.createContext=function(y){return y={$$typeof:N,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},y.Provider={$$typeof:$,_context:y},y.Consumer=y},ut.createElement=ye,ut.createFactory=function(y){var L=ye.bind(null,y);return L.type=y,L},ut.createRef=function(){return{current:null}},ut.forwardRef=function(y){return{$$typeof:R,render:y}},ut.isValidElement=De,ut.lazy=function(y){return{$$typeof:Q,_payload:{_status:-1,_result:y},_init:Xe}},ut.memo=function(y,L){return{$$typeof:le,type:y,compare:L===void 0?null:L}},ut.startTransition=function(y){var L=k.transition;k.transition={};try{y()}finally{k.transition=L}},ut.unstable_act=W,ut.useCallback=function(y,L){return Ee.current.useCallback(y,L)},ut.useContext=function(y){return Ee.current.useContext(y)},ut.useDebugValue=function(){},ut.useDeferredValue=function(y){return Ee.current.useDeferredValue(y)},ut.useEffect=function(y,L){return Ee.current.useEffect(y,L)},ut.useId=function(){return Ee.current.useId()},ut.useImperativeHandle=function(y,L,Me){return Ee.current.useImperativeHandle(y,L,Me)},ut.useInsertionEffect=function(y,L){return Ee.current.useInsertionEffect(y,L)},ut.useLayoutEffect=function(y,L){return Ee.current.useLayoutEffect(y,L)},ut.useMemo=function(y,L){return Ee.current.useMemo(y,L)},ut.useReducer=function(y,L,Me){return Ee.current.useReducer(y,L,Me)},ut.useRef=function(y){return Ee.current.useRef(y)},ut.useState=function(y){return Ee.current.useState(y)},ut.useSyncExternalStore=function(y,L,Me){return Ee.current.useSyncExternalStore(y,L,Me)},ut.useTransition=function(){return Ee.current.useTransition()},ut.version="18.3.1",ut}var Vd;function ki(){return Vd||(Vd=1,fi.exports=I0()),fi.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd;function R0(){if(Hd)return Kr;Hd=1;var o=ki(),m=Symbol.for("react.element"),c=Symbol.for("react.fragment"),b=Object.prototype.hasOwnProperty,j=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$={key:!0,ref:!0,__self:!0,__source:!0};function N(R,E,le){var Q,ae={},de=null,ge=null;le!==void 0&&(de=""+le),E.key!==void 0&&(de=""+E.key),E.ref!==void 0&&(ge=E.ref);for(Q in E)b.call(E,Q)&&!$.hasOwnProperty(Q)&&(ae[Q]=E[Q]);if(R&&R.defaultProps)for(Q in E=R.defaultProps,E)ae[Q]===void 0&&(ae[Q]=E[Q]);return{$$typeof:m,type:R,key:de,ref:ge,props:ae,_owner:j.current}}return Kr.Fragment=c,Kr.jsx=N,Kr.jsxs=N,Kr}var Kd;function A0(){return Kd||(Kd=1,pi.exports=R0()),pi.exports}var t=A0(),p=ki(),Ba={},gi={exports:{}},$s={},yi={exports:{}},wi={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function F0(){return Ud||(Ud=1,(function(o){function m(k,O){var W=k.length;k.push(O);e:for(;0<W;){var y=W-1>>>1,L=k[y];if(0<j(L,O))k[y]=O,k[W]=L,W=y;else break e}}function c(k){return k.length===0?null:k[0]}function b(k){if(k.length===0)return null;var O=k[0],W=k.pop();if(W!==O){k[0]=W;e:for(var y=0,L=k.length,Me=L>>>1;y<Me;){var H=2*(y+1)-1,me=k[H],ke=H+1,Ne=k[ke];if(0>j(me,W))ke<L&&0>j(Ne,me)?(k[y]=Ne,k[ke]=W,y=ke):(k[y]=me,k[H]=W,y=H);else if(ke<L&&0>j(Ne,W))k[y]=Ne,k[ke]=W,y=ke;else break e}}return O}function j(k,O){var W=k.sortIndex-O.sortIndex;return W!==0?W:k.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var $=performance;o.unstable_now=function(){return $.now()}}else{var N=Date,R=N.now();o.unstable_now=function(){return N.now()-R}}var E=[],le=[],Q=1,ae=null,de=3,ge=!1,V=!1,I=!1,Y=typeof setTimeout=="function"?setTimeout:null,je=typeof clearTimeout=="function"?clearTimeout:null,Le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(k){for(var O=c(le);O!==null;){if(O.callback===null)b(le);else if(O.startTime<=k)b(le),O.sortIndex=O.expirationTime,m(E,O);else break;O=c(le)}}function X(k){if(I=!1,z(k),!V)if(c(E)!==null)V=!0,Xe(J);else{var O=c(le);O!==null&&Ee(X,O.startTime-k)}}function J(k,O){V=!1,I&&(I=!1,je(ye),ye=-1),ge=!0;var W=de;try{for(z(O),ae=c(E);ae!==null&&(!(ae.expirationTime>O)||k&&!be());){var y=ae.callback;if(typeof y=="function"){ae.callback=null,de=ae.priorityLevel;var L=y(ae.expirationTime<=O);O=o.unstable_now(),typeof L=="function"?ae.callback=L:ae===c(E)&&b(E),z(O)}else b(E);ae=c(E)}if(ae!==null)var Me=!0;else{var H=c(le);H!==null&&Ee(X,H.startTime-O),Me=!1}return Me}finally{ae=null,de=W,ge=!1}}var oe=!1,U=null,ye=-1,Z=5,De=-1;function be(){return!(o.unstable_now()-De<Z)}function $e(){if(U!==null){var k=o.unstable_now();De=k;var O=!0;try{O=U(!0,k)}finally{O?Re():(oe=!1,U=null)}}else oe=!1}var Re;if(typeof Le=="function")Re=function(){Le($e)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,te=Ae.port2;Ae.port1.onmessage=$e,Re=function(){te.postMessage(null)}}else Re=function(){Y($e,0)};function Xe(k){U=k,oe||(oe=!0,Re())}function Ee(k,O){ye=Y(function(){k(o.unstable_now())},O)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(k){k.callback=null},o.unstable_continueExecution=function(){V||ge||(V=!0,Xe(J))},o.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<k?Math.floor(1e3/k):5},o.unstable_getCurrentPriorityLevel=function(){return de},o.unstable_getFirstCallbackNode=function(){return c(E)},o.unstable_next=function(k){switch(de){case 1:case 2:case 3:var O=3;break;default:O=de}var W=de;de=O;try{return k()}finally{de=W}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(k,O){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=de;de=k;try{return O()}finally{de=W}},o.unstable_scheduleCallback=function(k,O,W){var y=o.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?y+W:y):W=y,k){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,k={id:Q++,callback:O,priorityLevel:k,startTime:W,expirationTime:L,sortIndex:-1},W>y?(k.sortIndex=W,m(le,k),c(E)===null&&k===c(le)&&(I?(je(ye),ye=-1):I=!0,Ee(X,W-y))):(k.sortIndex=L,m(E,k),V||ge||(V=!0,Xe(J))),k},o.unstable_shouldYield=be,o.unstable_wrapCallback=function(k){var O=de;return function(){var W=de;de=O;try{return k.apply(this,arguments)}finally{de=W}}}})(wi)),wi}var Wd;function B0(){return Wd||(Wd=1,yi.exports=F0()),yi.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd;function V0(){if(Qd)return $s;Qd=1;var o=ki(),m=B0();function c(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b=new Set,j={};function $(e,s){N(e,s),N(e+"Capture",s)}function N(e,s){for(j[e]=s,e=0;e<s.length;e++)b.add(s[e])}var R=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E=Object.prototype.hasOwnProperty,le=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q={},ae={};function de(e){return E.call(ae,e)?!0:E.call(Q,e)?!1:le.test(e)?ae[e]=!0:(Q[e]=!0,!1)}function ge(e,s,l,n){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V(e,s,l,n){if(s===null||typeof s>"u"||ge(e,s,l,n))return!0;if(n)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function I(e,s,l,n,r,a,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=l,this.propertyName=e,this.type=s,this.sanitizeURL=a,this.removeEmptyString=i}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Y[e]=new I(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];Y[s]=new I(s,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Y[e]=new I(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Y[e]=new I(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Y[e]=new I(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Y[e]=new I(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Y[e]=new I(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Y[e]=new I(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Y[e]=new I(e,5,!1,e.toLowerCase(),null,!1,!1)});var je=/[\-:]([a-z])/g;function Le(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(je,Le);Y[s]=new I(s,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(je,Le);Y[s]=new I(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(je,Le);Y[s]=new I(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Y[e]=new I(e,1,!1,e.toLowerCase(),null,!1,!1)}),Y.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Y[e]=new I(e,1,!1,e.toLowerCase(),null,!0,!0)});function z(e,s,l,n){var r=Y.hasOwnProperty(s)?Y[s]:null;(r!==null?r.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(V(s,l,r,n)&&(l=null),n||r===null?de(s)&&(l===null?e.removeAttribute(s):e.setAttribute(s,""+l)):r.mustUseProperty?e[r.propertyName]=l===null?r.type===3?!1:"":l:(s=r.attributeName,n=r.attributeNamespace,l===null?e.removeAttribute(s):(r=r.type,l=r===3||r===4&&l===!0?"":""+l,n?e.setAttributeNS(n,s,l):e.setAttribute(s,l))))}var X=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),oe=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),ye=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),De=Symbol.for("react.provider"),be=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),k=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,y;function L(e){if(y===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);y=s&&s[1]||""}return`
`+y+e}var Me=!1;function H(e,s){if(!e||Me)return"";Me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(M){var n=M}Reflect.construct(e,[],s)}else{try{s.call()}catch(M){n=M}e.call(s.prototype)}else{try{throw Error()}catch(M){n=M}e()}}catch(M){if(M&&n&&typeof M.stack=="string"){for(var r=M.stack.split(`
`),a=n.stack.split(`
`),i=r.length-1,x=a.length-1;1<=i&&0<=x&&r[i]!==a[x];)x--;for(;1<=i&&0<=x;i--,x--)if(r[i]!==a[x]){if(i!==1||x!==1)do if(i--,x--,0>x||r[i]!==a[x]){var f=`
`+r[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=x);break}}}finally{Me=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?L(e):""}function me(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1),e;case 11:return e=H(e.type.render,!1),e;case 1:return e=H(e.type,!0),e;default:return""}}function ke(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case oe:return"Portal";case Z:return"Profiler";case ye:return"StrictMode";case Re:return"Suspense";case Ae:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case be:return(e.displayName||"Context")+".Consumer";case De:return(e._context.displayName||"Context")+".Provider";case $e:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return s=e.displayName||null,s!==null?s:ke(e.type)||"Memo";case Xe:s=e._payload,e=e._init;try{return ke(e(s))}catch{}}return null}function Ne(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(s);case 8:return s===ye?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ft(e){var s=we(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),n=""+e[s];if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var r=l.get,a=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return r.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function P(e){e._valueTracker||(e._valueTracker=ft(e))}function pe(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var l=s.getValue(),n="";return e&&(n=we(e)?e.checked?"true":"false":e.value),e=n,e!==l?(s.setValue(e),!0):!1}function ve(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function w(e,s){var l=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function _(e,s){var l=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;l=Ye(s.value!=null?s.value:l),e._wrapperState={initialChecked:n,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function K(e,s){s=s.checked,s!=null&&z(e,"checked",s,!1)}function A(e,s){K(e,s);var l=Ye(s.value),n=s.type;if(l!=null)n==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?ce(e,s.type,l):s.hasOwnProperty("defaultValue")&&ce(e,s.type,Ye(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function _e(e,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,l||s===e.value||(e.value=s),e.defaultValue=s}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function ce(e,s,l){(s!=="number"||ve(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var qe=Array.isArray;function Te(e,s,l,n){if(e=e.options,s){s={};for(var r=0;r<l.length;r++)s["$"+l[r]]=!0;for(l=0;l<e.length;l++)r=s.hasOwnProperty("$"+e[l].value),e[l].selected!==r&&(e[l].selected=r),r&&n&&(e[l].defaultSelected=!0)}else{for(l=""+Ye(l),s=null,r=0;r<e.length;r++){if(e[r].value===l){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}s!==null||e[r].disabled||(s=e[r])}s!==null&&(s.selected=!0)}}function Ue(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(c(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ct(e,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(c(92));if(qe(l)){if(1<l.length)throw Error(c(93));l=l[0]}s=l}s==null&&(s=""),l=s}e._wrapperState={initialValue:Ye(l)}}function g(e,s){var l=Ye(s.value),n=Ye(s.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),s.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),n!=null&&(e.defaultValue=""+n)}function ue(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function h(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function D(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?h(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ne,F=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,n,r){MSApp.execUnsafeLocalFunction(function(){return e(s,l,n,r)})}:e})(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(ne=ne||document.createElement("div"),ne.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ne.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function G(e,s){if(s){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=s;return}}e.textContent=s}var Ie={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];Object.keys(Ie).forEach(function(e){ze.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),Ie[s]=Ie[e]})});function mt(e,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ie.hasOwnProperty(e)&&Ie[e]?(""+s).trim():s+"px"}function Fe(e,s){e=e.style;for(var l in s)if(s.hasOwnProperty(l)){var n=l.indexOf("--")===0,r=mt(l,s[l],n);l==="float"&&(l="cssFloat"),n?e.setProperty(l,r):e[l]=r}}var Ke=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vt(e,s){if(s){if(Ke[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(c(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(c(61))}if(s.style!=null&&typeof s.style!="object")throw Error(c(62))}}function $t(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=null;function at(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Je=null,ht=null,jt=null;function Nt(e){if(e=_r(e)){if(typeof Je!="function")throw Error(c(280));var s=e.stateNode;s&&(s=sa(s),Je(e.stateNode,e.type,s))}}function ot(e){ht?jt?jt.push(e):jt=[e]:ht=e}function St(){if(ht){var e=ht,s=jt;if(jt=ht=null,Nt(e),s)for(e=0;e<s.length;e++)Nt(s[e])}}function Ht(e,s){return e(s)}function Be(){}var ss=!1;function ds(e,s,l){if(ss)return e(s,l);ss=!0;try{return Ht(e,s,l)}finally{ss=!1,(ht!==null||jt!==null)&&(Be(),St())}}function us(e,s){var l=e.stateNode;if(l===null)return null;var n=sa(l);if(n===null)return null;l=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(c(231,s,typeof l));return l}var Rt=!1;if(R)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Rt=!1}function xn(e,s,l,n,r,a,i,x,f){var M=Array.prototype.slice.call(arguments,3);try{s.apply(l,M)}catch(se){this.onError(se)}}var Mt=!1,Jt=null,Ns=!1,Us=null,pn={onError:function(e){Mt=!0,Jt=e}};function wr(e,s,l,n,r,a,i,x,f){Mt=!1,Jt=null,xn.apply(pn,arguments)}function fn(e,s,l,n,r,a,i,x,f){if(wr.apply(this,arguments),Mt){if(Mt){var M=Jt;Mt=!1,Jt=null}else throw Error(c(198));Ns||(Ns=!0,Us=M)}}function Zt(e){var s=e,l=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(l=s.return),e=s.return;while(e)}return s.tag===3?l:null}function gn(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Wn(e){if(Zt(e)!==e)throw Error(c(188))}function yn(e){var s=e.alternate;if(!s){if(s=Zt(e),s===null)throw Error(c(188));return s!==e?null:e}for(var l=e,n=s;;){var r=l.return;if(r===null)break;var a=r.alternate;if(a===null){if(n=r.return,n!==null){l=n;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===l)return Wn(r),e;if(a===n)return Wn(r),s;a=a.sibling}throw Error(c(188))}if(l.return!==n.return)l=r,n=a;else{for(var i=!1,x=r.child;x;){if(x===l){i=!0,l=r,n=a;break}if(x===n){i=!0,n=r,l=a;break}x=x.sibling}if(!i){for(x=a.child;x;){if(x===l){i=!0,l=a,n=r;break}if(x===n){i=!0,n=a,l=r;break}x=x.sibling}if(!i)throw Error(c(189))}}if(l.alternate!==n)throw Error(c(190))}if(l.tag!==3)throw Error(c(188));return l.stateNode.current===l?e:s}function tl(e){return e=yn(e),e!==null?wn(e):null}function wn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=wn(e);if(s!==null)return s;e=e.sibling}return null}var sl=m.unstable_scheduleCallback,Bl=m.unstable_cancelCallback,Vl=m.unstable_shouldYield,El=m.unstable_requestPaint,Et=m.unstable_now,Tl=m.unstable_getCurrentPriorityLevel,ll=m.unstable_ImmediatePriority,Ls=m.unstable_UserBlockingPriority,Hl=m.unstable_NormalPriority,as=m.unstable_LowPriority,Ws=m.unstable_IdlePriority,Qt=null,Kt=null;function u(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Qt,e,void 0,(e.current.flags&128)===128)}catch{}}var S=Math.clz32?Math.clz32:fe,q=Math.log,ie=Math.LN2;function fe(e){return e>>>=0,e===0?32:31-(q(e)/ie|0)|0}var Se=64,Ze=4194304;function rt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tt(e,s){var l=e.pendingLanes;if(l===0)return 0;var n=0,r=e.suspendedLanes,a=e.pingedLanes,i=l&268435455;if(i!==0){var x=i&~r;x!==0?n=rt(x):(a&=i,a!==0&&(n=rt(a)))}else i=l&~r,i!==0?n=rt(i):a!==0&&(n=rt(a));if(n===0)return 0;if(s!==0&&s!==n&&(s&r)===0&&(r=n&-n,a=s&-s,r>=a||r===16&&(a&4194240)!==0))return s;if((n&4)!==0&&(n|=l&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=n;0<s;)l=31-S(s),r=1<<l,n|=e[l],s&=~r;return n}function ys(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(e,s){for(var l=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-S(a),x=1<<i,f=r[i];f===-1?((x&l)===0||(x&n)!==0)&&(r[i]=ys(x,s)):f<=s&&(e.expiredLanes|=x),a&=~x}}function os(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kt(){var e=Se;return Se<<=1,(Se&4194240)===0&&(Se=64),e}function Qs(e){for(var s=[],l=0;31>l;l++)s.push(e);return s}function lt(e,s,l){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-S(s),e[s]=l}function dt(e,s){var l=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<l;){var r=31-S(l),a=1<<r;s[r]=0,n[r]=-1,e[r]=-1,l&=~a}}function gt(e,s){var l=e.entangledLanes|=s;for(e=e.entanglements;l;){var n=31-S(l),r=1<<n;r&s|e[n]&s&&(e[n]|=s),l&=~r}}var We=0;function nl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var bn,vn,jn,Ds,Kl,Qn=!1,Nn=[],rl=null,pl=null,fl=null,kn=new Map,Sn=new Map,d=[],B="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function he(e,s){switch(e){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":fl=null;break;case"pointerover":case"pointerout":kn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(s.pointerId)}}function Ce(e,s,l,n,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:s,domEventName:l,eventSystemFlags:n,nativeEvent:a,targetContainers:[r]},s!==null&&(s=_r(s),s!==null&&vn(s)),e):(e.eventSystemFlags|=n,s=e.targetContainers,r!==null&&s.indexOf(r)===-1&&s.push(r),e)}function xt(e,s,l,n,r){switch(s){case"focusin":return rl=Ce(rl,e,s,l,n,r),!0;case"dragenter":return pl=Ce(pl,e,s,l,n,r),!0;case"mouseover":return fl=Ce(fl,e,s,l,n,r),!0;case"pointerover":var a=r.pointerId;return kn.set(a,Ce(kn.get(a)||null,e,s,l,n,r)),!0;case"gotpointercapture":return a=r.pointerId,Sn.set(a,Ce(Sn.get(a)||null,e,s,l,n,r)),!0}return!1}function ms(e){var s=$n(e.target);if(s!==null){var l=Zt(s);if(l!==null){if(s=l.tag,s===13){if(s=gn(l),s!==null){e.blockedOn=s,Kl(e.priority,function(){jn(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qt(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var l=_n(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var n=new l.constructor(l.type,l);It=n,l.target.dispatchEvent(n),It=null}else return s=_r(l),s!==null&&vn(s),e.blockedOn=l,!1;s.shift()}return!0}function Ul(e,s,l){qt(e)&&l.delete(s)}function Cn(){Qn=!1,rl!==null&&qt(rl)&&(rl=null),pl!==null&&qt(pl)&&(pl=null),fl!==null&&qt(fl)&&(fl=null),kn.forEach(Ul),Sn.forEach(Ul)}function gl(e,s){e.blockedOn===s&&(e.blockedOn=null,Qn||(Qn=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,Cn)))}function ks(e){function s(r){return gl(r,e)}if(0<Nn.length){gl(Nn[0],e);for(var l=1;l<Nn.length;l++){var n=Nn[l];n.blockedOn===e&&(n.blockedOn=null)}}for(rl!==null&&gl(rl,e),pl!==null&&gl(pl,e),fl!==null&&gl(fl,e),kn.forEach(s),Sn.forEach(s),l=0;l<d.length;l++)n=d[l],n.blockedOn===e&&(n.blockedOn=null);for(;0<d.length&&(l=d[0],l.blockedOn===null);)ms(l),l.blockedOn===null&&d.shift()}var qs=X.ReactCurrentBatchConfig,yl=!0;function En(e,s,l,n){var r=We,a=qs.transition;qs.transition=null;try{We=1,_l(e,s,l,n)}finally{We=r,qs.transition=a}}function Tn(e,s,l,n){var r=We,a=qs.transition;qs.transition=null;try{We=4,_l(e,s,l,n)}finally{We=r,qs.transition=a}}function _l(e,s,l,n){if(yl){var r=_n(e,s,l,n);if(r===null)no(e,s,n,wl,l),he(e,n);else if(xt(r,e,s,l,n))n.stopPropagation();else if(he(e,n),s&4&&-1<B.indexOf(e)){for(;r!==null;){var a=_r(r);if(a!==null&&bn(a),a=_n(e,s,l,n),a===null&&no(e,s,n,wl,l),a===r)break;r=a}r!==null&&n.stopPropagation()}else no(e,s,n,null,l)}}var wl=null;function _n(e,s,l,n){if(wl=null,e=at(n),e=$n(e),e!==null)if(s=Zt(e),s===null)e=null;else if(l=s.tag,l===13){if(e=gn(s),e!==null)return e;e=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return wl=e,null}function Ss(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tl()){case ll:return 1;case Ls:return 4;case Hl:case as:return 16;case Ws:return 536870912;default:return 16}default:return 16}}var Yt=null,zs=null,al=null;function Wl(){if(al)return al;var e,s=zs,l=s.length,n,r="value"in Yt?Yt.value:Yt.textContent,a=r.length;for(e=0;e<l&&s[e]===r[e];e++);var i=l-e;for(n=1;n<=i&&s[l-n]===r[a-n];n++);return al=r.slice(e,1<n?1-n:void 0)}function wt(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function hs(){return!0}function Ql(){return!1}function At(e){function s(l,n,r,a,i){this._reactName=l,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(l=e[x],this[x]=l?l(a):a[x]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?hs:Ql,this.isPropagationStopped=Ql,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),s}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=At(ws),$l=W({},ws,{view:0,detail:0}),bl=At($l),ol,qn,Pn,qr=W({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pn&&(Pn&&e.type==="mousemove"?(ol=e.screenX-Pn.screenX,qn=e.screenY-Pn.screenY):qn=ol=0,Pn=e),ol)},movementY:function(e){return"movementY"in e?e.movementY:qn}}),Pi=At(qr),iu=W({},qr,{dataTransfer:0}),cu=At(iu),du=W({},$l,{relatedTarget:0}),Wa=At(du),uu=W({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=At(uu),hu=W({},ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xu=At(hu),pu=W({},ws,{data:0}),$i=At(pu),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=yu[e])?!!s[e]:!1}function Qa(){return wu}var bu=W({},$l,{key:function(e){if(e.key){var s=fu[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=wt(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(e){return e.type==="keypress"?wt(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wt(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=At(bu),ju=W({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=At(ju),Nu=W({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),ku=At(Nu),Su=W({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cu=At(Su),Eu=W({},qr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tu=At(Eu),_u=[9,13,27,32],qa=R&&"CompositionEvent"in window,br=null;R&&"documentMode"in document&&(br=document.documentMode);var Pu=R&&"TextEvent"in window&&!br,Li=R&&(!qa||br&&8<br&&11>=br),Di=" ",zi=!1;function Oi(e,s){switch(e){case"keyup":return _u.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ii(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function $u(e,s){switch(e){case"compositionend":return Ii(s);case"keypress":return s.which!==32?null:(zi=!0,Di);case"textInput":return e=s.data,e===Di&&zi?null:e;default:return null}}function Mu(e,s){if(Yn)return e==="compositionend"||!qa&&Oi(e,s)?(e=Wl(),al=zs=Yt=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Li&&s.locale!=="ko"?null:s.data;default:return null}}var Lu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ri(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Lu[e.type]:s==="textarea"}function Ai(e,s,l,n){ot(n),s=Zr(s,"onChange"),0<s.length&&(l=new Pl("onChange","change",null,l,n),e.push({event:l,listeners:s}))}var vr=null,jr=null;function Du(e){lc(e,0)}function Yr(e){var s=er(e);if(pe(s))return e}function zu(e,s){if(e==="change")return s}var Fi=!1;if(R){var Ya;if(R){var Ga="oninput"in document;if(!Ga){var Bi=document.createElement("div");Bi.setAttribute("oninput","return;"),Ga=typeof Bi.oninput=="function"}Ya=Ga}else Ya=!1;Fi=Ya&&(!document.documentMode||9<document.documentMode)}function Vi(){vr&&(vr.detachEvent("onpropertychange",Hi),jr=vr=null)}function Hi(e){if(e.propertyName==="value"&&Yr(jr)){var s=[];Ai(s,jr,e,at(e)),ds(Du,s)}}function Ou(e,s,l){e==="focusin"?(Vi(),vr=s,jr=l,vr.attachEvent("onpropertychange",Hi)):e==="focusout"&&Vi()}function Iu(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yr(jr)}function Ru(e,s){if(e==="click")return Yr(s)}function Au(e,s){if(e==="input"||e==="change")return Yr(s)}function Fu(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var il=typeof Object.is=="function"?Object.is:Fu;function Nr(e,s){if(il(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var l=Object.keys(e),n=Object.keys(s);if(l.length!==n.length)return!1;for(n=0;n<l.length;n++){var r=l[n];if(!E.call(s,r)||!il(e[r],s[r]))return!1}return!0}function Ki(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ui(e,s){var l=Ki(e);e=0;for(var n;l;){if(l.nodeType===3){if(n=e+l.textContent.length,e<=s&&n>=s)return{node:l,offset:s-e};e=n}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ki(l)}}function Wi(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Wi(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Qi(){for(var e=window,s=ve();s instanceof e.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)e=s.contentWindow;else break;s=ve(e.document)}return s}function Xa(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Bu(e){var s=Qi(),l=e.focusedElem,n=e.selectionRange;if(s!==l&&l&&l.ownerDocument&&Wi(l.ownerDocument.documentElement,l)){if(n!==null&&Xa(l)){if(s=n.start,e=n.end,e===void 0&&(e=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(e,l.value.length);else if(e=(s=l.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var r=l.textContent.length,a=Math.min(n.start,r);n=n.end===void 0?a:Math.min(n.end,r),!e.extend&&a>n&&(r=n,n=a,a=r),r=Ui(l,a);var i=Ui(l,n);r&&i&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(r.node,r.offset),e.removeAllRanges(),a>n?(e.addRange(s),e.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),e.addRange(s)))}}for(s=[],e=l;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)e=s[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vu=R&&"documentMode"in document&&11>=document.documentMode,Gn=null,Ja=null,kr=null,Za=!1;function qi(e,s,l){var n=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Za||Gn==null||Gn!==ve(n)||(n=Gn,"selectionStart"in n&&Xa(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kr&&Nr(kr,n)||(kr=n,n=Zr(Ja,"onSelect"),0<n.length&&(s=new Pl("onSelect","select",null,s,l),e.push({event:s,listeners:n}),s.target=Gn)))}function Gr(e,s){var l={};return l[e.toLowerCase()]=s.toLowerCase(),l["Webkit"+e]="webkit"+s,l["Moz"+e]="moz"+s,l}var Xn={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionend:Gr("Transition","TransitionEnd")},eo={},Yi={};R&&(Yi=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function Xr(e){if(eo[e])return eo[e];if(!Xn[e])return e;var s=Xn[e],l;for(l in s)if(s.hasOwnProperty(l)&&l in Yi)return eo[e]=s[l];return e}var Gi=Xr("animationend"),Xi=Xr("animationiteration"),Ji=Xr("animationstart"),Zi=Xr("transitionend"),ec=new Map,tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ql(e,s){ec.set(e,s),$(s,[e])}for(var to=0;to<tc.length;to++){var so=tc[to],Hu=so.toLowerCase(),Ku=so[0].toUpperCase()+so.slice(1);ql(Hu,"on"+Ku)}ql(Gi,"onAnimationEnd"),ql(Xi,"onAnimationIteration"),ql(Ji,"onAnimationStart"),ql("dblclick","onDoubleClick"),ql("focusin","onFocus"),ql("focusout","onBlur"),ql(Zi,"onTransitionEnd"),N("onMouseEnter",["mouseout","mouseover"]),N("onMouseLeave",["mouseout","mouseover"]),N("onPointerEnter",["pointerout","pointerover"]),N("onPointerLeave",["pointerout","pointerover"]),$("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$("onBeforeInput",["compositionend","keypress","textInput","paste"]),$("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function sc(e,s,l){var n=e.type||"unknown-event";e.currentTarget=l,fn(n,s,void 0,e),e.currentTarget=null}function lc(e,s){s=(s&4)!==0;for(var l=0;l<e.length;l++){var n=e[l],r=n.event;n=n.listeners;e:{var a=void 0;if(s)for(var i=n.length-1;0<=i;i--){var x=n[i],f=x.instance,M=x.currentTarget;if(x=x.listener,f!==a&&r.isPropagationStopped())break e;sc(r,x,M),a=f}else for(i=0;i<n.length;i++){if(x=n[i],f=x.instance,M=x.currentTarget,x=x.listener,f!==a&&r.isPropagationStopped())break e;sc(r,x,M),a=f}}}if(Ns)throw e=Us,Ns=!1,Us=null,e}function Lt(e,s){var l=s[uo];l===void 0&&(l=s[uo]=new Set);var n=e+"__bubble";l.has(n)||(nc(s,e,2,!1),l.add(n))}function lo(e,s,l){var n=0;s&&(n|=4),nc(l,e,n,s)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){if(!e[Jr]){e[Jr]=!0,b.forEach(function(l){l!=="selectionchange"&&(Uu.has(l)||lo(l,!1,e),lo(l,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Jr]||(s[Jr]=!0,lo("selectionchange",!1,s))}}function nc(e,s,l,n){switch(Ss(s)){case 1:var r=En;break;case 4:r=Tn;break;default:r=_l}l=r.bind(null,s,l,e),r=void 0,!Rt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(s,l,{capture:!0,passive:r}):e.addEventListener(s,l,!0):r!==void 0?e.addEventListener(s,l,{passive:r}):e.addEventListener(s,l,!1)}function no(e,s,l,n,r){var a=n;if((s&1)===0&&(s&2)===0&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var x=n.stateNode.containerInfo;if(x===r||x.nodeType===8&&x.parentNode===r)break;if(i===4)for(i=n.return;i!==null;){var f=i.tag;if((f===3||f===4)&&(f=i.stateNode.containerInfo,f===r||f.nodeType===8&&f.parentNode===r))return;i=i.return}for(;x!==null;){if(i=$n(x),i===null)return;if(f=i.tag,f===5||f===6){n=a=i;continue e}x=x.parentNode}}n=n.return}ds(function(){var M=a,se=at(l),re=[];e:{var ee=ec.get(e);if(ee!==void 0){var Pe=Pl,Ve=e;switch(e){case"keypress":if(wt(l)===0)break e;case"keydown":case"keyup":Pe=vu;break;case"focusin":Ve="focus",Pe=Wa;break;case"focusout":Ve="blur",Pe=Wa;break;case"beforeblur":case"afterblur":Pe=Wa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=ku;break;case Gi:case Xi:case Ji:Pe=mu;break;case Zi:Pe=Cu;break;case"scroll":Pe=bl;break;case"wheel":Pe=Tu;break;case"copy":case"cut":case"paste":Pe=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Mi}var He=(s&4)!==0,Wt=!He&&e==="scroll",C=He?ee!==null?ee+"Capture":null:ee;He=[];for(var v=M,T;v!==null;){T=v;var xe=T.stateNode;if(T.tag===5&&xe!==null&&(T=xe,C!==null&&(xe=us(v,C),xe!=null&&He.push(Er(v,xe,T)))),Wt)break;v=v.return}0<He.length&&(ee=new Pe(ee,Ve,null,l,se),re.push({event:ee,listeners:He}))}}if((s&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",Pe=e==="mouseout"||e==="pointerout",ee&&l!==It&&(Ve=l.relatedTarget||l.fromElement)&&($n(Ve)||Ve[Ml]))break e;if((Pe||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,Pe?(Ve=l.relatedTarget||l.toElement,Pe=M,Ve=Ve?$n(Ve):null,Ve!==null&&(Wt=Zt(Ve),Ve!==Wt||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Pe=null,Ve=M),Pe!==Ve)){if(He=Pi,xe="onMouseLeave",C="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(He=Mi,xe="onPointerLeave",C="onPointerEnter",v="pointer"),Wt=Pe==null?ee:er(Pe),T=Ve==null?ee:er(Ve),ee=new He(xe,v+"leave",Pe,l,se),ee.target=Wt,ee.relatedTarget=T,xe=null,$n(se)===M&&(He=new He(C,v+"enter",Ve,l,se),He.target=T,He.relatedTarget=Wt,xe=He),Wt=xe,Pe&&Ve)t:{for(He=Pe,C=Ve,v=0,T=He;T;T=Jn(T))v++;for(T=0,xe=C;xe;xe=Jn(xe))T++;for(;0<v-T;)He=Jn(He),v--;for(;0<T-v;)C=Jn(C),T--;for(;v--;){if(He===C||C!==null&&He===C.alternate)break t;He=Jn(He),C=Jn(C)}He=null}else He=null;Pe!==null&&rc(re,ee,Pe,He,!1),Ve!==null&&Wt!==null&&rc(re,Wt,Ve,He,!0)}}e:{if(ee=M?er(M):window,Pe=ee.nodeName&&ee.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ee.type==="file")var Qe=zu;else if(Ri(ee))if(Fi)Qe=Au;else{Qe=Iu;var et=Ou}else(Pe=ee.nodeName)&&Pe.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Qe=Ru);if(Qe&&(Qe=Qe(e,M))){Ai(re,Qe,l,se);break e}et&&et(e,ee,M),e==="focusout"&&(et=ee._wrapperState)&&et.controlled&&ee.type==="number"&&ce(ee,"number",ee.value)}switch(et=M?er(M):window,e){case"focusin":(Ri(et)||et.contentEditable==="true")&&(Gn=et,Ja=M,kr=null);break;case"focusout":kr=Ja=Gn=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":Za=!1,qi(re,l,se);break;case"selectionchange":if(Vu)break;case"keydown":case"keyup":qi(re,l,se)}var tt;if(qa)e:{switch(e){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Yn?Oi(e,l)&&(st="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(st="onCompositionStart");st&&(Li&&l.locale!=="ko"&&(Yn||st!=="onCompositionStart"?st==="onCompositionEnd"&&Yn&&(tt=Wl()):(Yt=se,zs="value"in Yt?Yt.value:Yt.textContent,Yn=!0)),et=Zr(M,st),0<et.length&&(st=new $i(st,e,null,l,se),re.push({event:st,listeners:et}),tt?st.data=tt:(tt=Ii(l),tt!==null&&(st.data=tt)))),(tt=Pu?$u(e,l):Mu(e,l))&&(M=Zr(M,"onBeforeInput"),0<M.length&&(se=new $i("onBeforeInput","beforeinput",null,l,se),re.push({event:se,listeners:M}),se.data=tt))}lc(re,s)})}function Er(e,s,l){return{instance:e,listener:s,currentTarget:l}}function Zr(e,s){for(var l=s+"Capture",n=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=us(e,l),a!=null&&n.unshift(Er(e,a,r)),a=us(e,s),a!=null&&n.push(Er(e,a,r))),e=e.return}return n}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rc(e,s,l,n,r){for(var a=s._reactName,i=[];l!==null&&l!==n;){var x=l,f=x.alternate,M=x.stateNode;if(f!==null&&f===n)break;x.tag===5&&M!==null&&(x=M,r?(f=us(l,a),f!=null&&i.unshift(Er(l,f,x))):r||(f=us(l,a),f!=null&&i.push(Er(l,f,x)))),l=l.return}i.length!==0&&e.push({event:s,listeners:i})}var Wu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function ac(e){return(typeof e=="string"?e:""+e).replace(Wu,`
`).replace(Qu,"")}function ea(e,s,l){if(s=ac(s),ac(e)!==s&&l)throw Error(c(425))}function ta(){}var ro=null,ao=null;function oo(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var io=typeof setTimeout=="function"?setTimeout:void 0,qu=typeof clearTimeout=="function"?clearTimeout:void 0,oc=typeof Promise=="function"?Promise:void 0,Yu=typeof queueMicrotask=="function"?queueMicrotask:typeof oc<"u"?function(e){return oc.resolve(null).then(e).catch(Gu)}:io;function Gu(e){setTimeout(function(){throw e})}function co(e,s){var l=s,n=0;do{var r=l.nextSibling;if(e.removeChild(l),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(n===0){e.removeChild(r),ks(s);return}n--}else l!=="$"&&l!=="$?"&&l!=="$!"||n++;l=r}while(l);ks(s)}function Yl(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function ic(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return e;s--}else l==="/$"&&s++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),vl="__reactFiber$"+Zn,Tr="__reactProps$"+Zn,Ml="__reactContainer$"+Zn,uo="__reactEvents$"+Zn,Xu="__reactListeners$"+Zn,Ju="__reactHandles$"+Zn;function $n(e){var s=e[vl];if(s)return s;for(var l=e.parentNode;l;){if(s=l[Ml]||l[vl]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(e=ic(e);e!==null;){if(l=e[vl])return l;e=ic(e)}return s}e=l,l=e.parentNode}return null}function _r(e){return e=e[vl]||e[Ml],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function sa(e){return e[Tr]||null}var mo=[],tr=-1;function Gl(e){return{current:e}}function Dt(e){0>tr||(e.current=mo[tr],mo[tr]=null,tr--)}function _t(e,s){tr++,mo[tr]=e.current,e.current=s}var Xl={},xs=Gl(Xl),Cs=Gl(!1),Mn=Xl;function sr(e,s){var l=e.type.contextTypes;if(!l)return Xl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in l)r[a]=s[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),r}function Es(e){return e=e.childContextTypes,e!=null}function la(){Dt(Cs),Dt(xs)}function cc(e,s,l){if(xs.current!==Xl)throw Error(c(168));_t(xs,s),_t(Cs,l)}function dc(e,s,l){var n=e.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return l;n=n.getChildContext();for(var r in n)if(!(r in s))throw Error(c(108,Ne(e)||"Unknown",r));return W({},l,n)}function na(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xl,Mn=xs.current,_t(xs,e),_t(Cs,Cs.current),!0}function uc(e,s,l){var n=e.stateNode;if(!n)throw Error(c(169));l?(e=dc(e,s,Mn),n.__reactInternalMemoizedMergedChildContext=e,Dt(Cs),Dt(xs),_t(xs,e)):Dt(Cs),_t(Cs,l)}var Ll=null,ra=!1,ho=!1;function mc(e){Ll===null?Ll=[e]:Ll.push(e)}function Zu(e){ra=!0,mc(e)}function Jl(){if(!ho&&Ll!==null){ho=!0;var e=0,s=We;try{var l=Ll;for(We=1;e<l.length;e++){var n=l[e];do n=n(!0);while(n!==null)}Ll=null,ra=!1}catch(r){throw Ll!==null&&(Ll=Ll.slice(e+1)),sl(ll,Jl),r}finally{We=s,ho=!1}}return null}var lr=[],nr=0,aa=null,oa=0,Ys=[],Gs=0,Ln=null,Dl=1,zl="";function Dn(e,s){lr[nr++]=oa,lr[nr++]=aa,aa=e,oa=s}function hc(e,s,l){Ys[Gs++]=Dl,Ys[Gs++]=zl,Ys[Gs++]=Ln,Ln=e;var n=Dl;e=zl;var r=32-S(n)-1;n&=~(1<<r),l+=1;var a=32-S(s)+r;if(30<a){var i=r-r%5;a=(n&(1<<i)-1).toString(32),n>>=i,r-=i,Dl=1<<32-S(s)+r|l<<r|n,zl=a+e}else Dl=1<<a|l<<r|n,zl=e}function xo(e){e.return!==null&&(Dn(e,1),hc(e,1,0))}function po(e){for(;e===aa;)aa=lr[--nr],lr[nr]=null,oa=lr[--nr],lr[nr]=null;for(;e===Ln;)Ln=Ys[--Gs],Ys[Gs]=null,zl=Ys[--Gs],Ys[Gs]=null,Dl=Ys[--Gs],Ys[Gs]=null}var Os=null,Is=null,Ot=!1,cl=null;function xc(e,s){var l=el(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=e,s=e.deletions,s===null?(e.deletions=[l],e.flags|=16):s.push(l)}function pc(e,s){switch(e.tag){case 5:var l=e.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,Os=e,Is=Yl(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,Os=e,Is=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ln!==null?{id:Dl,overflow:zl}:null,e.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=el(18,null,null,0),l.stateNode=s,l.return=e,e.child=l,Os=e,Is=null,!0):!1;default:return!1}}function fo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function go(e){if(Ot){var s=Is;if(s){var l=s;if(!pc(e,s)){if(fo(e))throw Error(c(418));s=Yl(l.nextSibling);var n=Os;s&&pc(e,s)?xc(n,l):(e.flags=e.flags&-4097|2,Ot=!1,Os=e)}}else{if(fo(e))throw Error(c(418));e.flags=e.flags&-4097|2,Ot=!1,Os=e}}}function fc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Os=e}function ia(e){if(e!==Os)return!1;if(!Ot)return fc(e),Ot=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!oo(e.type,e.memoizedProps)),s&&(s=Is)){if(fo(e))throw gc(),Error(c(418));for(;s;)xc(e,s),s=Yl(s.nextSibling)}if(fc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(s===0){Is=Yl(e.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}e=e.nextSibling}Is=null}}else Is=Os?Yl(e.stateNode.nextSibling):null;return!0}function gc(){for(var e=Is;e;)e=Yl(e.nextSibling)}function rr(){Is=Os=null,Ot=!1}function yo(e){cl===null?cl=[e]:cl.push(e)}var e0=X.ReactCurrentBatchConfig;function Pr(e,s,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(c(309));var n=l.stateNode}if(!n)throw Error(c(147,e));var r=n,a=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===a?s.ref:(s=function(i){var x=r.refs;i===null?delete x[a]:x[a]=i},s._stringRef=a,s)}if(typeof e!="string")throw Error(c(284));if(!l._owner)throw Error(c(290,e))}return e}function ca(e,s){throw e=Object.prototype.toString.call(s),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function yc(e){var s=e._init;return s(e._payload)}function wc(e){function s(C,v){if(e){var T=C.deletions;T===null?(C.deletions=[v],C.flags|=16):T.push(v)}}function l(C,v){if(!e)return null;for(;v!==null;)s(C,v),v=v.sibling;return null}function n(C,v){for(C=new Map;v!==null;)v.key!==null?C.set(v.key,v):C.set(v.index,v),v=v.sibling;return C}function r(C,v){return C=an(C,v),C.index=0,C.sibling=null,C}function a(C,v,T){return C.index=T,e?(T=C.alternate,T!==null?(T=T.index,T<v?(C.flags|=2,v):T):(C.flags|=2,v)):(C.flags|=1048576,v)}function i(C){return e&&C.alternate===null&&(C.flags|=2),C}function x(C,v,T,xe){return v===null||v.tag!==6?(v=ci(T,C.mode,xe),v.return=C,v):(v=r(v,T),v.return=C,v)}function f(C,v,T,xe){var Qe=T.type;return Qe===U?se(C,v,T.props.children,xe,T.key):v!==null&&(v.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Xe&&yc(Qe)===v.type)?(xe=r(v,T.props),xe.ref=Pr(C,v,T),xe.return=C,xe):(xe=La(T.type,T.key,T.props,null,C.mode,xe),xe.ref=Pr(C,v,T),xe.return=C,xe)}function M(C,v,T,xe){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=di(T,C.mode,xe),v.return=C,v):(v=r(v,T.children||[]),v.return=C,v)}function se(C,v,T,xe,Qe){return v===null||v.tag!==7?(v=Vn(T,C.mode,xe,Qe),v.return=C,v):(v=r(v,T),v.return=C,v)}function re(C,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ci(""+v,C.mode,T),v.return=C,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case J:return T=La(v.type,v.key,v.props,null,C.mode,T),T.ref=Pr(C,null,v),T.return=C,T;case oe:return v=di(v,C.mode,T),v.return=C,v;case Xe:var xe=v._init;return re(C,xe(v._payload),T)}if(qe(v)||O(v))return v=Vn(v,C.mode,T,null),v.return=C,v;ca(C,v)}return null}function ee(C,v,T,xe){var Qe=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return Qe!==null?null:x(C,v,""+T,xe);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case J:return T.key===Qe?f(C,v,T,xe):null;case oe:return T.key===Qe?M(C,v,T,xe):null;case Xe:return Qe=T._init,ee(C,v,Qe(T._payload),xe)}if(qe(T)||O(T))return Qe!==null?null:se(C,v,T,xe,null);ca(C,T)}return null}function Pe(C,v,T,xe,Qe){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return C=C.get(T)||null,x(v,C,""+xe,Qe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case J:return C=C.get(xe.key===null?T:xe.key)||null,f(v,C,xe,Qe);case oe:return C=C.get(xe.key===null?T:xe.key)||null,M(v,C,xe,Qe);case Xe:var et=xe._init;return Pe(C,v,T,et(xe._payload),Qe)}if(qe(xe)||O(xe))return C=C.get(T)||null,se(v,C,xe,Qe,null);ca(v,xe)}return null}function Ve(C,v,T,xe){for(var Qe=null,et=null,tt=v,st=v=0,rs=null;tt!==null&&st<T.length;st++){tt.index>st?(rs=tt,tt=null):rs=tt.sibling;var bt=ee(C,tt,T[st],xe);if(bt===null){tt===null&&(tt=rs);break}e&&tt&&bt.alternate===null&&s(C,tt),v=a(bt,v,st),et===null?Qe=bt:et.sibling=bt,et=bt,tt=rs}if(st===T.length)return l(C,tt),Ot&&Dn(C,st),Qe;if(tt===null){for(;st<T.length;st++)tt=re(C,T[st],xe),tt!==null&&(v=a(tt,v,st),et===null?Qe=tt:et.sibling=tt,et=tt);return Ot&&Dn(C,st),Qe}for(tt=n(C,tt);st<T.length;st++)rs=Pe(tt,C,st,T[st],xe),rs!==null&&(e&&rs.alternate!==null&&tt.delete(rs.key===null?st:rs.key),v=a(rs,v,st),et===null?Qe=rs:et.sibling=rs,et=rs);return e&&tt.forEach(function(on){return s(C,on)}),Ot&&Dn(C,st),Qe}function He(C,v,T,xe){var Qe=O(T);if(typeof Qe!="function")throw Error(c(150));if(T=Qe.call(T),T==null)throw Error(c(151));for(var et=Qe=null,tt=v,st=v=0,rs=null,bt=T.next();tt!==null&&!bt.done;st++,bt=T.next()){tt.index>st?(rs=tt,tt=null):rs=tt.sibling;var on=ee(C,tt,bt.value,xe);if(on===null){tt===null&&(tt=rs);break}e&&tt&&on.alternate===null&&s(C,tt),v=a(on,v,st),et===null?Qe=on:et.sibling=on,et=on,tt=rs}if(bt.done)return l(C,tt),Ot&&Dn(C,st),Qe;if(tt===null){for(;!bt.done;st++,bt=T.next())bt=re(C,bt.value,xe),bt!==null&&(v=a(bt,v,st),et===null?Qe=bt:et.sibling=bt,et=bt);return Ot&&Dn(C,st),Qe}for(tt=n(C,tt);!bt.done;st++,bt=T.next())bt=Pe(tt,C,st,bt.value,xe),bt!==null&&(e&&bt.alternate!==null&&tt.delete(bt.key===null?st:bt.key),v=a(bt,v,st),et===null?Qe=bt:et.sibling=bt,et=bt);return e&&tt.forEach(function(L0){return s(C,L0)}),Ot&&Dn(C,st),Qe}function Wt(C,v,T,xe){if(typeof T=="object"&&T!==null&&T.type===U&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case J:e:{for(var Qe=T.key,et=v;et!==null;){if(et.key===Qe){if(Qe=T.type,Qe===U){if(et.tag===7){l(C,et.sibling),v=r(et,T.props.children),v.return=C,C=v;break e}}else if(et.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Xe&&yc(Qe)===et.type){l(C,et.sibling),v=r(et,T.props),v.ref=Pr(C,et,T),v.return=C,C=v;break e}l(C,et);break}else s(C,et);et=et.sibling}T.type===U?(v=Vn(T.props.children,C.mode,xe,T.key),v.return=C,C=v):(xe=La(T.type,T.key,T.props,null,C.mode,xe),xe.ref=Pr(C,v,T),xe.return=C,C=xe)}return i(C);case oe:e:{for(et=T.key;v!==null;){if(v.key===et)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){l(C,v.sibling),v=r(v,T.children||[]),v.return=C,C=v;break e}else{l(C,v);break}else s(C,v);v=v.sibling}v=di(T,C.mode,xe),v.return=C,C=v}return i(C);case Xe:return et=T._init,Wt(C,v,et(T._payload),xe)}if(qe(T))return Ve(C,v,T,xe);if(O(T))return He(C,v,T,xe);ca(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(l(C,v.sibling),v=r(v,T),v.return=C,C=v):(l(C,v),v=ci(T,C.mode,xe),v.return=C,C=v),i(C)):l(C,v)}return Wt}var ar=wc(!0),bc=wc(!1),da=Gl(null),ua=null,or=null,wo=null;function bo(){wo=or=ua=null}function vo(e){var s=da.current;Dt(da),e._currentValue=s}function jo(e,s,l){for(;e!==null;){var n=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),e===l)break;e=e.return}}function ir(e,s){ua=e,wo=or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&s)!==0&&(Ts=!0),e.firstContext=null)}function Xs(e){var s=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:s,next:null},or===null){if(ua===null)throw Error(c(308));or=e,ua.dependencies={lanes:0,firstContext:e}}else or=or.next=e;return s}var zn=null;function No(e){zn===null?zn=[e]:zn.push(e)}function vc(e,s,l,n){var r=s.interleaved;return r===null?(l.next=l,No(s)):(l.next=r.next,r.next=l),s.interleaved=l,Ol(e,n)}function Ol(e,s){e.lanes|=s;var l=e.alternate;for(l!==null&&(l.lanes|=s),l=e,e=e.return;e!==null;)e.childLanes|=s,l=e.alternate,l!==null&&(l.childLanes|=s),l=e,e=e.return;return l.tag===3?l.stateNode:null}var Zl=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jc(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Il(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function en(e,s,l){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(yt&2)!==0){var r=n.pending;return r===null?s.next=s:(s.next=r.next,r.next=s),n.pending=s,Ol(e,l)}return r=n.interleaved,r===null?(s.next=s,No(n)):(s.next=r.next,r.next=s),n.interleaved=s,Ol(e,l)}function ma(e,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var n=s.lanes;n&=e.pendingLanes,l|=n,s.lanes=l,gt(e,l)}}function Nc(e,s){var l=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,l===n)){var r=null,a=null;if(l=l.firstBaseUpdate,l!==null){do{var i={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};a===null?r=a=i:a=a.next=i,l=l.next}while(l!==null);a===null?r=a=s:a=a.next=s}else r=a=s;l={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=s:e.next=s,l.lastBaseUpdate=s}function ha(e,s,l,n){var r=e.updateQueue;Zl=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,x=r.shared.pending;if(x!==null){r.shared.pending=null;var f=x,M=f.next;f.next=null,i===null?a=M:i.next=M,i=f;var se=e.alternate;se!==null&&(se=se.updateQueue,x=se.lastBaseUpdate,x!==i&&(x===null?se.firstBaseUpdate=M:x.next=M,se.lastBaseUpdate=f))}if(a!==null){var re=r.baseState;i=0,se=M=f=null,x=a;do{var ee=x.lane,Pe=x.eventTime;if((n&ee)===ee){se!==null&&(se=se.next={eventTime:Pe,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Ve=e,He=x;switch(ee=s,Pe=l,He.tag){case 1:if(Ve=He.payload,typeof Ve=="function"){re=Ve.call(Pe,re,ee);break e}re=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=He.payload,ee=typeof Ve=="function"?Ve.call(Pe,re,ee):Ve,ee==null)break e;re=W({},re,ee);break e;case 2:Zl=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,ee=r.effects,ee===null?r.effects=[x]:ee.push(x))}else Pe={eventTime:Pe,lane:ee,tag:x.tag,payload:x.payload,callback:x.callback,next:null},se===null?(M=se=Pe,f=re):se=se.next=Pe,i|=ee;if(x=x.next,x===null){if(x=r.shared.pending,x===null)break;ee=x,x=ee.next,ee.next=null,r.lastBaseUpdate=ee,r.shared.pending=null}}while(!0);if(se===null&&(f=re),r.baseState=f,r.firstBaseUpdate=M,r.lastBaseUpdate=se,s=r.shared.interleaved,s!==null){r=s;do i|=r.lane,r=r.next;while(r!==s)}else a===null&&(r.shared.lanes=0);Rn|=i,e.lanes=i,e.memoizedState=re}}function kc(e,s,l){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var n=e[s],r=n.callback;if(r!==null){if(n.callback=null,n=l,typeof r!="function")throw Error(c(191,r));r.call(n)}}}var $r={},jl=Gl($r),Mr=Gl($r),Lr=Gl($r);function On(e){if(e===$r)throw Error(c(174));return e}function So(e,s){switch(_t(Lr,s),_t(Mr,e),_t(jl,$r),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:D(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=D(s,e)}Dt(jl),_t(jl,s)}function cr(){Dt(jl),Dt(Mr),Dt(Lr)}function Sc(e){On(Lr.current);var s=On(jl.current),l=D(s,e.type);s!==l&&(_t(Mr,e),_t(jl,l))}function Co(e){Mr.current===e&&(Dt(jl),Dt(Mr))}var Ft=Gl(0);function xa(e){for(var s=e;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Eo=[];function To(){for(var e=0;e<Eo.length;e++)Eo[e]._workInProgressVersionPrimary=null;Eo.length=0}var pa=X.ReactCurrentDispatcher,_o=X.ReactCurrentBatchConfig,In=0,Bt=null,es=null,ls=null,fa=!1,Dr=!1,zr=0,t0=0;function ps(){throw Error(c(321))}function Po(e,s){if(s===null)return!1;for(var l=0;l<s.length&&l<e.length;l++)if(!il(e[l],s[l]))return!1;return!0}function $o(e,s,l,n,r,a){if(In=a,Bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,pa.current=e===null||e.memoizedState===null?r0:a0,e=l(n,r),Dr){a=0;do{if(Dr=!1,zr=0,25<=a)throw Error(c(301));a+=1,ls=es=null,s.updateQueue=null,pa.current=o0,e=l(n,r)}while(Dr)}if(pa.current=wa,s=es!==null&&es.next!==null,In=0,ls=es=Bt=null,fa=!1,s)throw Error(c(300));return e}function Mo(){var e=zr!==0;return zr=0,e}function Nl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ls===null?Bt.memoizedState=ls=e:ls=ls.next=e,ls}function Js(){if(es===null){var e=Bt.alternate;e=e!==null?e.memoizedState:null}else e=es.next;var s=ls===null?Bt.memoizedState:ls.next;if(s!==null)ls=s,es=e;else{if(e===null)throw Error(c(310));es=e,e={memoizedState:es.memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},ls===null?Bt.memoizedState=ls=e:ls=ls.next=e}return ls}function Or(e,s){return typeof s=="function"?s(e):s}function Lo(e){var s=Js(),l=s.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=e;var n=es,r=n.baseQueue,a=l.pending;if(a!==null){if(r!==null){var i=r.next;r.next=a.next,a.next=i}n.baseQueue=r=a,l.pending=null}if(r!==null){a=r.next,n=n.baseState;var x=i=null,f=null,M=a;do{var se=M.lane;if((In&se)===se)f!==null&&(f=f.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),n=M.hasEagerState?M.eagerState:e(n,M.action);else{var re={lane:se,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};f===null?(x=f=re,i=n):f=f.next=re,Bt.lanes|=se,Rn|=se}M=M.next}while(M!==null&&M!==a);f===null?i=n:f.next=x,il(n,s.memoizedState)||(Ts=!0),s.memoizedState=n,s.baseState=i,s.baseQueue=f,l.lastRenderedState=n}if(e=l.interleaved,e!==null){r=e;do a=r.lane,Bt.lanes|=a,Rn|=a,r=r.next;while(r!==e)}else r===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Do(e){var s=Js(),l=s.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=e;var n=l.dispatch,r=l.pending,a=s.memoizedState;if(r!==null){l.pending=null;var i=r=r.next;do a=e(a,i.action),i=i.next;while(i!==r);il(a,s.memoizedState)||(Ts=!0),s.memoizedState=a,s.baseQueue===null&&(s.baseState=a),l.lastRenderedState=a}return[a,n]}function Cc(){}function Ec(e,s){var l=Bt,n=Js(),r=s(),a=!il(n.memoizedState,r);if(a&&(n.memoizedState=r,Ts=!0),n=n.queue,zo(Pc.bind(null,l,n,e),[e]),n.getSnapshot!==s||a||ls!==null&&ls.memoizedState.tag&1){if(l.flags|=2048,Ir(9,_c.bind(null,l,n,r,s),void 0,null),ns===null)throw Error(c(349));(In&30)!==0||Tc(l,s,r)}return r}function Tc(e,s,l){e.flags|=16384,e={getSnapshot:s,value:l},s=Bt.updateQueue,s===null?(s={lastEffect:null,stores:null},Bt.updateQueue=s,s.stores=[e]):(l=s.stores,l===null?s.stores=[e]:l.push(e))}function _c(e,s,l,n){s.value=l,s.getSnapshot=n,$c(s)&&Mc(e)}function Pc(e,s,l){return l(function(){$c(s)&&Mc(e)})}function $c(e){var s=e.getSnapshot;e=e.value;try{var l=s();return!il(e,l)}catch{return!0}}function Mc(e){var s=Ol(e,1);s!==null&&hl(s,e,1,-1)}function Lc(e){var s=Nl();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:e},s.queue=e,e=e.dispatch=n0.bind(null,Bt,e),[s.memoizedState,e]}function Ir(e,s,l,n){return e={tag:e,create:s,destroy:l,deps:n,next:null},s=Bt.updateQueue,s===null?(s={lastEffect:null,stores:null},Bt.updateQueue=s,s.lastEffect=e.next=e):(l=s.lastEffect,l===null?s.lastEffect=e.next=e:(n=l.next,l.next=e,e.next=n,s.lastEffect=e)),e}function Dc(){return Js().memoizedState}function ga(e,s,l,n){var r=Nl();Bt.flags|=e,r.memoizedState=Ir(1|s,l,void 0,n===void 0?null:n)}function ya(e,s,l,n){var r=Js();n=n===void 0?null:n;var a=void 0;if(es!==null){var i=es.memoizedState;if(a=i.destroy,n!==null&&Po(n,i.deps)){r.memoizedState=Ir(s,l,a,n);return}}Bt.flags|=e,r.memoizedState=Ir(1|s,l,a,n)}function zc(e,s){return ga(8390656,8,e,s)}function zo(e,s){return ya(2048,8,e,s)}function Oc(e,s){return ya(4,2,e,s)}function Ic(e,s){return ya(4,4,e,s)}function Rc(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Ac(e,s,l){return l=l!=null?l.concat([e]):null,ya(4,4,Rc.bind(null,s,e),l)}function Oo(){}function Fc(e,s){var l=Js();s=s===void 0?null:s;var n=l.memoizedState;return n!==null&&s!==null&&Po(s,n[1])?n[0]:(l.memoizedState=[e,s],e)}function Bc(e,s){var l=Js();s=s===void 0?null:s;var n=l.memoizedState;return n!==null&&s!==null&&Po(s,n[1])?n[0]:(e=e(),l.memoizedState=[e,s],e)}function Vc(e,s,l){return(In&21)===0?(e.baseState&&(e.baseState=!1,Ts=!0),e.memoizedState=l):(il(l,s)||(l=kt(),Bt.lanes|=l,Rn|=l,e.baseState=!0),s)}function s0(e,s){var l=We;We=l!==0&&4>l?l:4,e(!0);var n=_o.transition;_o.transition={};try{e(!1),s()}finally{We=l,_o.transition=n}}function Hc(){return Js().memoizedState}function l0(e,s,l){var n=nn(e);if(l={lane:n,action:l,hasEagerState:!1,eagerState:null,next:null},Kc(e))Uc(s,l);else if(l=vc(e,s,l,n),l!==null){var r=vs();hl(l,e,n,r),Wc(l,s,n)}}function n0(e,s,l){var n=nn(e),r={lane:n,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kc(e))Uc(s,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=s.lastRenderedReducer,a!==null))try{var i=s.lastRenderedState,x=a(i,l);if(r.hasEagerState=!0,r.eagerState=x,il(x,i)){var f=s.interleaved;f===null?(r.next=r,No(s)):(r.next=f.next,f.next=r),s.interleaved=r;return}}catch{}finally{}l=vc(e,s,r,n),l!==null&&(r=vs(),hl(l,e,n,r),Wc(l,s,n))}}function Kc(e){var s=e.alternate;return e===Bt||s!==null&&s===Bt}function Uc(e,s){Dr=fa=!0;var l=e.pending;l===null?s.next=s:(s.next=l.next,l.next=s),e.pending=s}function Wc(e,s,l){if((l&4194240)!==0){var n=s.lanes;n&=e.pendingLanes,l|=n,s.lanes=l,gt(e,l)}}var wa={readContext:Xs,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},r0={readContext:Xs,useCallback:function(e,s){return Nl().memoizedState=[e,s===void 0?null:s],e},useContext:Xs,useEffect:zc,useImperativeHandle:function(e,s,l){return l=l!=null?l.concat([e]):null,ga(4194308,4,Rc.bind(null,s,e),l)},useLayoutEffect:function(e,s){return ga(4194308,4,e,s)},useInsertionEffect:function(e,s){return ga(4,2,e,s)},useMemo:function(e,s){var l=Nl();return s=s===void 0?null:s,e=e(),l.memoizedState=[e,s],e},useReducer:function(e,s,l){var n=Nl();return s=l!==void 0?l(s):s,n.memoizedState=n.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=l0.bind(null,Bt,e),[n.memoizedState,e]},useRef:function(e){var s=Nl();return e={current:e},s.memoizedState=e},useState:Lc,useDebugValue:Oo,useDeferredValue:function(e){return Nl().memoizedState=e},useTransition:function(){var e=Lc(!1),s=e[0];return e=s0.bind(null,e[1]),Nl().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,l){var n=Bt,r=Nl();if(Ot){if(l===void 0)throw Error(c(407));l=l()}else{if(l=s(),ns===null)throw Error(c(349));(In&30)!==0||Tc(n,s,l)}r.memoizedState=l;var a={value:l,getSnapshot:s};return r.queue=a,zc(Pc.bind(null,n,a,e),[e]),n.flags|=2048,Ir(9,_c.bind(null,n,a,l,s),void 0,null),l},useId:function(){var e=Nl(),s=ns.identifierPrefix;if(Ot){var l=zl,n=Dl;l=(n&~(1<<32-S(n)-1)).toString(32)+l,s=":"+s+"R"+l,l=zr++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=t0++,s=":"+s+"r"+l.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},a0={readContext:Xs,useCallback:Fc,useContext:Xs,useEffect:zo,useImperativeHandle:Ac,useInsertionEffect:Oc,useLayoutEffect:Ic,useMemo:Bc,useReducer:Lo,useRef:Dc,useState:function(){return Lo(Or)},useDebugValue:Oo,useDeferredValue:function(e){var s=Js();return Vc(s,es.memoizedState,e)},useTransition:function(){var e=Lo(Or)[0],s=Js().memoizedState;return[e,s]},useMutableSource:Cc,useSyncExternalStore:Ec,useId:Hc,unstable_isNewReconciler:!1},o0={readContext:Xs,useCallback:Fc,useContext:Xs,useEffect:zo,useImperativeHandle:Ac,useInsertionEffect:Oc,useLayoutEffect:Ic,useMemo:Bc,useReducer:Do,useRef:Dc,useState:function(){return Do(Or)},useDebugValue:Oo,useDeferredValue:function(e){var s=Js();return es===null?s.memoizedState=e:Vc(s,es.memoizedState,e)},useTransition:function(){var e=Do(Or)[0],s=Js().memoizedState;return[e,s]},useMutableSource:Cc,useSyncExternalStore:Ec,useId:Hc,unstable_isNewReconciler:!1};function dl(e,s){if(e&&e.defaultProps){s=W({},s),e=e.defaultProps;for(var l in e)s[l]===void 0&&(s[l]=e[l]);return s}return s}function Io(e,s,l,n){s=e.memoizedState,l=l(n,s),l=l==null?s:W({},s,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var ba={isMounted:function(e){return(e=e._reactInternals)?Zt(e)===e:!1},enqueueSetState:function(e,s,l){e=e._reactInternals;var n=vs(),r=nn(e),a=Il(n,r);a.payload=s,l!=null&&(a.callback=l),s=en(e,a,r),s!==null&&(hl(s,e,r,n),ma(s,e,r))},enqueueReplaceState:function(e,s,l){e=e._reactInternals;var n=vs(),r=nn(e),a=Il(n,r);a.tag=1,a.payload=s,l!=null&&(a.callback=l),s=en(e,a,r),s!==null&&(hl(s,e,r,n),ma(s,e,r))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var l=vs(),n=nn(e),r=Il(l,n);r.tag=2,s!=null&&(r.callback=s),s=en(e,r,n),s!==null&&(hl(s,e,n,l),ma(s,e,n))}};function Qc(e,s,l,n,r,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):s.prototype&&s.prototype.isPureReactComponent?!Nr(l,n)||!Nr(r,a):!0}function qc(e,s,l){var n=!1,r=Xl,a=s.contextType;return typeof a=="object"&&a!==null?a=Xs(a):(r=Es(s)?Mn:xs.current,n=s.contextTypes,a=(n=n!=null)?sr(e,r):Xl),s=new s(l,a),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ba,e.stateNode=s,s._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),s}function Yc(e,s,l,n){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,n),s.state!==e&&ba.enqueueReplaceState(s,s.state,null)}function Ro(e,s,l,n){var r=e.stateNode;r.props=l,r.state=e.memoizedState,r.refs={},ko(e);var a=s.contextType;typeof a=="object"&&a!==null?r.context=Xs(a):(a=Es(s)?Mn:xs.current,r.context=sr(e,a)),r.state=e.memoizedState,a=s.getDerivedStateFromProps,typeof a=="function"&&(Io(e,s,a,l),r.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(s=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),s!==r.state&&ba.enqueueReplaceState(r,r.state,null),ha(e,l,r,n),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function dr(e,s){try{var l="",n=s;do l+=me(n),n=n.return;while(n);var r=l}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:s,stack:r,digest:null}}function Ao(e,s,l){return{value:e,source:null,stack:l??null,digest:s??null}}function Fo(e,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var i0=typeof WeakMap=="function"?WeakMap:Map;function Gc(e,s,l){l=Il(-1,l),l.tag=3,l.payload={element:null};var n=s.value;return l.callback=function(){Ea||(Ea=!0,ti=n),Fo(e,s)},l}function Xc(e,s,l){l=Il(-1,l),l.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var r=s.value;l.payload=function(){return n(r)},l.callback=function(){Fo(e,s)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(l.callback=function(){Fo(e,s),typeof n!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),l}function Jc(e,s,l){var n=e.pingCache;if(n===null){n=e.pingCache=new i0;var r=new Set;n.set(s,r)}else r=n.get(s),r===void 0&&(r=new Set,n.set(s,r));r.has(l)||(r.add(l),e=j0.bind(null,e,s,l),s.then(e,e))}function Zc(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function ed(e,s,l,n,r){return(e.mode&1)===0?(e===s?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Il(-1,1),s.tag=2,en(l,s,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var c0=X.ReactCurrentOwner,Ts=!1;function bs(e,s,l,n){s.child=e===null?bc(s,null,l,n):ar(s,e.child,l,n)}function td(e,s,l,n,r){l=l.render;var a=s.ref;return ir(s,r),n=$o(e,s,l,n,a,r),l=Mo(),e!==null&&!Ts?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~r,Rl(e,s,r)):(Ot&&l&&xo(s),s.flags|=1,bs(e,s,n,r),s.child)}function sd(e,s,l,n,r){if(e===null){var a=l.type;return typeof a=="function"&&!ii(a)&&a.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=a,ld(e,s,a,n,r)):(e=La(l.type,null,n,s,s.mode,r),e.ref=s.ref,e.return=s,s.child=e)}if(a=e.child,(e.lanes&r)===0){var i=a.memoizedProps;if(l=l.compare,l=l!==null?l:Nr,l(i,n)&&e.ref===s.ref)return Rl(e,s,r)}return s.flags|=1,e=an(a,n),e.ref=s.ref,e.return=s,s.child=e}function ld(e,s,l,n,r){if(e!==null){var a=e.memoizedProps;if(Nr(a,n)&&e.ref===s.ref)if(Ts=!1,s.pendingProps=n=a,(e.lanes&r)!==0)(e.flags&131072)!==0&&(Ts=!0);else return s.lanes=e.lanes,Rl(e,s,r)}return Bo(e,s,l,n,r)}function nd(e,s,l){var n=s.pendingProps,r=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(mr,Rs),Rs|=l;else{if((l&1073741824)===0)return e=a!==null?a.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,_t(mr,Rs),Rs|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:l,_t(mr,Rs),Rs|=n}else a!==null?(n=a.baseLanes|l,s.memoizedState=null):n=l,_t(mr,Rs),Rs|=n;return bs(e,s,r,l),s.child}function rd(e,s){var l=s.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Bo(e,s,l,n,r){var a=Es(l)?Mn:xs.current;return a=sr(s,a),ir(s,r),l=$o(e,s,l,n,a,r),n=Mo(),e!==null&&!Ts?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~r,Rl(e,s,r)):(Ot&&n&&xo(s),s.flags|=1,bs(e,s,l,r),s.child)}function ad(e,s,l,n,r){if(Es(l)){var a=!0;na(s)}else a=!1;if(ir(s,r),s.stateNode===null)ja(e,s),qc(s,l,n),Ro(s,l,n,r),n=!0;else if(e===null){var i=s.stateNode,x=s.memoizedProps;i.props=x;var f=i.context,M=l.contextType;typeof M=="object"&&M!==null?M=Xs(M):(M=Es(l)?Mn:xs.current,M=sr(s,M));var se=l.getDerivedStateFromProps,re=typeof se=="function"||typeof i.getSnapshotBeforeUpdate=="function";re||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(x!==n||f!==M)&&Yc(s,i,n,M),Zl=!1;var ee=s.memoizedState;i.state=ee,ha(s,n,i,r),f=s.memoizedState,x!==n||ee!==f||Cs.current||Zl?(typeof se=="function"&&(Io(s,l,se,n),f=s.memoizedState),(x=Zl||Qc(s,l,x,n,ee,f,M))?(re||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=f),i.props=n,i.state=f,i.context=M,n=x):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{i=s.stateNode,jc(e,s),x=s.memoizedProps,M=s.type===s.elementType?x:dl(s.type,x),i.props=M,re=s.pendingProps,ee=i.context,f=l.contextType,typeof f=="object"&&f!==null?f=Xs(f):(f=Es(l)?Mn:xs.current,f=sr(s,f));var Pe=l.getDerivedStateFromProps;(se=typeof Pe=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(x!==re||ee!==f)&&Yc(s,i,n,f),Zl=!1,ee=s.memoizedState,i.state=ee,ha(s,n,i,r);var Ve=s.memoizedState;x!==re||ee!==Ve||Cs.current||Zl?(typeof Pe=="function"&&(Io(s,l,Pe,n),Ve=s.memoizedState),(M=Zl||Qc(s,l,M,n,ee,Ve,f)||!1)?(se||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,Ve,f),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,Ve,f)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||x===e.memoizedProps&&ee===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&ee===e.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=Ve),i.props=n,i.state=Ve,i.context=f,n=M):(typeof i.componentDidUpdate!="function"||x===e.memoizedProps&&ee===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&ee===e.memoizedState||(s.flags|=1024),n=!1)}return Vo(e,s,l,n,a,r)}function Vo(e,s,l,n,r,a){rd(e,s);var i=(s.flags&128)!==0;if(!n&&!i)return r&&uc(s,l,!1),Rl(e,s,a);n=s.stateNode,c0.current=s;var x=i&&typeof l.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,e!==null&&i?(s.child=ar(s,e.child,null,a),s.child=ar(s,null,x,a)):bs(e,s,x,a),s.memoizedState=n.state,r&&uc(s,l,!0),s.child}function od(e){var s=e.stateNode;s.pendingContext?cc(e,s.pendingContext,s.pendingContext!==s.context):s.context&&cc(e,s.context,!1),So(e,s.containerInfo)}function id(e,s,l,n,r){return rr(),yo(r),s.flags|=256,bs(e,s,l,n),s.child}var Ho={dehydrated:null,treeContext:null,retryLane:0};function Ko(e){return{baseLanes:e,cachePool:null,transitions:null}}function cd(e,s,l){var n=s.pendingProps,r=Ft.current,a=!1,i=(s.flags&128)!==0,x;if((x=i)||(x=e!==null&&e.memoizedState===null?!1:(r&2)!==0),x?(a=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),_t(Ft,r&1),e===null)return go(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((s.mode&1)===0?s.lanes=1:e.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(i=n.children,e=n.fallback,a?(n=s.mode,a=s.child,i={mode:"hidden",children:i},(n&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Da(i,n,0,null),e=Vn(e,n,l,null),a.return=s,e.return=s,a.sibling=e,s.child=a,s.child.memoizedState=Ko(l),s.memoizedState=Ho,e):Uo(s,i));if(r=e.memoizedState,r!==null&&(x=r.dehydrated,x!==null))return d0(e,s,i,n,x,r,l);if(a){a=n.fallback,i=s.mode,r=e.child,x=r.sibling;var f={mode:"hidden",children:n.children};return(i&1)===0&&s.child!==r?(n=s.child,n.childLanes=0,n.pendingProps=f,s.deletions=null):(n=an(r,f),n.subtreeFlags=r.subtreeFlags&14680064),x!==null?a=an(x,a):(a=Vn(a,i,l,null),a.flags|=2),a.return=s,n.return=s,n.sibling=a,s.child=n,n=a,a=s.child,i=e.child.memoizedState,i=i===null?Ko(l):{baseLanes:i.baseLanes|l,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~l,s.memoizedState=Ho,n}return a=e.child,e=a.sibling,n=an(a,{mode:"visible",children:n.children}),(s.mode&1)===0&&(n.lanes=l),n.return=s,n.sibling=null,e!==null&&(l=s.deletions,l===null?(s.deletions=[e],s.flags|=16):l.push(e)),s.child=n,s.memoizedState=null,n}function Uo(e,s){return s=Da({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function va(e,s,l,n){return n!==null&&yo(n),ar(s,e.child,null,l),e=Uo(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function d0(e,s,l,n,r,a,i){if(l)return s.flags&256?(s.flags&=-257,n=Ao(Error(c(422))),va(e,s,i,n)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(a=n.fallback,r=s.mode,n=Da({mode:"visible",children:n.children},r,0,null),a=Vn(a,r,i,null),a.flags|=2,n.return=s,a.return=s,n.sibling=a,s.child=n,(s.mode&1)!==0&&ar(s,e.child,null,i),s.child.memoizedState=Ko(i),s.memoizedState=Ho,a);if((s.mode&1)===0)return va(e,s,i,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var x=n.dgst;return n=x,a=Error(c(419)),n=Ao(a,n,void 0),va(e,s,i,n)}if(x=(i&e.childLanes)!==0,Ts||x){if(n=ns,n!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=(r&(n.suspendedLanes|i))!==0?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Ol(e,r),hl(n,e,r,-1))}return oi(),n=Ao(Error(c(421))),va(e,s,i,n)}return r.data==="$?"?(s.flags|=128,s.child=e.child,s=N0.bind(null,e),r._reactRetry=s,null):(e=a.treeContext,Is=Yl(r.nextSibling),Os=s,Ot=!0,cl=null,e!==null&&(Ys[Gs++]=Dl,Ys[Gs++]=zl,Ys[Gs++]=Ln,Dl=e.id,zl=e.overflow,Ln=s),s=Uo(s,n.children),s.flags|=4096,s)}function dd(e,s,l){e.lanes|=s;var n=e.alternate;n!==null&&(n.lanes|=s),jo(e.return,s,l)}function Wo(e,s,l,n,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:l,tailMode:r}:(a.isBackwards=s,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=l,a.tailMode=r)}function ud(e,s,l){var n=s.pendingProps,r=n.revealOrder,a=n.tail;if(bs(e,s,n.children,l),n=Ft.current,(n&2)!==0)n=n&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dd(e,l,s);else if(e.tag===19)dd(e,l,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_t(Ft,n),(s.mode&1)===0)s.memoizedState=null;else switch(r){case"forwards":for(l=s.child,r=null;l!==null;)e=l.alternate,e!==null&&xa(e)===null&&(r=l),l=l.sibling;l=r,l===null?(r=s.child,s.child=null):(r=l.sibling,l.sibling=null),Wo(s,!1,r,l,a);break;case"backwards":for(l=null,r=s.child,s.child=null;r!==null;){if(e=r.alternate,e!==null&&xa(e)===null){s.child=r;break}e=r.sibling,r.sibling=l,l=r,r=e}Wo(s,!0,l,null,a);break;case"together":Wo(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ja(e,s){(s.mode&1)===0&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Rl(e,s,l){if(e!==null&&(s.dependencies=e.dependencies),Rn|=s.lanes,(l&s.childLanes)===0)return null;if(e!==null&&s.child!==e.child)throw Error(c(153));if(s.child!==null){for(e=s.child,l=an(e,e.pendingProps),s.child=l,l.return=s;e.sibling!==null;)e=e.sibling,l=l.sibling=an(e,e.pendingProps),l.return=s;l.sibling=null}return s.child}function u0(e,s,l){switch(s.tag){case 3:od(s),rr();break;case 5:Sc(s);break;case 1:Es(s.type)&&na(s);break;case 4:So(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,r=s.memoizedProps.value;_t(da,n._currentValue),n._currentValue=r;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(_t(Ft,Ft.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?cd(e,s,l):(_t(Ft,Ft.current&1),e=Rl(e,s,l),e!==null?e.sibling:null);_t(Ft,Ft.current&1);break;case 19:if(n=(l&s.childLanes)!==0,(e.flags&128)!==0){if(n)return ud(e,s,l);s.flags|=128}if(r=s.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),_t(Ft,Ft.current),n)break;return null;case 22:case 23:return s.lanes=0,nd(e,s,l)}return Rl(e,s,l)}var md,Qo,hd,xd;md=function(e,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Qo=function(){},hd=function(e,s,l,n){var r=e.memoizedProps;if(r!==n){e=s.stateNode,On(jl.current);var a=null;switch(l){case"input":r=w(e,r),n=w(e,n),a=[];break;case"select":r=W({},r,{value:void 0}),n=W({},n,{value:void 0}),a=[];break;case"textarea":r=Ue(e,r),n=Ue(e,n),a=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ta)}Vt(l,n);var i;l=null;for(M in r)if(!n.hasOwnProperty(M)&&r.hasOwnProperty(M)&&r[M]!=null)if(M==="style"){var x=r[M];for(i in x)x.hasOwnProperty(i)&&(l||(l={}),l[i]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(j.hasOwnProperty(M)?a||(a=[]):(a=a||[]).push(M,null));for(M in n){var f=n[M];if(x=r!=null?r[M]:void 0,n.hasOwnProperty(M)&&f!==x&&(f!=null||x!=null))if(M==="style")if(x){for(i in x)!x.hasOwnProperty(i)||f&&f.hasOwnProperty(i)||(l||(l={}),l[i]="");for(i in f)f.hasOwnProperty(i)&&x[i]!==f[i]&&(l||(l={}),l[i]=f[i])}else l||(a||(a=[]),a.push(M,l)),l=f;else M==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,x=x?x.__html:void 0,f!=null&&x!==f&&(a=a||[]).push(M,f)):M==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(M,""+f):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(j.hasOwnProperty(M)?(f!=null&&M==="onScroll"&&Lt("scroll",e),a||x===f||(a=[])):(a=a||[]).push(M,f))}l&&(a=a||[]).push("style",l);var M=a;(s.updateQueue=M)&&(s.flags|=4)}},xd=function(e,s,l,n){l!==n&&(s.flags|=4)};function Rr(e,s){if(!Ot)switch(e.tailMode){case"hidden":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var n=null;l!==null;)l.alternate!==null&&(n=l),l=l.sibling;n===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fs(e){var s=e.alternate!==null&&e.alternate.child===e.child,l=0,n=0;if(s)for(var r=e.child;r!==null;)l|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)l|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=l,s}function m0(e,s,l){var n=s.pendingProps;switch(po(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fs(s),null;case 1:return Es(s.type)&&la(),fs(s),null;case 3:return n=s.stateNode,cr(),Dt(Cs),Dt(xs),To(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ia(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,cl!==null&&(ni(cl),cl=null))),Qo(e,s),fs(s),null;case 5:Co(s);var r=On(Lr.current);if(l=s.type,e!==null&&s.stateNode!=null)hd(e,s,l,n,r),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(c(166));return fs(s),null}if(e=On(jl.current),ia(s)){n=s.stateNode,l=s.type;var a=s.memoizedProps;switch(n[vl]=s,n[Tr]=a,e=(s.mode&1)!==0,l){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(r=0;r<Sr.length;r++)Lt(Sr[r],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":_(n,a),Lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Lt("invalid",n);break;case"textarea":ct(n,a),Lt("invalid",n)}Vt(l,a),r=null;for(var i in a)if(a.hasOwnProperty(i)){var x=a[i];i==="children"?typeof x=="string"?n.textContent!==x&&(a.suppressHydrationWarning!==!0&&ea(n.textContent,x,e),r=["children",x]):typeof x=="number"&&n.textContent!==""+x&&(a.suppressHydrationWarning!==!0&&ea(n.textContent,x,e),r=["children",""+x]):j.hasOwnProperty(i)&&x!=null&&i==="onScroll"&&Lt("scroll",n)}switch(l){case"input":P(n),_e(n,a,!0);break;case"textarea":P(n),ue(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ta)}n=r,s.updateQueue=n,n!==null&&(s.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=h(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(l,{is:n.is}):(e=i.createElement(l),l==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,l),e[vl]=s,e[Tr]=n,md(e,s,!1,!1),s.stateNode=e;e:{switch(i=$t(l,n),l){case"dialog":Lt("cancel",e),Lt("close",e),r=n;break;case"iframe":case"object":case"embed":Lt("load",e),r=n;break;case"video":case"audio":for(r=0;r<Sr.length;r++)Lt(Sr[r],e);r=n;break;case"source":Lt("error",e),r=n;break;case"img":case"image":case"link":Lt("error",e),Lt("load",e),r=n;break;case"details":Lt("toggle",e),r=n;break;case"input":_(e,n),r=w(e,n),Lt("invalid",e);break;case"option":r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=W({},n,{value:void 0}),Lt("invalid",e);break;case"textarea":ct(e,n),r=Ue(e,n),Lt("invalid",e);break;default:r=n}Vt(l,r),x=r;for(a in x)if(x.hasOwnProperty(a)){var f=x[a];a==="style"?Fe(e,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&F(e,f)):a==="children"?typeof f=="string"?(l!=="textarea"||f!=="")&&G(e,f):typeof f=="number"&&G(e,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(j.hasOwnProperty(a)?f!=null&&a==="onScroll"&&Lt("scroll",e):f!=null&&z(e,a,f,i))}switch(l){case"input":P(e),_e(e,n,!1);break;case"textarea":P(e),ue(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ye(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Te(e,!!n.multiple,a,!1):n.defaultValue!=null&&Te(e,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=ta)}switch(l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return fs(s),null;case 6:if(e&&s.stateNode!=null)xd(e,s,e.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(c(166));if(l=On(Lr.current),On(jl.current),ia(s)){if(n=s.stateNode,l=s.memoizedProps,n[vl]=s,(a=n.nodeValue!==l)&&(e=Os,e!==null))switch(e.tag){case 3:ea(n.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ea(n.nodeValue,l,(e.mode&1)!==0)}a&&(s.flags|=4)}else n=(l.nodeType===9?l:l.ownerDocument).createTextNode(n),n[vl]=s,s.stateNode=n}return fs(s),null;case 13:if(Dt(Ft),n=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ot&&Is!==null&&(s.mode&1)!==0&&(s.flags&128)===0)gc(),rr(),s.flags|=98560,a=!1;else if(a=ia(s),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(c(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(c(317));a[vl]=s}else rr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;fs(s),a=!1}else cl!==null&&(ni(cl),cl=null),a=!0;if(!a)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(s.child.flags|=8192,(s.mode&1)!==0&&(e===null||(Ft.current&1)!==0?ts===0&&(ts=3):oi())),s.updateQueue!==null&&(s.flags|=4),fs(s),null);case 4:return cr(),Qo(e,s),e===null&&Cr(s.stateNode.containerInfo),fs(s),null;case 10:return vo(s.type._context),fs(s),null;case 17:return Es(s.type)&&la(),fs(s),null;case 19:if(Dt(Ft),a=s.memoizedState,a===null)return fs(s),null;if(n=(s.flags&128)!==0,i=a.rendering,i===null)if(n)Rr(a,!1);else{if(ts!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(i=xa(e),i!==null){for(s.flags|=128,Rr(a,!1),n=i.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=l,l=s.child;l!==null;)a=l,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return _t(Ft,Ft.current&1|2),s.child}e=e.sibling}a.tail!==null&&Et()>hr&&(s.flags|=128,n=!0,Rr(a,!1),s.lanes=4194304)}else{if(!n)if(e=xa(i),e!==null){if(s.flags|=128,n=!0,l=e.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Rr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ot)return fs(s),null}else 2*Et()-a.renderingStartTime>hr&&l!==1073741824&&(s.flags|=128,n=!0,Rr(a,!1),s.lanes=4194304);a.isBackwards?(i.sibling=s.child,s.child=i):(l=a.last,l!==null?l.sibling=i:s.child=i,a.last=i)}return a.tail!==null?(s=a.tail,a.rendering=s,a.tail=s.sibling,a.renderingStartTime=Et(),s.sibling=null,l=Ft.current,_t(Ft,n?l&1|2:l&1),s):(fs(s),null);case 22:case 23:return ai(),n=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(s.flags|=8192),n&&(s.mode&1)!==0?(Rs&1073741824)!==0&&(fs(s),s.subtreeFlags&6&&(s.flags|=8192)):fs(s),null;case 24:return null;case 25:return null}throw Error(c(156,s.tag))}function h0(e,s){switch(po(s),s.tag){case 1:return Es(s.type)&&la(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return cr(),Dt(Cs),Dt(xs),To(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 5:return Co(s),null;case 13:if(Dt(Ft),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(c(340));rr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return Dt(Ft),null;case 4:return cr(),null;case 10:return vo(s.type._context),null;case 22:case 23:return ai(),null;case 24:return null;default:return null}}var Na=!1,gs=!1,x0=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function ur(e,s){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(n){Ut(e,s,n)}else l.current=null}function qo(e,s,l){try{l()}catch(n){Ut(e,s,n)}}var pd=!1;function p0(e,s){if(ro=yl,e=Qi(),Xa(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var n=l.getSelection&&l.getSelection();if(n&&n.rangeCount!==0){l=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{l.nodeType,a.nodeType}catch{l=null;break e}var i=0,x=-1,f=-1,M=0,se=0,re=e,ee=null;t:for(;;){for(var Pe;re!==l||r!==0&&re.nodeType!==3||(x=i+r),re!==a||n!==0&&re.nodeType!==3||(f=i+n),re.nodeType===3&&(i+=re.nodeValue.length),(Pe=re.firstChild)!==null;)ee=re,re=Pe;for(;;){if(re===e)break t;if(ee===l&&++M===r&&(x=i),ee===a&&++se===n&&(f=i),(Pe=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=Pe}l=x===-1||f===-1?null:{start:x,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;for(ao={focusedElem:e,selectionRange:l},yl=!1,Oe=s;Oe!==null;)if(s=Oe,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Oe=e;else for(;Oe!==null;){s=Oe;try{var Ve=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var He=Ve.memoizedProps,Wt=Ve.memoizedState,C=s.stateNode,v=C.getSnapshotBeforeUpdate(s.elementType===s.type?He:dl(s.type,He),Wt);C.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=s.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(xe){Ut(s,s.return,xe)}if(e=s.sibling,e!==null){e.return=s.return,Oe=e;break}Oe=s.return}return Ve=pd,pd=!1,Ve}function Ar(e,s,l){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&qo(s,l,a)}r=r.next}while(r!==n)}}function ka(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var n=l.create;l.destroy=n()}l=l.next}while(l!==s)}}function Yo(e){var s=e.ref;if(s!==null){var l=e.stateNode;switch(e.tag){case 5:e=l;break;default:e=l}typeof s=="function"?s(e):s.current=e}}function fd(e){var s=e.alternate;s!==null&&(e.alternate=null,fd(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[vl],delete s[Tr],delete s[uo],delete s[Xu],delete s[Ju])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gd(e){return e.tag===5||e.tag===3||e.tag===4}function yd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Go(e,s,l){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(e,s):l.insertBefore(e,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(e,l)):(s=l,s.appendChild(e)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ta));else if(n!==4&&(e=e.child,e!==null))for(Go(e,s,l),e=e.sibling;e!==null;)Go(e,s,l),e=e.sibling}function Xo(e,s,l){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?l.insertBefore(e,s):l.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xo(e,s,l),e=e.sibling;e!==null;)Xo(e,s,l),e=e.sibling}var is=null,ul=!1;function tn(e,s,l){for(l=l.child;l!==null;)wd(e,s,l),l=l.sibling}function wd(e,s,l){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Qt,l)}catch{}switch(l.tag){case 5:gs||ur(l,s);case 6:var n=is,r=ul;is=null,tn(e,s,l),is=n,ul=r,is!==null&&(ul?(e=is,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):is.removeChild(l.stateNode));break;case 18:is!==null&&(ul?(e=is,l=l.stateNode,e.nodeType===8?co(e.parentNode,l):e.nodeType===1&&co(e,l),ks(e)):co(is,l.stateNode));break;case 4:n=is,r=ul,is=l.stateNode.containerInfo,ul=!0,tn(e,s,l),is=n,ul=r;break;case 0:case 11:case 14:case 15:if(!gs&&(n=l.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var a=r,i=a.destroy;a=a.tag,i!==void 0&&((a&2)!==0||(a&4)!==0)&&qo(l,s,i),r=r.next}while(r!==n)}tn(e,s,l);break;case 1:if(!gs&&(ur(l,s),n=l.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=l.memoizedProps,n.state=l.memoizedState,n.componentWillUnmount()}catch(x){Ut(l,s,x)}tn(e,s,l);break;case 21:tn(e,s,l);break;case 22:l.mode&1?(gs=(n=gs)||l.memoizedState!==null,tn(e,s,l),gs=n):tn(e,s,l);break;default:tn(e,s,l)}}function bd(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new x0),s.forEach(function(n){var r=k0.bind(null,e,n);l.has(n)||(l.add(n),n.then(r,r))})}}function ml(e,s){var l=s.deletions;if(l!==null)for(var n=0;n<l.length;n++){var r=l[n];try{var a=e,i=s,x=i;e:for(;x!==null;){switch(x.tag){case 5:is=x.stateNode,ul=!1;break e;case 3:is=x.stateNode.containerInfo,ul=!0;break e;case 4:is=x.stateNode.containerInfo,ul=!0;break e}x=x.return}if(is===null)throw Error(c(160));wd(a,i,r),is=null,ul=!1;var f=r.alternate;f!==null&&(f.return=null),r.return=null}catch(M){Ut(r,s,M)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)vd(s,e),s=s.sibling}function vd(e,s){var l=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(s,e),kl(e),n&4){try{Ar(3,e,e.return),ka(3,e)}catch(He){Ut(e,e.return,He)}try{Ar(5,e,e.return)}catch(He){Ut(e,e.return,He)}}break;case 1:ml(s,e),kl(e),n&512&&l!==null&&ur(l,l.return);break;case 5:if(ml(s,e),kl(e),n&512&&l!==null&&ur(l,l.return),e.flags&32){var r=e.stateNode;try{G(r,"")}catch(He){Ut(e,e.return,He)}}if(n&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,i=l!==null?l.memoizedProps:a,x=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{x==="input"&&a.type==="radio"&&a.name!=null&&K(r,a),$t(x,i);var M=$t(x,a);for(i=0;i<f.length;i+=2){var se=f[i],re=f[i+1];se==="style"?Fe(r,re):se==="dangerouslySetInnerHTML"?F(r,re):se==="children"?G(r,re):z(r,se,re,M)}switch(x){case"input":A(r,a);break;case"textarea":g(r,a);break;case"select":var ee=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var Pe=a.value;Pe!=null?Te(r,!!a.multiple,Pe,!1):ee!==!!a.multiple&&(a.defaultValue!=null?Te(r,!!a.multiple,a.defaultValue,!0):Te(r,!!a.multiple,a.multiple?[]:"",!1))}r[Tr]=a}catch(He){Ut(e,e.return,He)}}break;case 6:if(ml(s,e),kl(e),n&4){if(e.stateNode===null)throw Error(c(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(He){Ut(e,e.return,He)}}break;case 3:if(ml(s,e),kl(e),n&4&&l!==null&&l.memoizedState.isDehydrated)try{ks(s.containerInfo)}catch(He){Ut(e,e.return,He)}break;case 4:ml(s,e),kl(e);break;case 13:ml(s,e),kl(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(ei=Et())),n&4&&bd(e);break;case 22:if(se=l!==null&&l.memoizedState!==null,e.mode&1?(gs=(M=gs)||se,ml(s,e),gs=M):ml(s,e),kl(e),n&8192){if(M=e.memoizedState!==null,(e.stateNode.isHidden=M)&&!se&&(e.mode&1)!==0)for(Oe=e,se=e.child;se!==null;){for(re=Oe=se;Oe!==null;){switch(ee=Oe,Pe=ee.child,ee.tag){case 0:case 11:case 14:case 15:Ar(4,ee,ee.return);break;case 1:ur(ee,ee.return);var Ve=ee.stateNode;if(typeof Ve.componentWillUnmount=="function"){n=ee,l=ee.return;try{s=n,Ve.props=s.memoizedProps,Ve.state=s.memoizedState,Ve.componentWillUnmount()}catch(He){Ut(n,l,He)}}break;case 5:ur(ee,ee.return);break;case 22:if(ee.memoizedState!==null){kd(re);continue}}Pe!==null?(Pe.return=ee,Oe=Pe):kd(re)}se=se.sibling}e:for(se=null,re=e;;){if(re.tag===5){if(se===null){se=re;try{r=re.stateNode,M?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(x=re.stateNode,f=re.memoizedProps.style,i=f!=null&&f.hasOwnProperty("display")?f.display:null,x.style.display=mt("display",i))}catch(He){Ut(e,e.return,He)}}}else if(re.tag===6){if(se===null)try{re.stateNode.nodeValue=M?"":re.memoizedProps}catch(He){Ut(e,e.return,He)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===e)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===e)break e;for(;re.sibling===null;){if(re.return===null||re.return===e)break e;se===re&&(se=null),re=re.return}se===re&&(se=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:ml(s,e),kl(e),n&4&&bd(e);break;case 21:break;default:ml(s,e),kl(e)}}function kl(e){var s=e.flags;if(s&2){try{e:{for(var l=e.return;l!==null;){if(gd(l)){var n=l;break e}l=l.return}throw Error(c(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(G(r,""),n.flags&=-33);var a=yd(e);Xo(e,a,r);break;case 3:case 4:var i=n.stateNode.containerInfo,x=yd(e);Go(e,x,i);break;default:throw Error(c(161))}}catch(f){Ut(e,e.return,f)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function f0(e,s,l){Oe=e,jd(e)}function jd(e,s,l){for(var n=(e.mode&1)!==0;Oe!==null;){var r=Oe,a=r.child;if(r.tag===22&&n){var i=r.memoizedState!==null||Na;if(!i){var x=r.alternate,f=x!==null&&x.memoizedState!==null||gs;x=Na;var M=gs;if(Na=i,(gs=f)&&!M)for(Oe=r;Oe!==null;)i=Oe,f=i.child,i.tag===22&&i.memoizedState!==null?Sd(r):f!==null?(f.return=i,Oe=f):Sd(r);for(;a!==null;)Oe=a,jd(a),a=a.sibling;Oe=r,Na=x,gs=M}Nd(e)}else(r.subtreeFlags&8772)!==0&&a!==null?(a.return=r,Oe=a):Nd(e)}}function Nd(e){for(;Oe!==null;){var s=Oe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:gs||ka(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!gs)if(l===null)n.componentDidMount();else{var r=s.elementType===s.type?l.memoizedProps:dl(s.type,l.memoizedProps);n.componentDidUpdate(r,l.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=s.updateQueue;a!==null&&kc(s,a,n);break;case 3:var i=s.updateQueue;if(i!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}kc(s,i,l)}break;case 5:var x=s.stateNode;if(l===null&&s.flags&4){l=x;var f=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&l.focus();break;case"img":f.src&&(l.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var M=s.alternate;if(M!==null){var se=M.memoizedState;if(se!==null){var re=se.dehydrated;re!==null&&ks(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}gs||s.flags&512&&Yo(s)}catch(ee){Ut(s,s.return,ee)}}if(s===e){Oe=null;break}if(l=s.sibling,l!==null){l.return=s.return,Oe=l;break}Oe=s.return}}function kd(e){for(;Oe!==null;){var s=Oe;if(s===e){Oe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Oe=l;break}Oe=s.return}}function Sd(e){for(;Oe!==null;){var s=Oe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ka(4,s)}catch(f){Ut(s,l,f)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var r=s.return;try{n.componentDidMount()}catch(f){Ut(s,r,f)}}var a=s.return;try{Yo(s)}catch(f){Ut(s,a,f)}break;case 5:var i=s.return;try{Yo(s)}catch(f){Ut(s,i,f)}}}catch(f){Ut(s,s.return,f)}if(s===e){Oe=null;break}var x=s.sibling;if(x!==null){x.return=s.return,Oe=x;break}Oe=s.return}}var g0=Math.ceil,Sa=X.ReactCurrentDispatcher,Jo=X.ReactCurrentOwner,Zs=X.ReactCurrentBatchConfig,yt=0,ns=null,Gt=null,cs=0,Rs=0,mr=Gl(0),ts=0,Fr=null,Rn=0,Ca=0,Zo=0,Br=null,_s=null,ei=0,hr=1/0,Al=null,Ea=!1,ti=null,sn=null,Ta=!1,ln=null,_a=0,Vr=0,si=null,Pa=-1,$a=0;function vs(){return(yt&6)!==0?Et():Pa!==-1?Pa:Pa=Et()}function nn(e){return(e.mode&1)===0?1:(yt&2)!==0&&cs!==0?cs&-cs:e0.transition!==null?($a===0&&($a=kt()),$a):(e=We,e!==0||(e=window.event,e=e===void 0?16:Ss(e.type)),e)}function hl(e,s,l,n){if(50<Vr)throw Vr=0,si=null,Error(c(185));lt(e,l,n),((yt&2)===0||e!==ns)&&(e===ns&&((yt&2)===0&&(Ca|=l),ts===4&&rn(e,cs)),Ps(e,n),l===1&&yt===0&&(s.mode&1)===0&&(hr=Et()+500,ra&&Jl()))}function Ps(e,s){var l=e.callbackNode;xl(e,s);var n=Tt(e,e===ns?cs:0);if(n===0)l!==null&&Bl(l),e.callbackNode=null,e.callbackPriority=0;else if(s=n&-n,e.callbackPriority!==s){if(l!=null&&Bl(l),s===1)e.tag===0?Zu(Ed.bind(null,e)):mc(Ed.bind(null,e)),Yu(function(){(yt&6)===0&&Jl()}),l=null;else{switch(nl(n)){case 1:l=ll;break;case 4:l=Ls;break;case 16:l=Hl;break;case 536870912:l=Ws;break;default:l=Hl}l=zd(l,Cd.bind(null,e))}e.callbackPriority=s,e.callbackNode=l}}function Cd(e,s){if(Pa=-1,$a=0,(yt&6)!==0)throw Error(c(327));var l=e.callbackNode;if(xr()&&e.callbackNode!==l)return null;var n=Tt(e,e===ns?cs:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||s)s=Ma(e,n);else{s=n;var r=yt;yt|=2;var a=_d();(ns!==e||cs!==s)&&(Al=null,hr=Et()+500,Fn(e,s));do try{b0();break}catch(x){Td(e,x)}while(!0);bo(),Sa.current=a,yt=r,Gt!==null?s=0:(ns=null,cs=0,s=ts)}if(s!==0){if(s===2&&(r=os(e),r!==0&&(n=r,s=li(e,r))),s===1)throw l=Fr,Fn(e,0),rn(e,n),Ps(e,Et()),l;if(s===6)rn(e,n);else{if(r=e.current.alternate,(n&30)===0&&!y0(r)&&(s=Ma(e,n),s===2&&(a=os(e),a!==0&&(n=a,s=li(e,a))),s===1))throw l=Fr,Fn(e,0),rn(e,n),Ps(e,Et()),l;switch(e.finishedWork=r,e.finishedLanes=n,s){case 0:case 1:throw Error(c(345));case 2:Bn(e,_s,Al);break;case 3:if(rn(e,n),(n&130023424)===n&&(s=ei+500-Et(),10<s)){if(Tt(e,0)!==0)break;if(r=e.suspendedLanes,(r&n)!==n){vs(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=io(Bn.bind(null,e,_s,Al),s);break}Bn(e,_s,Al);break;case 4:if(rn(e,n),(n&4194240)===n)break;for(s=e.eventTimes,r=-1;0<n;){var i=31-S(n);a=1<<i,i=s[i],i>r&&(r=i),n&=~a}if(n=r,n=Et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*g0(n/1960))-n,10<n){e.timeoutHandle=io(Bn.bind(null,e,_s,Al),n);break}Bn(e,_s,Al);break;case 5:Bn(e,_s,Al);break;default:throw Error(c(329))}}}return Ps(e,Et()),e.callbackNode===l?Cd.bind(null,e):null}function li(e,s){var l=Br;return e.current.memoizedState.isDehydrated&&(Fn(e,s).flags|=256),e=Ma(e,s),e!==2&&(s=_s,_s=l,s!==null&&ni(s)),e}function ni(e){_s===null?_s=e:_s.push.apply(_s,e)}function y0(e){for(var s=e;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var n=0;n<l.length;n++){var r=l[n],a=r.getSnapshot;r=r.value;try{if(!il(a(),r))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rn(e,s){for(s&=~Zo,s&=~Ca,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var l=31-S(s),n=1<<l;e[l]=-1,s&=~n}}function Ed(e){if((yt&6)!==0)throw Error(c(327));xr();var s=Tt(e,0);if((s&1)===0)return Ps(e,Et()),null;var l=Ma(e,s);if(e.tag!==0&&l===2){var n=os(e);n!==0&&(s=n,l=li(e,n))}if(l===1)throw l=Fr,Fn(e,0),rn(e,s),Ps(e,Et()),l;if(l===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Bn(e,_s,Al),Ps(e,Et()),null}function ri(e,s){var l=yt;yt|=1;try{return e(s)}finally{yt=l,yt===0&&(hr=Et()+500,ra&&Jl())}}function An(e){ln!==null&&ln.tag===0&&(yt&6)===0&&xr();var s=yt;yt|=1;var l=Zs.transition,n=We;try{if(Zs.transition=null,We=1,e)return e()}finally{We=n,Zs.transition=l,yt=s,(yt&6)===0&&Jl()}}function ai(){Rs=mr.current,Dt(mr)}function Fn(e,s){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,qu(l)),Gt!==null)for(l=Gt.return;l!==null;){var n=l;switch(po(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&la();break;case 3:cr(),Dt(Cs),Dt(xs),To();break;case 5:Co(n);break;case 4:cr();break;case 13:Dt(Ft);break;case 19:Dt(Ft);break;case 10:vo(n.type._context);break;case 22:case 23:ai()}l=l.return}if(ns=e,Gt=e=an(e.current,null),cs=Rs=s,ts=0,Fr=null,Zo=Ca=Rn=0,_s=Br=null,zn!==null){for(s=0;s<zn.length;s++)if(l=zn[s],n=l.interleaved,n!==null){l.interleaved=null;var r=n.next,a=l.pending;if(a!==null){var i=a.next;a.next=r,n.next=i}l.pending=n}zn=null}return e}function Td(e,s){do{var l=Gt;try{if(bo(),pa.current=wa,fa){for(var n=Bt.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}fa=!1}if(In=0,ls=es=Bt=null,Dr=!1,zr=0,Jo.current=null,l===null||l.return===null){ts=1,Fr=s,Gt=null;break}e:{var a=e,i=l.return,x=l,f=s;if(s=cs,x.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var M=f,se=x,re=se.tag;if((se.mode&1)===0&&(re===0||re===11||re===15)){var ee=se.alternate;ee?(se.updateQueue=ee.updateQueue,se.memoizedState=ee.memoizedState,se.lanes=ee.lanes):(se.updateQueue=null,se.memoizedState=null)}var Pe=Zc(i);if(Pe!==null){Pe.flags&=-257,ed(Pe,i,x,a,s),Pe.mode&1&&Jc(a,M,s),s=Pe,f=M;var Ve=s.updateQueue;if(Ve===null){var He=new Set;He.add(f),s.updateQueue=He}else Ve.add(f);break e}else{if((s&1)===0){Jc(a,M,s),oi();break e}f=Error(c(426))}}else if(Ot&&x.mode&1){var Wt=Zc(i);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),ed(Wt,i,x,a,s),yo(dr(f,x));break e}}a=f=dr(f,x),ts!==4&&(ts=2),Br===null?Br=[a]:Br.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,s&=-s,a.lanes|=s;var C=Gc(a,f,s);Nc(a,C);break e;case 1:x=f;var v=a.type,T=a.stateNode;if((a.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(sn===null||!sn.has(T)))){a.flags|=65536,s&=-s,a.lanes|=s;var xe=Xc(a,x,s);Nc(a,xe);break e}}a=a.return}while(a!==null)}$d(l)}catch(Qe){s=Qe,Gt===l&&l!==null&&(Gt=l=l.return);continue}break}while(!0)}function _d(){var e=Sa.current;return Sa.current=wa,e===null?wa:e}function oi(){(ts===0||ts===3||ts===2)&&(ts=4),ns===null||(Rn&268435455)===0&&(Ca&268435455)===0||rn(ns,cs)}function Ma(e,s){var l=yt;yt|=2;var n=_d();(ns!==e||cs!==s)&&(Al=null,Fn(e,s));do try{w0();break}catch(r){Td(e,r)}while(!0);if(bo(),yt=l,Sa.current=n,Gt!==null)throw Error(c(261));return ns=null,cs=0,ts}function w0(){for(;Gt!==null;)Pd(Gt)}function b0(){for(;Gt!==null&&!Vl();)Pd(Gt)}function Pd(e){var s=Dd(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,s===null?$d(e):Gt=s,Jo.current=null}function $d(e){var s=e;do{var l=s.alternate;if(e=s.return,(s.flags&32768)===0){if(l=m0(l,s,Rs),l!==null){Gt=l;return}}else{if(l=h0(l,s),l!==null){l.flags&=32767,Gt=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ts=6,Gt=null;return}}if(s=s.sibling,s!==null){Gt=s;return}Gt=s=e}while(s!==null);ts===0&&(ts=5)}function Bn(e,s,l){var n=We,r=Zs.transition;try{Zs.transition=null,We=1,v0(e,s,l,n)}finally{Zs.transition=r,We=n}return null}function v0(e,s,l,n){do xr();while(ln!==null);if((yt&6)!==0)throw Error(c(327));l=e.finishedWork;var r=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var a=l.lanes|l.childLanes;if(dt(e,a),e===ns&&(Gt=ns=null,cs=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ta||(Ta=!0,zd(Hl,function(){return xr(),null})),a=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||a){a=Zs.transition,Zs.transition=null;var i=We;We=1;var x=yt;yt|=4,Jo.current=null,p0(e,l),vd(l,e),Bu(ao),yl=!!ro,ao=ro=null,e.current=l,f0(l),El(),yt=x,We=i,Zs.transition=a}else e.current=l;if(Ta&&(Ta=!1,ln=e,_a=r),a=e.pendingLanes,a===0&&(sn=null),u(l.stateNode),Ps(e,Et()),s!==null)for(n=e.onRecoverableError,l=0;l<s.length;l++)r=s[l],n(r.value,{componentStack:r.stack,digest:r.digest});if(Ea)throw Ea=!1,e=ti,ti=null,e;return(_a&1)!==0&&e.tag!==0&&xr(),a=e.pendingLanes,(a&1)!==0?e===si?Vr++:(Vr=0,si=e):Vr=0,Jl(),null}function xr(){if(ln!==null){var e=nl(_a),s=Zs.transition,l=We;try{if(Zs.transition=null,We=16>e?16:e,ln===null)var n=!1;else{if(e=ln,ln=null,_a=0,(yt&6)!==0)throw Error(c(331));var r=yt;for(yt|=4,Oe=e.current;Oe!==null;){var a=Oe,i=a.child;if((Oe.flags&16)!==0){var x=a.deletions;if(x!==null){for(var f=0;f<x.length;f++){var M=x[f];for(Oe=M;Oe!==null;){var se=Oe;switch(se.tag){case 0:case 11:case 15:Ar(8,se,a)}var re=se.child;if(re!==null)re.return=se,Oe=re;else for(;Oe!==null;){se=Oe;var ee=se.sibling,Pe=se.return;if(fd(se),se===M){Oe=null;break}if(ee!==null){ee.return=Pe,Oe=ee;break}Oe=Pe}}}var Ve=a.alternate;if(Ve!==null){var He=Ve.child;if(He!==null){Ve.child=null;do{var Wt=He.sibling;He.sibling=null,He=Wt}while(He!==null)}}Oe=a}}if((a.subtreeFlags&2064)!==0&&i!==null)i.return=a,Oe=i;else e:for(;Oe!==null;){if(a=Oe,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Ar(9,a,a.return)}var C=a.sibling;if(C!==null){C.return=a.return,Oe=C;break e}Oe=a.return}}var v=e.current;for(Oe=v;Oe!==null;){i=Oe;var T=i.child;if((i.subtreeFlags&2064)!==0&&T!==null)T.return=i,Oe=T;else e:for(i=v;Oe!==null;){if(x=Oe,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:ka(9,x)}}catch(Qe){Ut(x,x.return,Qe)}if(x===i){Oe=null;break e}var xe=x.sibling;if(xe!==null){xe.return=x.return,Oe=xe;break e}Oe=x.return}}if(yt=r,Jl(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Qt,e)}catch{}n=!0}return n}finally{We=l,Zs.transition=s}}return!1}function Md(e,s,l){s=dr(l,s),s=Gc(e,s,1),e=en(e,s,1),s=vs(),e!==null&&(lt(e,1,s),Ps(e,s))}function Ut(e,s,l){if(e.tag===3)Md(e,e,l);else for(;s!==null;){if(s.tag===3){Md(s,e,l);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sn===null||!sn.has(n))){e=dr(l,e),e=Xc(s,e,1),s=en(s,e,1),e=vs(),s!==null&&(lt(s,1,e),Ps(s,e));break}}s=s.return}}function j0(e,s,l){var n=e.pingCache;n!==null&&n.delete(s),s=vs(),e.pingedLanes|=e.suspendedLanes&l,ns===e&&(cs&l)===l&&(ts===4||ts===3&&(cs&130023424)===cs&&500>Et()-ei?Fn(e,0):Zo|=l),Ps(e,s)}function Ld(e,s){s===0&&((e.mode&1)===0?s=1:(s=Ze,Ze<<=1,(Ze&130023424)===0&&(Ze=4194304)));var l=vs();e=Ol(e,s),e!==null&&(lt(e,s,l),Ps(e,l))}function N0(e){var s=e.memoizedState,l=0;s!==null&&(l=s.retryLane),Ld(e,l)}function k0(e,s){var l=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(l=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(c(314))}n!==null&&n.delete(s),Ld(e,l)}var Dd;Dd=function(e,s,l){if(e!==null)if(e.memoizedProps!==s.pendingProps||Cs.current)Ts=!0;else{if((e.lanes&l)===0&&(s.flags&128)===0)return Ts=!1,u0(e,s,l);Ts=(e.flags&131072)!==0}else Ts=!1,Ot&&(s.flags&1048576)!==0&&hc(s,oa,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;ja(e,s),e=s.pendingProps;var r=sr(s,xs.current);ir(s,l),r=$o(null,s,n,e,r,l);var a=Mo();return s.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Es(n)?(a=!0,na(s)):a=!1,s.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ko(s),r.updater=ba,s.stateNode=r,r._reactInternals=s,Ro(s,n,e,l),s=Vo(null,s,n,!0,a,l)):(s.tag=0,Ot&&a&&xo(s),bs(null,s,r,l),s=s.child),s;case 16:n=s.elementType;e:{switch(ja(e,s),e=s.pendingProps,r=n._init,n=r(n._payload),s.type=n,r=s.tag=C0(n),e=dl(n,e),r){case 0:s=Bo(null,s,n,e,l);break e;case 1:s=ad(null,s,n,e,l);break e;case 11:s=td(null,s,n,e,l);break e;case 14:s=sd(null,s,n,dl(n.type,e),l);break e}throw Error(c(306,n,""))}return s;case 0:return n=s.type,r=s.pendingProps,r=s.elementType===n?r:dl(n,r),Bo(e,s,n,r,l);case 1:return n=s.type,r=s.pendingProps,r=s.elementType===n?r:dl(n,r),ad(e,s,n,r,l);case 3:e:{if(od(s),e===null)throw Error(c(387));n=s.pendingProps,a=s.memoizedState,r=a.element,jc(e,s),ha(s,n,null,l);var i=s.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=a,s.memoizedState=a,s.flags&256){r=dr(Error(c(423)),s),s=id(e,s,n,l,r);break e}else if(n!==r){r=dr(Error(c(424)),s),s=id(e,s,n,l,r);break e}else for(Is=Yl(s.stateNode.containerInfo.firstChild),Os=s,Ot=!0,cl=null,l=bc(s,null,n,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(rr(),n===r){s=Rl(e,s,l);break e}bs(e,s,n,l)}s=s.child}return s;case 5:return Sc(s),e===null&&go(s),n=s.type,r=s.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,oo(n,r)?i=null:a!==null&&oo(n,a)&&(s.flags|=32),rd(e,s),bs(e,s,i,l),s.child;case 6:return e===null&&go(s),null;case 13:return cd(e,s,l);case 4:return So(s,s.stateNode.containerInfo),n=s.pendingProps,e===null?s.child=ar(s,null,n,l):bs(e,s,n,l),s.child;case 11:return n=s.type,r=s.pendingProps,r=s.elementType===n?r:dl(n,r),td(e,s,n,r,l);case 7:return bs(e,s,s.pendingProps,l),s.child;case 8:return bs(e,s,s.pendingProps.children,l),s.child;case 12:return bs(e,s,s.pendingProps.children,l),s.child;case 10:e:{if(n=s.type._context,r=s.pendingProps,a=s.memoizedProps,i=r.value,_t(da,n._currentValue),n._currentValue=i,a!==null)if(il(a.value,i)){if(a.children===r.children&&!Cs.current){s=Rl(e,s,l);break e}}else for(a=s.child,a!==null&&(a.return=s);a!==null;){var x=a.dependencies;if(x!==null){i=a.child;for(var f=x.firstContext;f!==null;){if(f.context===n){if(a.tag===1){f=Il(-1,l&-l),f.tag=2;var M=a.updateQueue;if(M!==null){M=M.shared;var se=M.pending;se===null?f.next=f:(f.next=se.next,se.next=f),M.pending=f}}a.lanes|=l,f=a.alternate,f!==null&&(f.lanes|=l),jo(a.return,l,s),x.lanes|=l;break}f=f.next}}else if(a.tag===10)i=a.type===s.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(c(341));i.lanes|=l,x=i.alternate,x!==null&&(x.lanes|=l),jo(i,l,s),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===s){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}bs(e,s,r.children,l),s=s.child}return s;case 9:return r=s.type,n=s.pendingProps.children,ir(s,l),r=Xs(r),n=n(r),s.flags|=1,bs(e,s,n,l),s.child;case 14:return n=s.type,r=dl(n,s.pendingProps),r=dl(n.type,r),sd(e,s,n,r,l);case 15:return ld(e,s,s.type,s.pendingProps,l);case 17:return n=s.type,r=s.pendingProps,r=s.elementType===n?r:dl(n,r),ja(e,s),s.tag=1,Es(n)?(e=!0,na(s)):e=!1,ir(s,l),qc(s,n,r),Ro(s,n,r,l),Vo(null,s,n,!0,e,l);case 19:return ud(e,s,l);case 22:return nd(e,s,l)}throw Error(c(156,s.tag))};function zd(e,s){return sl(e,s)}function S0(e,s,l,n){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function el(e,s,l,n){return new S0(e,s,l,n)}function ii(e){return e=e.prototype,!(!e||!e.isReactComponent)}function C0(e){if(typeof e=="function")return ii(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$e)return 11;if(e===te)return 14}return 2}function an(e,s){var l=e.alternate;return l===null?(l=el(e.tag,s,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=s,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,s=e.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function La(e,s,l,n,r,a){var i=2;if(n=e,typeof e=="function")ii(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case U:return Vn(l.children,r,a,s);case ye:i=8,r|=8;break;case Z:return e=el(12,l,s,r|2),e.elementType=Z,e.lanes=a,e;case Re:return e=el(13,l,s,r),e.elementType=Re,e.lanes=a,e;case Ae:return e=el(19,l,s,r),e.elementType=Ae,e.lanes=a,e;case Ee:return Da(l,r,a,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case De:i=10;break e;case be:i=9;break e;case $e:i=11;break e;case te:i=14;break e;case Xe:i=16,n=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return s=el(i,l,s,r),s.elementType=e,s.type=n,s.lanes=a,s}function Vn(e,s,l,n){return e=el(7,e,n,s),e.lanes=l,e}function Da(e,s,l,n){return e=el(22,e,n,s),e.elementType=Ee,e.lanes=l,e.stateNode={isHidden:!1},e}function ci(e,s,l){return e=el(6,e,null,s),e.lanes=l,e}function di(e,s,l){return s=el(4,e.children!==null?e.children:[],e.key,s),s.lanes=l,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function E0(e,s,l,n,r){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qs(0),this.expirationTimes=Qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ui(e,s,l,n,r,a,i,x,f){return e=new E0(e,s,l,x,f),s===1?(s=1,a===!0&&(s|=8)):s=0,a=el(3,null,null,s),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ko(a),e}function T0(e,s,l){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:n==null?null:""+n,children:e,containerInfo:s,implementation:l}}function Od(e){if(!e)return Xl;e=e._reactInternals;e:{if(Zt(e)!==e||e.tag!==1)throw Error(c(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Es(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(c(171))}if(e.tag===1){var l=e.type;if(Es(l))return dc(e,l,s)}return s}function Id(e,s,l,n,r,a,i,x,f){return e=ui(l,n,!0,e,r,a,i,x,f),e.context=Od(null),l=e.current,n=vs(),r=nn(l),a=Il(n,r),a.callback=s??null,en(l,a,r),e.current.lanes=r,lt(e,r,n),Ps(e,n),e}function za(e,s,l,n){var r=s.current,a=vs(),i=nn(r);return l=Od(l),s.context===null?s.context=l:s.pendingContext=l,s=Il(a,i),s.payload={element:e},n=n===void 0?null:n,n!==null&&(s.callback=n),e=en(r,s,i),e!==null&&(hl(e,r,i,a),ma(e,r,i)),i}function Oa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rd(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<s?l:s}}function mi(e,s){Rd(e,s),(e=e.alternate)&&Rd(e,s)}function _0(){return null}var Ad=typeof reportError=="function"?reportError:function(e){console.error(e)};function hi(e){this._internalRoot=e}Ia.prototype.render=hi.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(c(409));za(e,s,null,null)},Ia.prototype.unmount=hi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;An(function(){za(null,e,null,null)}),s[Ml]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var s=Ds();e={blockedOn:null,target:e,priority:s};for(var l=0;l<d.length&&s!==0&&s<d[l].priority;l++);d.splice(l,0,e),l===0&&ms(e)}};function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fd(){}function P0(e,s,l,n,r){if(r){if(typeof n=="function"){var a=n;n=function(){var M=Oa(i);a.call(M)}}var i=Id(s,n,e,0,null,!1,!1,"",Fd);return e._reactRootContainer=i,e[Ml]=i.current,Cr(e.nodeType===8?e.parentNode:e),An(),i}for(;r=e.lastChild;)e.removeChild(r);if(typeof n=="function"){var x=n;n=function(){var M=Oa(f);x.call(M)}}var f=ui(e,0,!1,null,null,!1,!1,"",Fd);return e._reactRootContainer=f,e[Ml]=f.current,Cr(e.nodeType===8?e.parentNode:e),An(function(){za(s,f,l,n)}),f}function Aa(e,s,l,n,r){var a=l._reactRootContainer;if(a){var i=a;if(typeof r=="function"){var x=r;r=function(){var f=Oa(i);x.call(f)}}za(s,i,e,r)}else i=P0(l,s,e,r,n);return Oa(i)}bn=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var l=rt(s.pendingLanes);l!==0&&(gt(s,l|1),Ps(s,Et()),(yt&6)===0&&(hr=Et()+500,Jl()))}break;case 13:An(function(){var n=Ol(e,1);if(n!==null){var r=vs();hl(n,e,1,r)}}),mi(e,1)}},vn=function(e){if(e.tag===13){var s=Ol(e,134217728);if(s!==null){var l=vs();hl(s,e,134217728,l)}mi(e,134217728)}},jn=function(e){if(e.tag===13){var s=nn(e),l=Ol(e,s);if(l!==null){var n=vs();hl(l,e,s,n)}mi(e,s)}},Ds=function(){return We},Kl=function(e,s){var l=We;try{return We=e,s()}finally{We=l}},Je=function(e,s,l){switch(s){case"input":if(A(e,l),s=l.name,l.type==="radio"&&s!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var n=l[s];if(n!==e&&n.form===e.form){var r=sa(n);if(!r)throw Error(c(90));pe(n),A(n,r)}}}break;case"textarea":g(e,l);break;case"select":s=l.value,s!=null&&Te(e,!!l.multiple,s,!1)}},Ht=ri,Be=An;var $0={usingClientEntryPoint:!1,Events:[_r,er,sa,ot,St,ri]},Hr={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M0={bundleType:Hr.bundleType,version:Hr.version,rendererPackageName:Hr.rendererPackageName,rendererConfig:Hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tl(e),e===null?null:e.stateNode},findFiberByHostInstance:Hr.findFiberByHostInstance||_0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{Qt=Fa.inject(M0),Kt=Fa}catch{}}return $s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$0,$s.createPortal=function(e,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xi(s))throw Error(c(200));return T0(e,s,null,l)},$s.createRoot=function(e,s){if(!xi(e))throw Error(c(299));var l=!1,n="",r=Ad;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(r=s.onRecoverableError)),s=ui(e,1,!1,null,null,l,!1,n,r),e[Ml]=s.current,Cr(e.nodeType===8?e.parentNode:e),new hi(s)},$s.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=tl(s),e=e===null?null:e.stateNode,e},$s.flushSync=function(e){return An(e)},$s.hydrate=function(e,s,l){if(!Ra(s))throw Error(c(200));return Aa(null,e,s,!0,l)},$s.hydrateRoot=function(e,s,l){if(!xi(e))throw Error(c(405));var n=l!=null&&l.hydratedSources||null,r=!1,a="",i=Ad;if(l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(a=l.identifierPrefix),l.onRecoverableError!==void 0&&(i=l.onRecoverableError)),s=Id(s,null,e,1,l??null,r,!1,a,i),e[Ml]=s.current,Cr(e),n)for(e=0;e<n.length;e++)l=n[e],r=l._getVersion,r=r(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,r]:s.mutableSourceEagerHydrationData.push(l,r);return new Ia(s)},$s.render=function(e,s,l){if(!Ra(s))throw Error(c(200));return Aa(null,e,s,!1,l)},$s.unmountComponentAtNode=function(e){if(!Ra(e))throw Error(c(40));return e._reactRootContainer?(An(function(){Aa(null,null,e,!1,function(){e._reactRootContainer=null,e[Ml]=null})}),!0):!1},$s.unstable_batchedUpdates=ri,$s.unstable_renderSubtreeIntoContainer=function(e,s,l,n){if(!Ra(l))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return Aa(e,s,l,!1,n)},$s.version="18.3.1-next-f1338f8080-20240426",$s}var qd;function Zd(){if(qd)return gi.exports;qd=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(m){console.error(m)}}return o(),gi.exports=V0(),gi.exports}var Yd;function H0(){if(Yd)return Ba;Yd=1;var o=Zd();return Ba.createRoot=o.createRoot,Ba.hydrateRoot=o.hydrateRoot,Ba}var K0=H0();const U0=O0(K0);var W0=Zd(),Q0="1.3.17";function eu(o,m,c){return Math.max(o,Math.min(m,c))}function q0(o,m,c){return(1-c)*o+c*m}function Y0(o,m,c,b){return q0(o,m,1-Math.exp(-c*b))}function G0(o,m){return(o%m+m)%m}var X0=class{constructor(){Ge(this,"isRunning",!1);Ge(this,"value",0);Ge(this,"from",0);Ge(this,"to",0);Ge(this,"currentTime",0);Ge(this,"lerp");Ge(this,"duration");Ge(this,"easing");Ge(this,"onUpdate")}advance(o){var c;if(!this.isRunning)return;let m=!1;if(this.duration&&this.easing){this.currentTime+=o;const b=eu(0,this.currentTime/this.duration,1);m=b>=1;const j=m?1:this.easing(b);this.value=this.from+(this.to-this.from)*j}else this.lerp?(this.value=Y0(this.value,this.to,this.lerp*60,o),Math.round(this.value)===this.to&&(this.value=this.to,m=!0)):(this.value=this.to,m=!0);m&&this.stop(),(c=this.onUpdate)==null||c.call(this,this.value,m)}stop(){this.isRunning=!1}fromTo(o,m,{lerp:c,duration:b,easing:j,onStart:$,onUpdate:N}){this.from=this.value=o,this.to=m,this.lerp=c,this.duration=b,this.easing=j,this.currentTime=0,this.isRunning=!0,$==null||$(),this.onUpdate=N}};function J0(o,m){let c;return function(...b){let j=this;clearTimeout(c),c=setTimeout(()=>{c=void 0,o.apply(j,b)},m)}}var Z0=class{constructor(o,m,{autoResize:c=!0,debounce:b=250}={}){Ge(this,"width",0);Ge(this,"height",0);Ge(this,"scrollHeight",0);Ge(this,"scrollWidth",0);Ge(this,"debouncedResize");Ge(this,"wrapperResizeObserver");Ge(this,"contentResizeObserver");Ge(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});Ge(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});Ge(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=o,this.content=m,c&&(this.debouncedResize=J0(this.resize,b),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var o,m;(o=this.wrapperResizeObserver)==null||o.disconnect(),(m=this.contentResizeObserver)==null||m.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},tu=class{constructor(){Ge(this,"events",{})}emit(o,...m){var b;let c=this.events[o]||[];for(let j=0,$=c.length;j<$;j++)(b=c[j])==null||b.call(c,...m)}on(o,m){var c;return(c=this.events[o])!=null&&c.push(m)||(this.events[o]=[m]),()=>{var b;this.events[o]=(b=this.events[o])==null?void 0:b.filter(j=>m!==j)}}off(o,m){var c;this.events[o]=(c=this.events[o])==null?void 0:c.filter(b=>m!==b)}destroy(){this.events={}}},Gd=100/6,cn={passive:!1},em=class{constructor(o,m={wheelMultiplier:1,touchMultiplier:1}){Ge(this,"touchStart",{x:0,y:0});Ge(this,"lastDelta",{x:0,y:0});Ge(this,"window",{width:0,height:0});Ge(this,"emitter",new tu);Ge(this,"onTouchStart",o=>{const{clientX:m,clientY:c}=o.targetTouches?o.targetTouches[0]:o;this.touchStart.x=m,this.touchStart.y=c,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:o})});Ge(this,"onTouchMove",o=>{const{clientX:m,clientY:c}=o.targetTouches?o.targetTouches[0]:o,b=-(m-this.touchStart.x)*this.options.touchMultiplier,j=-(c-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=m,this.touchStart.y=c,this.lastDelta={x:b,y:j},this.emitter.emit("scroll",{deltaX:b,deltaY:j,event:o})});Ge(this,"onTouchEnd",o=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:o})});Ge(this,"onWheel",o=>{let{deltaX:m,deltaY:c,deltaMode:b}=o;const j=b===1?Gd:b===2?this.window.width:1,$=b===1?Gd:b===2?this.window.height:1;m*=j,c*=$,m*=this.options.wheelMultiplier,c*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:m,deltaY:c,event:o})});Ge(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=o,this.options=m,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,cn),this.element.addEventListener("touchstart",this.onTouchStart,cn),this.element.addEventListener("touchmove",this.onTouchMove,cn),this.element.addEventListener("touchend",this.onTouchEnd,cn)}on(o,m){return this.emitter.on(o,m)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,cn),this.element.removeEventListener("touchstart",this.onTouchStart,cn),this.element.removeEventListener("touchmove",this.onTouchMove,cn),this.element.removeEventListener("touchend",this.onTouchEnd,cn)}},Xd=o=>Math.min(1,1.001-Math.pow(2,-10*o)),tm=class{constructor({wrapper:o=window,content:m=document.documentElement,eventsTarget:c=o,smoothWheel:b=!0,syncTouch:j=!1,syncTouchLerp:$=.075,touchInertiaExponent:N=1.7,duration:R,easing:E,lerp:le=.1,infinite:Q=!1,orientation:ae="vertical",gestureOrientation:de=ae==="horizontal"?"both":"vertical",touchMultiplier:ge=1,wheelMultiplier:V=1,autoResize:I=!0,prevent:Y,virtualScroll:je,overscroll:Le=!0,autoRaf:z=!1,anchors:X=!1,autoToggle:J=!1,allowNestedScroll:oe=!1,__experimental__naiveDimensions:U=!1,naiveDimensions:ye=U,stopInertiaOnNavigate:Z=!1}={}){Ge(this,"_isScrolling",!1);Ge(this,"_isStopped",!1);Ge(this,"_isLocked",!1);Ge(this,"_preventNextNativeScrollEvent",!1);Ge(this,"_resetVelocityTimeout",null);Ge(this,"_rafId",null);Ge(this,"isTouching");Ge(this,"time",0);Ge(this,"userData",{});Ge(this,"lastVelocity",0);Ge(this,"velocity",0);Ge(this,"direction",0);Ge(this,"options");Ge(this,"targetScroll");Ge(this,"animatedScroll");Ge(this,"animate",new X0);Ge(this,"emitter",new tu);Ge(this,"dimensions");Ge(this,"virtualScroll");Ge(this,"onScrollEnd",o=>{o instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&o.stopPropagation()});Ge(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});Ge(this,"onTransitionEnd",o=>{o.propertyName.includes("overflow")&&this.checkOverflow()});Ge(this,"onClick",o=>{const c=o.composedPath().filter(b=>b instanceof HTMLAnchorElement&&b.getAttribute("href"));if(this.options.anchors){const b=c.find(j=>{var $;return($=j.getAttribute("href"))==null?void 0:$.includes("#")});if(b){const j=b.getAttribute("href");if(j){const $=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,N=`#${j.split("#")[1]}`;this.scrollTo(N,$)}}}this.options.stopInertiaOnNavigate&&c.find(j=>j.host===window.location.host)&&this.reset()});Ge(this,"onPointerDown",o=>{o.button===1&&this.reset()});Ge(this,"onVirtualScroll",o=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(o)===!1)return;const{deltaX:m,deltaY:c,event:b}=o;if(this.emitter.emit("virtual-scroll",{deltaX:m,deltaY:c,event:b}),b.ctrlKey||b.lenisStopPropagation)return;const j=b.type.includes("touch"),$=b.type.includes("wheel");this.isTouching=b.type==="touchstart"||b.type==="touchmove";const N=m===0&&c===0;if(this.options.syncTouch&&j&&b.type==="touchstart"&&N&&!this.isStopped&&!this.isLocked){this.reset();return}const E=this.options.gestureOrientation==="vertical"&&c===0||this.options.gestureOrientation==="horizontal"&&m===0;if(N||E)return;let le=b.composedPath();le=le.slice(0,le.indexOf(this.rootElement));const Q=this.options.prevent;if(le.find(Y=>{var je,Le,z;return Y instanceof HTMLElement&&(typeof Q=="function"&&(Q==null?void 0:Q(Y))||((je=Y.hasAttribute)==null?void 0:je.call(Y,"data-lenis-prevent"))||j&&((Le=Y.hasAttribute)==null?void 0:Le.call(Y,"data-lenis-prevent-touch"))||$&&((z=Y.hasAttribute)==null?void 0:z.call(Y,"data-lenis-prevent-wheel"))||this.options.allowNestedScroll&&this.checkNestedScroll(Y,{deltaX:m,deltaY:c}))}))return;if(this.isStopped||this.isLocked){b.cancelable&&b.preventDefault();return}if(!(this.options.syncTouch&&j||this.options.smoothWheel&&$)){this.isScrolling="native",this.animate.stop(),b.lenisStopPropagation=!0;return}let de=c;this.options.gestureOrientation==="both"?de=Math.abs(c)>Math.abs(m)?c:m:this.options.gestureOrientation==="horizontal"&&(de=m),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&c>0||this.animatedScroll===this.limit&&c<0))&&(b.lenisStopPropagation=!0),b.cancelable&&b.preventDefault();const ge=j&&this.options.syncTouch,I=j&&b.type==="touchend";I&&(de=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+de,{programmatic:!1,...ge?{lerp:I?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});Ge(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const o=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-o,this.direction=Math.sign(this.animatedScroll-o),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});Ge(this,"raf",o=>{const m=o-(this.time||o);this.time=o,this.animate.advance(m*.001),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))});window.lenisVersion=Q0,(!o||o===document.documentElement)&&(o=window),typeof R=="number"&&typeof E!="function"?E=Xd:typeof E=="function"&&typeof R!="number"&&(R=1),this.options={wrapper:o,content:m,eventsTarget:c,smoothWheel:b,syncTouch:j,syncTouchLerp:$,touchInertiaExponent:N,duration:R,easing:E,lerp:le,infinite:Q,gestureOrientation:de,orientation:ae,touchMultiplier:ge,wheelMultiplier:V,autoResize:I,prevent:Y,virtualScroll:je,overscroll:Le,autoRaf:z,anchors:X,autoToggle:J,allowNestedScroll:oe,naiveDimensions:ye,stopInertiaOnNavigate:Z},this.dimensions=new Z0(o,m,{autoResize:I}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new em(c,{touchMultiplier:ge,wheelMultiplier:V}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this._rafId&&cancelAnimationFrame(this._rafId)}on(o,m){return this.emitter.on(o,m)}off(o,m){return this.emitter.off(o,m)}get overflow(){const o=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[o]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}setScroll(o){this.isHorizontal?this.options.wrapper.scrollTo({left:o,behavior:"instant"}):this.options.wrapper.scrollTo({top:o,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(o,{offset:m=0,immediate:c=!1,lock:b=!1,programmatic:j=!0,lerp:$=j?this.options.lerp:void 0,duration:N=j?this.options.duration:void 0,easing:R=j?this.options.easing:void 0,onStart:E,onComplete:le,force:Q=!1,userData:ae}={}){if(!((this.isStopped||this.isLocked)&&!Q)){if(typeof o=="string"&&["top","left","start","#"].includes(o))o=0;else if(typeof o=="string"&&["bottom","right","end"].includes(o))o=this.limit;else{let de;if(typeof o=="string"?(de=document.querySelector(o),de||(o==="#top"?o=0:console.warn("Lenis: Target not found",o))):o instanceof HTMLElement&&(o!=null&&o.nodeType)&&(de=o),de){if(this.options.wrapper!==window){const V=this.rootElement.getBoundingClientRect();m-=this.isHorizontal?V.left:V.top}const ge=de.getBoundingClientRect();o=(this.isHorizontal?ge.left:ge.top)+this.animatedScroll}}if(typeof o=="number"){if(o+=m,o=Math.round(o),this.options.infinite){if(j){this.targetScroll=this.animatedScroll=this.scroll;const de=o-this.animatedScroll;de>this.limit/2?o=o-this.limit:de<-this.limit/2&&(o=o+this.limit)}}else o=eu(0,o,this.limit);if(o===this.targetScroll){E==null||E(this),le==null||le(this);return}if(this.userData=ae??{},c){this.animatedScroll=this.targetScroll=o,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),le==null||le(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}j||(this.targetScroll=o),typeof N=="number"&&typeof R!="function"?R=Xd:typeof R=="function"&&typeof N!="number"&&(N=1),this.animate.fromTo(this.animatedScroll,o,{duration:N,easing:R,lerp:$,onStart:()=>{b&&(this.isLocked=!0),this.isScrolling="smooth",E==null||E(this)},onUpdate:(de,ge)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=de-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=de,this.setScroll(this.scroll),j&&(this.targetScroll=de),ge||this.emit(),ge&&(this.reset(),this.emit(),le==null||le(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(o,{deltaX:m,deltaY:c}){const b=Date.now(),j=o._lenis??(o._lenis={});let $,N,R,E,le,Q,ae,de;const ge=this.options.gestureOrientation;if(b-(j.time??0)>2e3){j.time=Date.now();const J=window.getComputedStyle(o);j.computedStyle=J;const oe=J.overflowX,U=J.overflowY;if($=["auto","overlay","scroll"].includes(oe),N=["auto","overlay","scroll"].includes(U),j.hasOverflowX=$,j.hasOverflowY=N,!$&&!N||ge==="vertical"&&!N||ge==="horizontal"&&!$)return!1;le=o.scrollWidth,Q=o.scrollHeight,ae=o.clientWidth,de=o.clientHeight,R=le>ae,E=Q>de,j.isScrollableX=R,j.isScrollableY=E,j.scrollWidth=le,j.scrollHeight=Q,j.clientWidth=ae,j.clientHeight=de}else R=j.isScrollableX,E=j.isScrollableY,$=j.hasOverflowX,N=j.hasOverflowY,le=j.scrollWidth,Q=j.scrollHeight,ae=j.clientWidth,de=j.clientHeight;if(!$&&!N||!R&&!E||ge==="vertical"&&(!N||!E)||ge==="horizontal"&&(!$||!R))return!1;let V;if(ge==="horizontal")V="x";else if(ge==="vertical")V="y";else{const J=m!==0,oe=c!==0;J&&$&&R&&(V="x"),oe&&N&&E&&(V="y")}if(!V)return!1;let I,Y,je,Le,z;if(V==="x")I=o.scrollLeft,Y=le-ae,je=m,Le=$,z=R;else if(V==="y")I=o.scrollTop,Y=Q-de,je=c,Le=N,z=E;else return!1;return(je>0?I<Y:I>0)&&Le&&z}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const o=this.options.wrapper;return this.isHorizontal?o.scrollX??o.scrollLeft:o.scrollY??o.scrollTop}get scroll(){return this.options.infinite?G0(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(o){this._isScrolling!==o&&(this._isScrolling=o,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(o){this._isStopped!==o&&(this._isStopped=o,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(o){this._isLocked!==o&&(this._isLocked=o,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let o="lenis";return this.options.autoToggle&&(o+=" lenis-autoToggle"),this.isStopped&&(o+=" lenis-stopped"),this.isLocked&&(o+=" lenis-locked"),this.isScrolling&&(o+=" lenis-scrolling"),this.isScrolling==="smooth"&&(o+=" lenis-smooth"),o}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),su=(...o)=>o.filter((m,c,b)=>!!m&&m.trim()!==""&&b.indexOf(m)===c).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=p.forwardRef(({color:o="currentColor",size:m=24,strokeWidth:c=2,absoluteStrokeWidth:b,className:j="",children:$,iconNode:N,...R},E)=>p.createElement("svg",{ref:E,...lm,width:m,height:m,stroke:o,strokeWidth:b?Number(c)*24/Number(m):c,className:su("lucide",j),...R},[...N.map(([le,Q])=>p.createElement(le,Q)),...Array.isArray($)?$:[$]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(o,m)=>{const c=p.forwardRef(({className:b,...j},$)=>p.createElement(nm,{ref:$,iconNode:m,className:su(`lucide-${sm(o)}`,b),...j}));return c.displayName=`${o}`,c};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=nt("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=nt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=nt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=nt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=nt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=nt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=nt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=nt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=nt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=nt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=nt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=nt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=nt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=nt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=nt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=nt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=nt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=nt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=nt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=nt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=nt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=nt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=nt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=nt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),un=o=>o.toLowerCase().replace(/[\s\-_]/g,""),Hs=o=>o.target.select(),Cl=(o,m)=>{if(!m||!m.trim())return!0;const c=un(o),b=un(m);if(c.includes(b))return!0;const j=b.match(/[-a-z]+|\d+/gi)||[];if(j.length>0){let N=-1;if(j.every(E=>{const le=c.indexOf(E,N+1);return le>N?(N=le+E.length-1,!0):!1}))return!0}const $=m.toLowerCase().split(/[\s\-_]+/).filter(N=>N.length>0);return!!($.length>1&&$.every(R=>{const E=un(R);return c.includes(E)}))},um=(o,m,c)=>{if(!o.discount_tiers||o.discount_tiers.length===0||m<=0)return{discountAmount:0,discountedPrice:c,appliedTier:null};const b=o.discount_tiers.filter(E=>E.maxQty&&E.maxQty>0),j=o.discount_tiers.filter(E=>!E.maxQty||E.maxQty===0);let $=null;if(b.length>0&&($=b.find(E=>m>=E.minQty&&m<=E.maxQty)),!$&&j.length>0&&($=[...j].sort((le,Q)=>Q.minQty-le.minQty).find(le=>m>=le.minQty)),!$)return{discountAmount:0,discountedPrice:c,appliedTier:null};let N=0;$.type==="percent"?N=Math.round(c*($.value/100)):N=$.value;const R=Math.max(0,c-N);return{discountAmount:N,discountedPrice:R,appliedTier:$}},Xt="https://icqxomltplewrhopafpq.supabase.co",it="sb_publishable_YB9UnUwuMql8hUGHgC0bsg_DhrAxpji",Ct={async getOrders(){try{const o=await fetch(`${Xt}/rest/v1/orders?order=created_at.desc`,{headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json"}});if(!o.ok)throw new Error("Failed to fetch orders");return await o.json()}catch(o){return console.error("Supabase getOrders error:",o),null}},async saveOrder(o){try{const m=await fetch(`${Xt}/rest/v1/orders`,{method:"POST",headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(o)});if(!m.ok){const c=await m.text();if(c.includes("customer_address")||c.includes("column")){console.log(" customer_address  , ...");const{customer_address:b,...j}=o,$=await fetch(`${Xt}/rest/v1/orders`,{method:"POST",headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(j)});if(!$.ok)throw new Error("Failed to save order (retry)");return await $.json()}throw new Error("Failed to save order")}return await m.json()}catch(m){return console.error("Supabase saveOrder error:",m),null}},async updateOrder(o,m){try{const c=await fetch(`${Xt}/rest/v1/orders?id=eq.${o}`,{method:"PATCH",headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(m)});if(!c.ok){const j=await c.text();throw console.error("Update order error:",j),new Error("Failed to update order")}const b=await c.json();return b.length>0?b:!0}catch(c){return console.error("Supabase updateOrder error:",c),null}},async deleteOrder(o){try{if(!(await fetch(`${Xt}/rest/v1/orders?id=eq.${o}`,{method:"DELETE",headers:{apikey:it,Authorization:`Bearer ${it}`}})).ok)throw new Error("Failed to delete order");return!0}catch(m){return console.error("Supabase deleteOrder error:",m),!1}},async getProducts(){try{const o=await fetch(`${Xt}/rest/v1/products?order=category,name`,{headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json"}});if(!o.ok)throw new Error("Failed to fetch products");return await o.json()}catch(o){return console.error("Supabase getProducts error:",o),null}},async addProduct(o){try{const m=await fetch(`${Xt}/rest/v1/products`,{method:"POST",headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(o)});if(!m.ok)throw new Error("Failed to add product");return await m.json()}catch(m){return console.error("Supabase addProduct error:",m),null}},async updateProduct(o,m){try{const c=await fetch(`${Xt}/rest/v1/products?id=eq.${o}`,{method:"PATCH",headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(m)});if(!c.ok)throw new Error("Failed to update product");return await c.json()}catch(c){return console.error("Supabase updateProduct error:",c),null}},async deleteProduct(o){try{if(!(await fetch(`${Xt}/rest/v1/products?id=eq.${o}`,{method:"DELETE",headers:{apikey:it,Authorization:`Bearer ${it}`}})).ok)throw new Error("Failed to delete product");return!0}catch(m){return console.error("Supabase deleteProduct error:",m),!1}},async getCustomers(){try{const o=await fetch(`${Xt}/rest/v1/customers?order=name`,{headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json"}});if(!o.ok)throw new Error("Failed to fetch customers");return await o.json()}catch(o){return console.error("Supabase getCustomers error:",o),null}},async addCustomer(o){try{const m=await fetch(`${Xt}/rest/v1/customers`,{method:"POST",headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(o)});if(!m.ok)throw new Error("Failed to add customer");const c=await m.json();return Array.isArray(c)?c[0]:c}catch(m){return console.error("Supabase addCustomer error:",m),null}},async updateCustomer(o,m){try{const c=await fetch(`${Xt}/rest/v1/customers?id=eq.${o}`,{method:"PATCH",headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(m)});if(!c.ok)throw new Error("Failed to update customer");return await c.json()}catch(c){return console.error("Supabase updateCustomer error:",c),null}},async deleteCustomer(o){try{if(!(await fetch(`${Xt}/rest/v1/customers?id=eq.${o}`,{method:"DELETE",headers:{apikey:it,Authorization:`Bearer ${it}`}})).ok)throw new Error("Failed to delete customer");return!0}catch(m){return console.error("Supabase deleteCustomer error:",m),!1}},async getSavedCarts(){try{const o=await fetch(`${Xt}/rest/v1/saved_carts?order=created_at.desc`,{headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json"}});if(!o.ok)throw new Error("Failed to fetch saved carts");return await o.json()}catch(o){return console.error("Supabase getSavedCarts error:",o),null}},async addSavedCart(o){try{console.log(" Supabase   :",o);const m=await fetch(`${Xt}/rest/v1/saved_carts`,{method:"POST",headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(o)});if(!m.ok){const b=await m.text();if(console.error(" Supabase addSavedCart error response:",b),b.includes("column")||b.includes("does not exist")){console.log(" Supabase     .   ..."),console.log(" Supabase    : delivery_date, status, priority, memo, reminded");const j={name:o.name,items:o.items,total:o.total,price_type:o.price_type,date:o.date,time:o.time,created_at:o.created_at},$=await fetch(`${Xt}/rest/v1/saved_carts`,{method:"POST",headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(j)});if(!$.ok)throw new Error("Failed to add saved cart (retry)");const N=await $.json();return console.log("    :",N),[{...N[0],delivery_date:o.delivery_date,status:o.status,priority:o.priority,memo:o.memo,reminded:o.reminded,_localOnly:!0}]}throw new Error("Failed to add saved cart")}const c=await m.json();return console.log(" Supabase  :",c),c}catch(m){return console.error(" Supabase addSavedCart error:",m),null}},async deleteSavedCart(o){try{if(!(await fetch(`${Xt}/rest/v1/saved_carts?id=eq.${o}`,{method:"DELETE",headers:{apikey:it,Authorization:`Bearer ${it}`}})).ok)throw new Error("Failed to delete saved cart");return!0}catch(m){return console.error("Supabase deleteSavedCart error:",m),!1}},async updateSavedCart(o,m){try{console.log(" Supabase   :",{id:o,cart:m});const c=await fetch(`${Xt}/rest/v1/saved_carts?id=eq.${o}`,{method:"PATCH",headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(m)});if(!c.ok){const j=await c.text();if(console.error(" Supabase updateSavedCart error response:",j),j.includes("column")||j.includes("does not exist")){console.log(" Supabase     .   ..."),console.log(" Supabase    : delivery_date, status, priority, memo, reminded");const $={name:m.name,items:m.items,total:m.total,price_type:m.price_type},N=await fetch(`${Xt}/rest/v1/saved_carts?id=eq.${o}`,{method:"PATCH",headers:{apikey:it,Authorization:`Bearer ${it}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify($)});if(!N.ok)throw new Error("Failed to update saved cart (retry)");const R=await N.json();return console.log("    :",R),[{...R[0],delivery_date:m.delivery_date,status:m.status,priority:m.priority,memo:m.memo,reminded:m.reminded,_localOnly:!0}]}throw new Error("Failed to update saved cart")}const b=await c.json();return console.log(" Supabase  :",b),b}catch(c){return console.error(" Supabase updateSavedCart error:",c),null}},async deleteAllSavedCarts(){try{if(!(await fetch(`${Xt}/rest/v1/saved_carts?id=gt.0`,{method:"DELETE",headers:{apikey:it,Authorization:`Bearer ${it}`}})).ok)throw new Error("Failed to delete all saved carts");return!0}catch(o){return console.error("Supabase deleteAllSavedCarts error:",o),!1}}},mm="1234",_i=()=>t.jsx("style",{children:`
    /*     */
    * {
      scroll-behavior: smooth;
      -webkit-tap-highlight-color: transparent; /*    */
    }
    
    html {
      scroll-behavior: smooth;
      overflow-y: scroll;
      overscroll-behavior: smooth;
      background: #1e293b; /* slate-800 -   */
    }
    
    body {
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      overscroll-behavior-y: contain;
      cursor: default;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      background: #1e293b; /* slate-800 -   */
      min-height: 100vh;
    }
    
    #root {
      background: #1e293b; /* slate-800 -   */
      min-height: 100vh;
    }
    
    /*      */
    *, *::before, *::after {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-touch-callout: none;
      -webkit-tap-highlight-color: transparent;
    }
    
    /*    */
    h1, h2, h3, h4, h5, h6, p, span, div, label {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-user-drag: none;
    }
    
    /* ,     */
    .card, [class*="rounded"], [class*="bg-slate"], [class*="border"] {
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }
    
    /*        */
    input, textarea, [contenteditable="true"], .selectable {
      -webkit-user-select: text;
      -moz-user-select: text;
      -ms-user-select: text;
      user-select: text;
      /* iOS   */
      font-size: 16px !important;
    }
    
    /* ,  pointer  */
    button, a, [role="button"], .cursor-pointer {
      cursor: pointer;
      /*    44px ( ) */
      min-height: 44px;
    }
    
    /*   text  */
    input, textarea, select {
      cursor: text;
      /* iOS   */
      font-size: 16px !important;
    }
    
    input[type="number"] {
      cursor: text;
    }
    
    /*   */
    @media (max-width: 640px) {
      /*     */
      button {
        min-height: 44px;
        min-width: 44px;
      }
      
      /*    */
      .fixed.inset-0 > div {
        max-height: 90vh !important;
        margin: 16px;
      }
      
      /*    */
      .text-xs {
        font-size: 11px !important;
      }
      
      .text-sm {
        font-size: 13px !important;
      }
    }
    
    /*   */
    @media (min-width: 641px) and (max-width: 1024px) {
      /*   */
      button {
        min-height: 40px;
      }
    }
    
    /*    */
    @supports (padding: max(0px)) {
      .fixed.bottom-0 {
        padding-bottom: max(20px, env(safe-area-inset-bottom)) !important;
      }
    }
    
    /*        */
    [class*="overflow"] {
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
    }
    
    /*    - Lenis   */
    [data-lenis-prevent] {
      overscroll-behavior: contain !important;
      -webkit-overflow-scrolling: touch !important;
      touch-action: pan-y !important;
    }
    
    /*     */
    .fixed.inset-0 {
      overscroll-behavior: none;
      touch-action: none;
    }
    
    /*      */
    .fixed.inset-0 .modal-scroll-area {
      overscroll-behavior: contain !important;
      -webkit-overflow-scrolling: touch !important;
      touch-action: pan-y !important;
    }
    
    /*     */
    .mobile-scroll {
      -webkit-overflow-scrolling: touch !important;
      overscroll-behavior: contain !important;
      touch-action: pan-y !important;
      scroll-behavior: auto !important;
    }
    
    /*     */
    @media (max-width: 768px) {
      /*     */
      .modal-scroll-area {
        -webkit-overflow-scrolling: touch !important;
        overscroll-behavior: contain !important;
        touch-action: pan-y !important;
        overflow-y: auto !important;
      }
      
      /*     */
      .max-h-\\[90vh\\] {
        max-height: 85vh !important;
      }
      
      .max-h-\\[calc\\(90vh-200px\\)\\] {
        max-height: calc(85vh - 180px) !important;
      }
      
      /* body    */
      body.modal-open {
        overflow: hidden !important;
        position: fixed !important;
        width: 100% !important;
        height: 100% !important;
      }
    }
    
    /*    */
    .scrollbar-hide {
      -ms-overflow-style: none;  /* IE and Edge */
      scrollbar-width: none;  /* Firefox */
    }

    .scrollbar-hide::-webkit-scrollbar {
      display: none;  /* Chrome, Safari and Opera */
    }

    /*   */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(30, 41, 59, 0.5);
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #3b82f6, #8b5cf6);
      border-radius: 10px;
      border: 2px solid rgba(30, 41, 59, 0.5);
      transition: background 0.3s ease;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #60a5fa, #a78bfa);
    }
    
    /*    */
    .category-scroll::-webkit-scrollbar {
      width: 6px;
    }
    
    .category-scroll::-webkit-scrollbar-track {
      background: rgba(51, 65, 85, 0.3);
      border-radius: 10px;
    }
    
    .category-scroll::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #475569, #64748b);
      border-radius: 10px;
    }
    
    /*    -  */
    .order-scroll::-webkit-scrollbar {
      width: 6px;
    }
    
    .order-scroll::-webkit-scrollbar-track {
      background: rgba(6, 78, 59, 0.3);
      border-radius: 10px;
    }
    
    .order-scroll::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #10b981, #14b8a6);
      border-radius: 10px;
    }
    
    /*    */
    .smooth-scroll {
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
    }
    
    /*   */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(100%);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .animate-slide-up {
      animation: slideUp 0.3s ease-out forwards;
    }
    
    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.9) translateY(20px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }
    
    @keyframes pulse-glow {
      0%, 100% {
        box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
      }
      50% {
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.8);
      }
    }
    
    @keyframes shimmer {
      0% {
        background-position: -200% 0;
      }
      100% {
        background-position: 200% 0;
      }
    }
    
    /*     */
    @keyframes glitch {
      0%, 100% { transform: translate(0); }
      20% { transform: translate(-2px, 2px); }
      40% { transform: translate(-2px, -2px); }
      60% { transform: translate(2px, 2px); }
      80% { transform: translate(2px, -2px); }
    }
    
    @keyframes scanline {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100vh); }
    }
    
    @keyframes flicker {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
      25%, 75% { opacity: 0.9; }
    }
    
    @keyframes neon-pulse {
      0%, 100% { 
        text-shadow: 0 0 5px #ff0040, 0 0 10px #ff0040, 0 0 20px #ff0040;
        box-shadow: 0 0 5px #ff0040, 0 0 10px #ff0040, inset 0 0 10px rgba(255,0,64,0.1);
      }
      50% { 
        text-shadow: 0 0 10px #ff0040, 0 0 20px #ff0040, 0 0 40px #ff0040;
        box-shadow: 0 0 10px #ff0040, 0 0 20px #ff0040, inset 0 0 20px rgba(255,0,64,0.2);
      }
    }
    
    @keyframes border-glow {
      0%, 100% { border-color: rgba(255,0,64,0.5); }
      50% { border-color: rgba(255,0,64,1); }
    }
    
    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }
    
    @keyframes blink-caret {
      0%, 100% { border-color: transparent; }
      50% { border-color: #ff0040; }
    }
    
    @keyframes matrix-rain {
      0% { transform: translateY(-100%); opacity: 1; }
      100% { transform: translateY(100%); opacity: 0; }
    }
    
    @keyframes unlock-spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    @keyframes access-granted {
      0% { transform: scale(0.5); opacity: 0; }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); opacity: 1; }
    }
    
    @keyframes loading-bar {
      0% { width: 0%; }
      100% { width: 100%; }
    }
    
    @keyframes shake-error {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
      20%, 40%, 60%, 80% { transform: translateX(8px); }
    }
    
    @keyframes flash-red {
      0%, 100% { 
        border-color: rgba(255,0,64,0.5);
        box-shadow: 0 0 40px rgba(255,0,64,0.3);
      }
      25%, 75% { 
        border-color: rgba(255,0,64,1);
        box-shadow: 0 0 60px rgba(255,0,64,0.8), inset 0 0 30px rgba(255,0,64,0.2);
      }
    }
    
    .animate-shake-error {
      animation: shake-error 0.5s ease-in-out;
    }
    
    .animate-flash-red {
      animation: flash-red 0.5s ease-in-out;
    }
    
    .animate-glitch {
      animation: glitch 0.3s ease-in-out infinite;
    }
    
    .animate-flicker {
      animation: flicker 0.1s ease-in-out infinite;
    }
    
    .animate-neon-pulse {
      animation: neon-pulse 2s ease-in-out infinite;
    }
    
    .animate-border-glow {
      animation: border-glow 2s ease-in-out infinite;
    }
    
    .secret-scanline::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, rgba(255,0,64,0.5), transparent);
      animation: scanline 3s linear infinite;
      pointer-events: none;
    }
    
    /*   */
    .animate-fade-in-up {
      animation: fadeInUp 0.4s ease-out forwards;
    }
    
    .animate-fade-in-down {
      animation: fadeInDown 0.4s ease-out forwards;
    }
    
    .animate-fade-in {
      animation: fadeIn 0.3s ease-out forwards;
    }
    
    .animate-slide-in-right {
      animation: slideInRight 0.4s ease-out forwards;
    }
    
    .animate-slide-in-left {
      animation: slideInLeft 0.4s ease-out forwards;
    }
    
    .animate-scale-in {
      animation: scaleIn 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }
    
    .animate-scale-out {
      animation: scaleOut 0.2s ease-in forwards;
    }
    
    .animate-fade-out {
      animation: fadeOut 0.2s ease-in forwards;
    }
    
    @keyframes scaleOut {
      from {
        opacity: 1;
        transform: scale(1);
      }
      to {
        opacity: 0;
        transform: scale(0.95);
      }
    }
    
    @keyframes fadeOut {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
      }
    }
    
    /*   */
    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }
    
    .animate-pulse-glow {
      animation: pulse-glow 2s ease-in-out infinite;
    }
    
    /*    */
    .stagger-1 { animation-delay: 0.05s; }
    .stagger-2 { animation-delay: 0.1s; }
    .stagger-3 { animation-delay: 0.15s; }
    .stagger-4 { animation-delay: 0.2s; }
    .stagger-5 { animation-delay: 0.25s; }
    .stagger-6 { animation-delay: 0.3s; }
    
    /*   */
    .hover-lift {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    
    .hover-lift:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
    }
    
    /*    */
    .btn-ripple {
      position: relative;
      overflow: hidden;
    }
    
    .btn-ripple::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.4s ease, height 0.4s ease;
    }
    
    .btn-ripple:active::after {
      width: 200px;
      height: 200px;
    }
    
    /*    */
    .card-glow {
      transition: all 0.3s ease;
    }
    
    .card-glow:hover {
      box-shadow: 0 0 30px rgba(59, 130, 246, 0.15);
    }
    
    /*   */
    .gradient-text {
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    /*    */
    .shimmer {
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
    }
  `}),As=[{id:1,category:"",name:" G1",wholesale:7e5,retail:11e5},{id:2,category:"",name:" G2",wholesale:865e3,retail:15e5},{id:3,category:"",name:" G1C1",wholesale:821e3,retail:1361e3},{id:4,category:"",name:" G2C1",wholesale:986e3,retail:1761e3},{id:5,category:"",name:" ",wholesale:44e4,retail:7e5},{id:6,category:"",name:"",wholesale:35e4,retail:49e4},{id:7,category:"",name:"RW  ",wholesale:46e4,retail:56e4},{id:8,category:"",name:"RW  5-10",wholesale:33e4,retail:56e4},{id:9,category:"",name:"RW  11-20",wholesale:27e4,retail:56e4},{id:10,category:"",name:"",wholesale:242e3,retail:35e4},{id:11,category:" ",name:" ",wholesale:25e4,retail:5e5},{id:12,category:" ",name:" ",wholesale:176e3,retail:361e3},{id:13,category:"/",name:"  ",wholesale:33e3,retail:77e3},{id:14,category:"/",name:"OBD ",wholesale:16500,retail:33e3},{id:15,category:"/",name:"   ",wholesale:16500,retail:33e3},{id:16,category:"/",name:" ",wholesale:22e3,retail:33e3},{id:17,category:"/",name:"  ",wholesale:38500,retail:11e4},{id:18,category:" ",name:" 100 150 51",wholesale:38500,retail:null},{id:19,category:" ",name:" 100 150 54",wholesale:38500,retail:null},{id:20,category:" ",name:" 100 150 61",wholesale:38500,retail:null},{id:21,category:" ",name:" 100 150 64",wholesale:38500,retail:null},{id:22,category:" ",name:" 100 200 51",wholesale:38500,retail:null},{id:23,category:" ",name:" 100 200 54",wholesale:38500,retail:null},{id:24,category:" ",name:" 100 200 61",wholesale:38500,retail:null},{id:25,category:" ",name:" 100 200 64",wholesale:38500,retail:null},{id:26,category:" ",name:" 100 250 51",wholesale:38500,retail:null},{id:27,category:" ",name:" 100 250 54",wholesale:38500,retail:null},{id:28,category:" ",name:" 100 250 61",wholesale:38500,retail:null},{id:29,category:" ",name:" 100 250 64",wholesale:38500,retail:null},{id:30,category:" ",name:" 100 250 77",wholesale:38500,retail:null},{id:31,category:" ",name:" 114 250 54",wholesale:49500,retail:null},{id:32,category:" ",name:" 114 250 61",wholesale:49500,retail:null},{id:33,category:" ",name:" 114 250 64",wholesale:49500,retail:null},{id:34,category:" ",name:" 114 250 77",wholesale:49500,retail:null},{id:35,category:" ",name:" 114 300 54",wholesale:49500,retail:null},{id:36,category:" ",name:" 114 300 61",wholesale:49500,retail:null},{id:37,category:" ",name:" 114 300 64",wholesale:49500,retail:null},{id:38,category:" ",name:" 114 300 77",wholesale:49500,retail:null},{id:39,category:" ",name:" 150 220 54",wholesale:60500,retail:null},{id:40,category:" ",name:" 150 220 61",wholesale:60500,retail:null},{id:41,category:" ",name:" 150 220 64",wholesale:60500,retail:null},{id:42,category:" ",name:" 150 220 77",wholesale:60500,retail:null},{id:43,category:" ",name:" 150 300 54",wholesale:60500,retail:null},{id:44,category:" ",name:" 150 300 61",wholesale:60500,retail:null},{id:45,category:" ",name:" 150 300 64",wholesale:60500,retail:null},{id:46,category:" ",name:" 150 300 77",wholesale:60500,retail:null},{id:47,category:"CH  ",name:"CH 150 54",wholesale:29700,retail:null},{id:48,category:"CH  ",name:"CH 150 61",wholesale:29700,retail:null},{id:49,category:"CH  ",name:"CH 150 64",wholesale:29700,retail:null},{id:50,category:"CH  ",name:"CH 200 54",wholesale:30800,retail:null},{id:51,category:"CH  ",name:"CH 200 61",wholesale:30800,retail:null},{id:52,category:"CH  ",name:"CH 200 64",wholesale:30800,retail:null},{id:53,category:"CH  ",name:"CH 200 70",wholesale:30800,retail:null},{id:54,category:"CH  ",name:"CH 200 77",wholesale:30800,retail:null},{id:55,category:"CH  ",name:"CH 250 54",wholesale:31900,retail:null},{id:56,category:"CH  ",name:"CH 250 61",wholesale:31900,retail:null},{id:57,category:"CH  ",name:"CH 250 64",wholesale:31900,retail:null},{id:58,category:"TVB    (X)",name:"  TVB 5451 , 1",wholesale:22e4,retail:null},{id:59,category:"TVB    (X)",name:"  TVB 5451 L",wholesale:11e4,retail:null},{id:60,category:"TVB    (X)",name:"  TVB 5451 R",wholesale:11e4,retail:null},{id:61,category:"TVB    (X)",name:"  TVB 6461 , 1",wholesale:22e4,retail:null},{id:62,category:"TVB    (X)",name:"  TVB 6461 L",wholesale:11e4,retail:null},{id:63,category:"TVB    (X)",name:"  TVB 6461 R",wholesale:11e4,retail:null},{id:64,category:"TVB    (X)",name:"  TVB 77 , 1",wholesale:242e3,retail:null},{id:65,category:"TVB    (X)",name:"  TVB 77 L",wholesale:121e3,retail:null},{id:66,category:"TVB    (X)",name:"  TVB 77 R",wholesale:121e3,retail:null},{id:67,category:"TVB    (X)",name:"  TVB 77  h",wholesale:22e3,retail:null},{id:68,category:"MVB    (O)",name:" MVB 54 Y , 1",wholesale:365200,retail:null},{id:69,category:"MVB    (O)",name:" MVB 54 Y L",wholesale:182600,retail:null},{id:70,category:"MVB    (O)",name:" MVB 54 Y R",wholesale:182600,retail:null},{id:71,category:"MVB    (O)",name:" MVB 64 Y , 1",wholesale:365200,retail:null},{id:72,category:"MVB    (O)",name:" MVB 64 Y L",wholesale:182600,retail:null},{id:73,category:"MVB    (O)",name:" MVB 64 Y R",wholesale:182600,retail:null},{id:74,category:"MVB    (O)",name:" MVB 54 h , 1",wholesale:365200,retail:null},{id:75,category:"MVB    (O)",name:" MVB 54 h L",wholesale:182600,retail:null},{id:76,category:"MVB    (O)",name:" MVB 54 h R",wholesale:182600,retail:null},{id:77,category:"MVB    (O)",name:" MVB 64 h , 1",wholesale:365200,retail:null},{id:78,category:"MVB    (O)",name:" MVB 64 h L",wholesale:182600,retail:null},{id:79,category:"MVB    (O)",name:" MVB 64 h R",wholesale:182600,retail:null},{id:80,category:"MV KIT",name:"MV KIT",wholesale:162800,retail:null},{id:81,category:"MV KIT",name:"MVB 54Y , MV  ",wholesale:502700,retail:null},{id:82,category:"MV KIT",name:"MVB 54h , MV  ",wholesale:502700,retail:null},{id:83,category:"MV KIT",name:"MVB 64Y , MV  ",wholesale:502700,retail:null},{id:84,category:"MV KIT",name:"MVB 64h , MV  ",wholesale:502700,retail:null},{id:85,category:"TVB    (O)",name:" TVB 54 Y , 1",wholesale:363e3,retail:null},{id:86,category:"TVB    (O)",name:" TVB 54 Y L",wholesale:181500,retail:null},{id:87,category:"TVB    (O)",name:" TVB 54 Y R",wholesale:181500,retail:null},{id:88,category:"TVB    (O)",name:" TVB 64 Y , 1",wholesale:363e3,retail:null},{id:89,category:"TVB    (O)",name:" TVB 64 Y L",wholesale:181500,retail:null},{id:90,category:"TVB    (O)",name:" TVB 64 Y R",wholesale:181500,retail:null},{id:91,category:"TVB    (O)",name:" TVB 54 h , 1",wholesale:363e3,retail:null},{id:92,category:"TVB    (O)",name:" TVB 54 h L",wholesale:181500,retail:null},{id:93,category:"TVB    (O)",name:" TVB 54 h R",wholesale:181500,retail:null},{id:94,category:"TVB    (O)",name:" TVB 64 h , 1",wholesale:363e3,retail:null},{id:95,category:"TVB    (O)",name:" TVB 64 h L",wholesale:181500,retail:null},{id:96,category:"TVB    (O)",name:" TVB 64 h R",wholesale:181500,retail:null},{id:97,category:"T ",name:"T  VT 6454",wholesale:286e3,retail:null},{id:98,category:"T ",name:"T  VT 76 370SC",wholesale:363e3,retail:null},{id:99,category:"T ",name:"T  VT 76 370S",wholesale:363e3,retail:null},{id:100,category:"T ",name:"T  VT 76 780D 650",wholesale:682e3,retail:null},{id:101,category:"T ",name:"T  VT 80 710S",wholesale:44e4,retail:null},{id:102,category:"T ",name:"T  VT 76 612D 480",wholesale:484e3,retail:null},{id:103,category:"T ",name:"T  VT 76 520D 380",wholesale:44e4,retail:null},{id:104,category:"T ",name:"T  VT 76 440D 140",wholesale:44e4,retail:null},{id:105,category:"T ",name:"T  VT 76 440D 300",wholesale:44e4,retail:null},{id:106,category:"T ",name:"X64 ",wholesale:88e3,retail:null},{id:107,category:"T ",name:"H64 ",wholesale:88e3,retail:null},{id:108,category:"/",name:"  VV 54",wholesale:88e3,retail:null},{id:109,category:"/",name:"  VV 64",wholesale:88e3,retail:null},{id:110,category:"/",name:"  VV 76",wholesale:99e3,retail:null},{id:111,category:"/",name:"    FXR",wholesale:53900,retail:null},{id:112,category:"/",name:"  ",wholesale:4400,retail:null},{id:113,category:"/",name:" ",wholesale:123,retail:null},{id:114,category:"/",name:" ",wholesale:123,retail:null},{id:115,category:"/",name:"T ",wholesale:123,retail:null},{id:116,category:"/",name:"     FXPW",wholesale:95700,retail:null},{id:117,category:"/",name:"     FXPS",wholesale:44e3,retail:null},{id:118,category:"/",name:"  VP KIT",wholesale:143e3,retail:null},{id:119,category:" ",name:"  SCF 93S-G",wholesale:72600,retail:null},{id:120,category:" ",name:"  SCF 103S-G",wholesale:83600,retail:null},{id:121,category:" ",name:"  SCF 116S-G",wholesale:89100,retail:null},{id:122,category:" ",name:"  SCF 130S-G",wholesale:143e3,retail:null},{id:123,category:" ",name:"  SCF 93D-G",wholesale:145200,retail:null},{id:124,category:" ",name:"  SCF 103D-G",wholesale:167200,retail:null},{id:125,category:" ",name:"  SCF 116D-G",wholesale:178200,retail:null},{id:126,category:" ",name:"  CFK 80S-G",wholesale:66e3,retail:null},{id:127,category:" ",name:"  CFK 93S-G",wholesale:66e3,retail:null},{id:128,category:" ",name:"  CFK 103S-G",wholesale:77e3,retail:null},{id:129,category:" ",name:"  CFK 116S-G",wholesale:82500,retail:null},{id:130,category:" ",name:"  CFK 80D-G",wholesale:132e3,retail:null},{id:131,category:" ",name:"  CFK 93D-G",wholesale:132e3,retail:null},{id:132,category:" ",name:"  CFK 103D-G",wholesale:154e3,retail:null},{id:133,category:" ",name:"  CFK 116D-G",wholesale:165e3,retail:null},{id:134,category:" ",name:"  NCF 130S-G",wholesale:143e3,retail:null},{id:135,category:"NPK ",name:" NPK 80D-S",wholesale:41250,retail:null},{id:136,category:"NPK ",name:" NPK 80D-T",wholesale:57750,retail:null},{id:137,category:"NPK ",name:" NPK 80D-B",wholesale:57750,retail:null},{id:138,category:"NPK ",name:" NPK 80S-S",wholesale:18150,retail:null},{id:139,category:"NPK ",name:" NPK 80S-T",wholesale:26400,retail:null},{id:140,category:"NPK ",name:" NPK 80S-B",wholesale:26400,retail:null},{id:141,category:"NPK ",name:" NPK 89D-S",wholesale:41250,retail:null},{id:142,category:"NPK ",name:" NPK 89D-T",wholesale:57750,retail:null},{id:143,category:"NPK ",name:" NPK 89D-B",wholesale:57750,retail:null},{id:144,category:"NPK ",name:" NPK 89S-S",wholesale:18150,retail:null},{id:145,category:"NPK ",name:" NPK 89S-T",wholesale:26400,retail:null},{id:146,category:"NPK ",name:" NPK 89S-B",wholesale:26400,retail:null},{id:147,category:"NPK ",name:" NPK 100D-S",wholesale:52250,retail:null},{id:148,category:"NPK ",name:" NPK 100D-T",wholesale:78760,retail:null},{id:149,category:"NPK ",name:" NPK 100D-B",wholesale:78760,retail:null},{id:150,category:"NPK ",name:" NPK 100S-S",wholesale:23650,retail:null},{id:151,category:"NPK ",name:" NPK 100S-T",wholesale:36850,retail:null},{id:152,category:"NPK ",name:" NPK 100S-B",wholesale:36850,retail:null},{id:153,category:"NPK ",name:" NPK 114D-S",wholesale:7700,retail:null},{id:154,category:"NPK ",name:" NPK 114D-T",wholesale:96800,retail:null},{id:155,category:"NPK ",name:" NPK 114D-B",wholesale:96800,retail:null},{id:156,category:"NPK ",name:" NPK 114S-S",wholesale:35750,retail:null},{id:157,category:"NPK ",name:" NPK 114S-T",wholesale:46200,retail:null},{id:158,category:"NPK ",name:" NPK 114S-B",wholesale:46200,retail:null},{id:159,category:"SNPK ",name:"  SNPK 89D-S",wholesale:51700,retail:null},{id:160,category:"SNPK ",name:"  SNPK 89D-T",wholesale:65450,retail:null},{id:161,category:"SNPK ",name:"  SNPK 89D-B",wholesale:65450,retail:null},{id:162,category:"SNPK ",name:"  SNPK 89S-S",wholesale:23100,retail:null},{id:163,category:"SNPK ",name:"  SNPK 89S-T",wholesale:30250,retail:null},{id:164,category:"SNPK ",name:"  SNPK 89S-B",wholesale:30250,retail:null},{id:165,category:"SNPK ",name:"  SNPK 100D-S",wholesale:59950,retail:null},{id:166,category:"SNPK ",name:"  SNPK 100D-T",wholesale:76450,retail:null},{id:167,category:"SNPK ",name:"  SNPK 100D-B",wholesale:78650,retail:null},{id:168,category:"SNPK ",name:"  SNPK 100S-S",wholesale:27500,retail:null},{id:169,category:"SNPK ",name:"  SNPK 100S-T",wholesale:35750,retail:null},{id:170,category:"SNPK ",name:"  SNPK 100S-B",wholesale:36850,retail:null},{id:171,category:"SNPK ",name:"  SNPK 114D-S",wholesale:83600,retail:null},{id:172,category:"SNPK ",name:"  SNPK 114D-T",wholesale:104500,retail:null},{id:173,category:"SNPK ",name:"  SNPK 114D-B",wholesale:105600,retail:null},{id:174,category:"SNPK ",name:"  SNPK 114S-S",wholesale:39050,retail:null},{id:175,category:"SNPK ",name:"  SNPK 114S-T",wholesale:49500,retail:null},{id:176,category:"SNPK ",name:"  SNPK 114S-B",wholesale:50050,retail:null},{id:177,category:"SNPK ",name:"  SNPK 127S-S",wholesale:48400,retail:null},{id:178,category:"SNPK ",name:"  SNPK 127S-T",wholesale:55e3,retail:null},{id:179,category:"SNPK ",name:"  SNPK 127S-B",wholesale:57200,retail:null},{id:180,category:"SNPK ",name:"  SNPK 142S-S",wholesale:89100,retail:null},{id:181,category:"SNPK ",name:"  SNPK 142S-T",wholesale:100100,retail:null},{id:182,category:"SNPK ",name:"  SNPK 142S-B",wholesale:102300,retail:null},{id:183,category:"/AMG",name:" DSQ1-S",wholesale:176e3,retail:null},{id:184,category:"/AMG",name:" DSQ1-T",wholesale:22e4,retail:null},{id:185,category:"/AMG",name:" DSQ1-B",wholesale:22e4,retail:null},{id:186,category:"/AMG",name:" DSQ1-R",wholesale:22e4,retail:null},{id:187,category:"/AMG",name:" DSQ1-G",wholesale:22e4,retail:null},{id:188,category:"/AMG",name:" DSQ2-S",wholesale:22e4,retail:null},{id:189,category:"/AMG",name:" DSQ2-T",wholesale:275e3,retail:null},{id:190,category:"/AMG",name:" DSQ2-B",wholesale:275e3,retail:null},{id:191,category:"/AMG",name:" AMG  ",wholesale:2e5,retail:null},{id:192,category:"/AMG",name:" AMG  ",wholesale:22e4,retail:null},{id:193,category:"/AMG",name:" AMG  ",wholesale:22e4,retail:null},{id:194,category:"/AMG",name:" AMG  ",wholesale:242e3,retail:null},{id:195,category:"/AMG",name:"AMG OLD  h",wholesale:2e5,retail:null},{id:196,category:"/AMG",name:"T  T6454",wholesale:24200,retail:null},{id:197,category:"/",name:"  C100S",wholesale:189200,retail:null},{id:198,category:"/",name:"  C200S",wholesale:189200,retail:null},{id:199,category:"/",name:"  C300S",wholesale:123,retail:null},{id:200,category:"/",name:"  ",wholesale:1650,retail:null},{id:201,category:"",name:" SF 54 S  120",wholesale:36300,retail:null},{id:202,category:"",name:" SF 54 S  100",wholesale:36300,retail:null},{id:203,category:"",name:" SF 54 S  80",wholesale:36300,retail:null},{id:204,category:"",name:" SF 61 S  120",wholesale:36300,retail:null},{id:205,category:"",name:" SF 61 S  100",wholesale:36300,retail:null},{id:206,category:"",name:" SF 61 S  80",wholesale:36300,retail:null},{id:207,category:"",name:" SF 64 S  120",wholesale:null,retail:null},{id:208,category:"",name:" SF 64 S  100",wholesale:null,retail:null},{id:209,category:"",name:" SF 64 S  80",wholesale:36300,retail:null},{id:210,category:"",name:" SF 54 L  160",wholesale:41800,retail:null},{id:211,category:"",name:" SF 61 L  160",wholesale:41800,retail:null},{id:212,category:"",name:" SF 64 L  160",wholesale:41800,retail:null},{id:213,category:"",name:" SF 70 L  160",wholesale:55e3,retail:null},{id:214,category:"",name:" SF 76 L  160",wholesale:55e3,retail:null},{id:215,category:"",name:" IT 4020",wholesale:176e3,retail:null},{id:216,category:"",name:" IT 4323",wholesale:181500,retail:null},{id:217,category:"",name:" IT 5023",wholesale:192500,retail:null},{id:218,category:"",name:" IT 5523",wholesale:203500,retail:null},{id:219,category:"",name:" IT 6020",wholesale:198e3,retail:null},{id:220,category:"",name:" IT 6030",wholesale:286e3,retail:null},{id:221,category:"",name:" IT 6024",wholesale:22e4,retail:null},{id:222,category:"",name:" IT 6030GT",wholesale:594e3,retail:null},{id:223,category:"",name:" IT 4320R",wholesale:187e3,retail:null},{id:224,category:"",name:" IT 5520R",wholesale:209e3,retail:null},{id:225,category:" ",name:"   SS50",wholesale:5500,retail:null},{id:226,category:" ",name:"   SS54",wholesale:6050,retail:null},{id:227,category:" ",name:"   SS60",wholesale:6600,retail:null},{id:228,category:" ",name:"   SS63",wholesale:7150,retail:null},{id:229,category:" ",name:"   SS70",wholesale:7700,retail:null},{id:230,category:" ",name:"   SS76",wholesale:8250,retail:null},{id:231,category:" ",name:"   SS80",wholesale:8800,retail:null},{id:232,category:" ",name:"   SS90",wholesale:9900,retail:null},{id:233,category:" ",name:"   SS100",wholesale:11e3,retail:null},{id:234,category:" ",name:"  SR4050",wholesale:6050,retail:null},{id:235,category:" ",name:"  SR4060",wholesale:7150,retail:null},{id:236,category:" ",name:"  SR5060",wholesale:7150,retail:null},{id:237,category:" ",name:"  SR5063",wholesale:7150,retail:null},{id:238,category:" ",name:"  SR5070",wholesale:8250,retail:null},{id:239,category:" ",name:"  SR5076",wholesale:8800,retail:null},{id:240,category:" ",name:"  SR5460",wholesale:7150,retail:null},{id:241,category:" ",name:"  SR5463",wholesale:7700,retail:null},{id:242,category:" ",name:"  SR6063",wholesale:7700,retail:null},{id:243,category:" ",name:"  SR6070",wholesale:8250,retail:null},{id:244,category:" ",name:"  SR6076",wholesale:8800,retail:null},{id:245,category:" ",name:"  SR6080",wholesale:9350,retail:null},{id:246,category:" ",name:"  SR6370",wholesale:8250,retail:null},{id:247,category:" ",name:"  SR6376",wholesale:8800,retail:null},{id:248,category:" ",name:"  SR6380",wholesale:9350,retail:null},{id:249,category:" ",name:"  SR7076",wholesale:8800,retail:null},{id:250,category:" ",name:"  SR7080",wholesale:9680,retail:null},{id:251,category:" ",name:"  SR70100",wholesale:14850,retail:null},{id:252,category:" ",name:"  SR76100",wholesale:13200,retail:null},{id:253,category:" ",name:"  SR8090",wholesale:14300,retail:null},{id:254,category:" ",name:"  SR80100",wholesale:15400,retail:null},{id:255,category:" ",name:"  SR90100",wholesale:16500,retail:null},{id:256,category:" ",name:"   5m SV3",wholesale:12100,retail:null},{id:257,category:" ",name:"   5m SV4",wholesale:14300,retail:null},{id:258,category:" ",name:"   5m SV6",wholesale:22e3,retail:null},{id:259,category:" ",name:"   5m SV8",wholesale:29700,retail:null},{id:260,category:" ",name:"   5m SV10",wholesale:41800,retail:null},{id:261,category:" ",name:"   5m SV12",wholesale:53900,retail:null},{id:262,category:" ",name:"   5m SV20",wholesale:92400,retail:null},{id:263,category:" ",name:"  90SEL50",wholesale:16500,retail:null},{id:264,category:" ",name:"  90SEL60",wholesale:19800,retail:null},{id:265,category:" ",name:"  90SEL63",wholesale:19800,retail:null},{id:266,category:" ",name:"  90SEL70",wholesale:24200,retail:null},{id:267,category:" ",name:"  90SEL80",wholesale:27500,retail:null},{id:268,category:" ",name:"  45SEL50",wholesale:16500,retail:null},{id:269,category:" ",name:"  45SEL60",wholesale:19800,retail:null},{id:270,category:" ",name:"  45SEL63",wholesale:19800,retail:null},{id:271,category:" ",name:"  45SEL70",wholesale:24200,retail:null},{id:272,category:" ",name:"  45SEL80",wholesale:27500,retail:null},{id:273,category:" ",name:"  90SER5060",wholesale:24200,retail:null},{id:274,category:" ",name:"  90SER5063",wholesale:24200,retail:null},{id:275,category:" ",name:"  90SER6070",wholesale:30800,retail:null},{id:276,category:" ",name:"  90SER6370",wholesale:30800,retail:null},{id:277,category:" ",name:"  90SER7080",wholesale:30800,retail:null},{id:278,category:" ",name:"  45SER5060",wholesale:24200,retail:null},{id:279,category:" ",name:"  45SER5063",wholesale:24200,retail:null},{id:280,category:" ",name:"  45SER6070",wholesale:30800,retail:null},{id:281,category:" ",name:"  45SER6370",wholesale:30800,retail:null},{id:282,category:" ",name:"  45SER7080",wholesale:30800,retail:null},{id:283,category:" ",name:"  135SEL50",wholesale:49500,retail:null},{id:284,category:" ",name:"  135SEL63",wholesale:60500,retail:null},{id:285,category:" ",name:"  135SEL70",wholesale:71500,retail:null},{id:286,category:" ",name:"  HUM60",wholesale:16500,retail:null},{id:287,category:" ",name:"  HUM5460",wholesale:19800,retail:null},{id:288,category:"",name:" FL 51",wholesale:4400,retail:null},{id:289,category:"",name:" FL 54",wholesale:4400,retail:null},{id:290,category:"",name:" FL 61",wholesale:4400,retail:null},{id:291,category:"",name:" FL 63",wholesale:4400,retail:null},{id:292,category:"",name:" FL 63 BIG",wholesale:12,retail:null},{id:293,category:"",name:" FL 65",wholesale:4600,retail:null},{id:294,category:"",name:" FL 70",wholesale:5060,retail:null},{id:295,category:"",name:" FL 76",wholesale:5060,retail:null},{id:296,category:"",name:" ",wholesale:2970,retail:null},{id:297,category:" ",name:"   2m 50",wholesale:52250,retail:null},{id:298,category:" ",name:"   2m 54",wholesale:55e3,retail:null},{id:299,category:" ",name:"   2m 60",wholesale:60500,retail:null},{id:300,category:" ",name:"   2m 63",wholesale:63800,retail:null},{id:301,category:" ",name:"   2m 70",wholesale:99e3,retail:null},{id:302,category:" ",name:"  51-15",wholesale:10450,retail:null},{id:303,category:" ",name:"  51-30",wholesale:10450,retail:null},{id:304,category:" ",name:"  51-45",wholesale:10450,retail:null},{id:305,category:" ",name:"  51-90",wholesale:10450,retail:null},{id:306,category:" ",name:"  51-60",wholesale:10450,retail:null},{id:307,category:" ",name:"  51-75",wholesale:10450,retail:null},{id:308,category:" ",name:"  54-15",wholesale:11e3,retail:null},{id:309,category:" ",name:"  54-30",wholesale:11e3,retail:null},{id:310,category:" ",name:"  54-45",wholesale:11e3,retail:null},{id:311,category:" ",name:"  54-90",wholesale:11e3,retail:null},{id:312,category:" ",name:"  54-60",wholesale:11e3,retail:null},{id:313,category:" ",name:"  54-75",wholesale:11e3,retail:null},{id:314,category:" ",name:"  60-15",wholesale:12100,retail:null},{id:315,category:" ",name:"  60-30",wholesale:12100,retail:null},{id:316,category:" ",name:"  60-45",wholesale:12100,retail:null},{id:317,category:" ",name:"  60-90",wholesale:12100,retail:null},{id:318,category:" ",name:"  60-60",wholesale:12100,retail:null},{id:319,category:" ",name:"  60-75",wholesale:12100,retail:null},{id:320,category:" ",name:"  63-15",wholesale:13200,retail:null},{id:321,category:" ",name:"  63-30",wholesale:13200,retail:null},{id:322,category:" ",name:"  63-45",wholesale:13200,retail:null},{id:323,category:" ",name:"  63-90",wholesale:13200,retail:null},{id:324,category:" ",name:"  63-60",wholesale:13200,retail:null},{id:325,category:" ",name:"  63-75",wholesale:13200,retail:null},{id:326,category:" ",name:"  70-45",wholesale:25300,retail:null},{id:327,category:" ",name:"  70-90",wholesale:25300,retail:null},{id:328,category:" ",name:"  76-45",wholesale:18700,retail:null},{id:329,category:" ",name:"  76-90",wholesale:18700,retail:null},{id:330,category:" ",name:"  50-45",wholesale:4950,retail:null},{id:331,category:" ",name:"  50-90",wholesale:4950,retail:null},{id:332,category:" ",name:"  63-45",wholesale:6600,retail:null},{id:333,category:" ",name:"  63-90",wholesale:6600,retail:null},{id:334,category:" ",name:"  76-45",wholesale:8800,retail:null},{id:335,category:" ",name:"  76-90",wholesale:8800,retail:null},{id:336,category:" ",name:"  50-45",wholesale:15400,retail:null},{id:337,category:" ",name:"  50-90",wholesale:15400,retail:null},{id:338,category:" ",name:"  60-45",wholesale:17600,retail:null},{id:339,category:" ",name:"  60-90",wholesale:17600,retail:null},{id:340,category:" ",name:"  70-45",wholesale:18700,retail:null},{id:341,category:" ",name:"  70-90",wholesale:18700,retail:null},{id:342,category:" ",name:"  80-45",wholesale:27500,retail:null},{id:343,category:" ",name:"  80-90",wholesale:27500,retail:null},{id:344,category:"",name:"  8-12",wholesale:480,retail:null},{id:345,category:"",name:"  10-16",wholesale:480,retail:null},{id:346,category:"",name:"  13-19",wholesale:480,retail:null},{id:347,category:"",name:"  16-25",wholesale:480,retail:null},{id:348,category:"",name:"  19-29",wholesale:560,retail:null},{id:349,category:"",name:"  22-32",wholesale:560,retail:null},{id:350,category:"",name:"  32-44",wholesale:560,retail:null},{id:351,category:"",name:"  35-50",wholesale:600,retail:null},{id:352,category:"",name:"  38-57",wholesale:640,retail:null},{id:353,category:"",name:"  40-64",wholesale:1200,retail:null},{id:354,category:"",name:"  60-80",wholesale:1200,retail:null},{id:355,category:"",name:"  50-70",wholesale:1200,retail:null},{id:356,category:"",name:"  64-76",wholesale:1200,retail:null},{id:357,category:"",name:"  70-90",wholesale:1600,retail:null},{id:358,category:"",name:"  80-100",wholesale:1600,retail:null},{id:359,category:"",name:"  90-110",wholesale:1600,retail:null},{id:360,category:"",name:"  100-120",wholesale:1600,retail:null},{id:361,category:"",name:"y",wholesale:2e4,retail:null},{id:362,category:"",name:"h",wholesale:25e3,retail:null},{id:363,category:"",name:"3.8  ",wholesale:22e4,retail:25e4},{id:364,category:"",name:"  ",wholesale:209e3,retail:27e4},{id:365,category:"",name:"  + ",wholesale:517e3,retail:7e5},{id:366,category:"",name:" BK1 BK2   1",wholesale:33e4,retail:45e4},{id:367,category:"",name:" X ",wholesale:264e3,retail:35e4},{id:368,category:"",name:" X  GEN1.5",wholesale:319e3,retail:4e5},{id:369,category:"",name:" FRP  ",wholesale:33e4,retail:45e4},{id:370,category:"",name:" FRP  ",wholesale:77e4,retail:99e4},{id:371,category:"",name:" FRP  ",wholesale:11e4,retail:135e3},{id:372,category:"",name:"   ",wholesale:154e3,retail:19e4},{id:373,category:"",name:"     ",wholesale:33e4,retail:45e4},{id:374,category:"",name:" BK1 FRP  ",wholesale:44e4,retail:69e4},{id:375,category:"",name:"   ",wholesale:77e3,retail:99e3},{id:376,category:"",name:"  4  ",wholesale:385e3,retail:52e4},{id:377,category:"",name:"   ",wholesale:44e4,retail:58e4},{id:378,category:"",name:"    ",wholesale:23e4,retail:28e4},{id:379,category:"",name:"    ",wholesale:176e3,retail:21e4},{id:380,category:"",name:"   1",wholesale:66e3,retail:85e3},{id:381,category:"",name:"  ",wholesale:13e4,retail:174e3},{id:382,category:"",name:"38   ",wholesale:33e4,retail:38e4},{id:383,category:"",name:" ",wholesale:11e4,retail:15e4},{id:384,category:"",name:" frp",wholesale:44e4,retail:55e4},{id:385,category:"",name:"     4",wholesale:2e5,retail:24e4},{id:386,category:"",name:"     2",wholesale:14e4,retail:18e4},{id:387,category:"",name:"     2",wholesale:14e4,retail:18e4},{id:388,category:"",name:"     2",wholesale:14e4,retail:18e4},{id:389,category:"",name:"     2",wholesale:1e5,retail:12e4},{id:390,category:"",name:"     2",wholesale:1e5,retail:12e4},{id:391,category:"",name:"   2.0",wholesale:99e4,retail:12e5},{id:392,category:"",name:"   3.8",wholesale:1485e3,retail:177e4},{id:393,category:"",name:"   2.0",wholesale:66e4,retail:85e4},{id:394,category:"",name:"   3.8",wholesale:99e4,retail:12e5},{id:395,category:"IRP",name:"IRP   ",wholesale:95e4,retail:115e4},{id:396,category:"IRP",name:"IRP   GT86 ",wholesale:8e5,retail:99e4},{id:397,category:"IRP",name:"IRP   350z ",wholesale:8e5,retail:1e6},{id:398,category:"IRP",name:"IRP   ",wholesale:55e4,retail:64e4},{id:399,category:"IRP",name:"IRP X   ",wholesale:85e4,retail:105e4},{id:400,category:"IRP",name:"IRP X  ",wholesale:69e4,retail:83e4},{id:401,category:"EDEL/BOV",name:"EDEL  (2.0/3.8)",wholesale:165e4,retail:215e4},{id:402,category:"EDEL/BOV",name:"SM6 TCE  BOV ",wholesale:77e3,retail:149e3},{id:403,category:"EDEL/BOV",name:"  BOV ",wholesale:22e3,retail:4e4},{id:404,category:"EDEL/BOV",name:"BOV  2.0T 2.5T",wholesale:44e3,retail:55e3},{id:405,category:"EDEL/BOV",name:"BOV  1.6T 3.3T",wholesale:44e3,retail:55e3},{id:406,category:"EDEL/BOV",name:"BOV  (/K5)",wholesale:33e3,retail:5e4},{id:407,category:"",name:" AD  ",wholesale:143e3,retail:198e3},{id:408,category:"",name:"  PM",wholesale:9e5,retail:12e5},{id:409,category:"",name:" 6  ",wholesale:169e4,retail:199e4},{id:410,category:"",name:"N 4 ",wholesale:891e3,retail:99e4},{id:411,category:"",name:" JS/N FRP 4",wholesale:1701e3,retail:189e4},{id:412,category:"",name:"/    ",wholesale:157250,retail:185e3},{id:413,category:"",name:"    ",wholesale:97750,retail:115e3},{id:414,category:"",name:"   ",wholesale:467500,retail:55e4},{id:415,category:"",name:"  ",wholesale:55e3,retail:89e3},{id:416,category:"",name:"N N N ",wholesale:595e3,retail:7e5},{id:417,category:"",name:"N N   ",wholesale:242250,retail:285e3},{id:418,category:"",name:"   ",wholesale:84150,retail:99e3},{id:419,category:"",name:"/ N  ",wholesale:84150,retail:99e3},{id:420,category:"",name:"    V2 ",wholesale:97750,retail:115e3},{id:421,category:"",name:"    ",wholesale:72250,retail:85e3},{id:422,category:"",name:"   ",wholesale:127500,retail:15e4},{id:423,category:"",name:"  + ",wholesale:238e3,retail:28e4},{id:424,category:"",name:"    ",wholesale:1275e3,retail:15e5},{id:425,category:"",name:" IRP++ ",wholesale:17e5,retail:2e6},{id:426,category:"",name:"N N N   70/80",wholesale:13e4,retail:16e4},{id:427,category:"",name:"N N N  +",wholesale:161500,retail:19e4},{id:428,category:"HKS",name:"HKS   M45 XL",wholesale:33e3,retail:39e3},{id:429,category:"HKS",name:"HKS   M45 IL",wholesale:3e4,retail:34e3},{id:430,category:"HKS",name:"HKS BOV  SQV ",wholesale:265e3,retail:35e4},{id:431,category:"HKS",name:"HKS  200-80/200-100",wholesale:15e4,retail:198e3},{id:432,category:"N/",name:"N   ",wholesale:66e4,retail:85e4},{id:433,category:"N/",name:"N   ",wholesale:99e4,retail:12e5},{id:434,category:"",name:"  265 35 18",wholesale:121e3,retail:155e3},{id:435,category:"",name:"  285 35 19",wholesale:14e4,retail:175e3},{id:436,category:"",name:"  245 40 18",wholesale:79e3,retail:95e3},{id:437,category:"",name:"  265 35 18",wholesale:84e3,retail:99e3},{id:438,category:"",name:"BMW ",wholesale:22e3,retail:33e3},{id:439,category:"",name:"",wholesale:22e3,retail:33e3}];[...new Set(As.map(o=>o.category))];As.forEach(o=>{o.stock===void 0&&(o.stock=50),o.min_stock===void 0&&(o.min_stock=5)});const vt=o=>o==null?"-":new Intl.NumberFormat("ko-KR").format(Math.round(o))+"",Bs=o=>Math.round(o/1.1),Ua=o=>{const m=new Date(o);return`${m.getFullYear()} ${m.getMonth()+1} ${m.getDate()}`},ou=o=>{const m=new Date(o);return`${m.getFullYear()}.${String(m.getMonth()+1).padStart(2,"0")}.${String(m.getDate()).padStart(2,"0")} ${String(m.getHours()).padStart(2,"0")}:${String(m.getMinutes()).padStart(2,"0")}`};function hm({isOpen:o,onClose:m,order:c,formatPrice:b,onUpdateOrder:j,products:$}){const[N,R]=p.useState(!1),[E,le]=p.useState(!1),[Q,ae]=p.useState(null),[de,ge]=p.useState(!1),[V,I]=p.useState(""),[Y,je]=p.useState(!1),[Le,z]=p.useState(null);if(p.useEffect(()=>{c&&ae({...c,customerAddress:c.customerAddress||"",items:[...c.items]})},[c]),p.useEffect(()=>{const k=O=>{O.key==="Escape"&&(O.stopPropagation(),Y?(je(!1),z(null)):E?(ae({...c,customerAddress:c.customerAddress||"",items:[...c.items]}),le(!1),ge(!1)):m())};return o&&window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[o,m,Y,E,c]),p.useEffect(()=>{if(o){const k=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${k}px`,document.body.style.width="100%",document.body.style.overflow="hidden"}return()=>{const k=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflow="",window.scrollTo(0,parseInt(k||"0")*-1)}},[o]),!o||!c||!Q)return null;const X=E?Q.items:c.items,J=X.reduce((k,O)=>k+O.price*O.quantity,0),oe=X.reduce((k,O)=>k+O.quantity,0),U=Bs(J),ye=J-U,Z=$?$.filter(k=>V?Cl(k.name,V):!1).slice(0,8):[],De=(k,O)=>{const W=[...Q.items],y=W[k].quantity+O;y>0&&(W[k].quantity=y,ae({...Q,items:W}))},be=k=>{const O=Q.items.filter((W,y)=>y!==k);O.length>0?ae({...Q,items:O}):alert(" 1  .")},$e=k=>{const O=c.priceType==="wholesale"?k.wholesale:k.retail||k.wholesale,W=Q.items.findIndex(y=>y.id===k.id);if(W>=0){const y=[...Q.items];y[W].quantity+=1,ae({...Q,items:y})}else{const y={id:k.id,name:k.name,price:O,quantity:1};ae({...Q,items:[...Q.items,y]})}I(""),ge(!1)},Re=()=>{const k={...Q,totalAmount:J,updatedAt:new Date().toISOString()};j&&j(k),le(!1),ge(!1)},Ae=()=>{ae({...c,customerAddress:c.customerAddress||"",items:[...c.items]}),le(!1),ge(!1)},te=()=>{let k=`[  ]

`;return k+=`: ${c.orderNumber}
`,k+=`: ${Ua(c.createdAt)}
`,c.customerName&&(k+=`: ${c.customerName}
`),c.customerPhone&&(k+=`: ${c.customerPhone}
`),k+=`: ${c.priceType==="wholesale"?" ( )":" ( )"}

`,k+=`[   ]

`,c.items.forEach((O,W)=>{k+=`${W+1}. ${O.name}
`,k+=`   ${b(O.price)}  ${O.quantity} = ${b(O.price*O.quantity)}

`}),k+=`[   ]

`,k+=` : ${oe}
`,k+=`: ${b(U)}
`,k+=`: ${b(ye)}
`,k+=` : ${b(c.totalAmount)}

`,c.memo&&(k+=`: ${c.memo}

`),k+=` :  010-5858-6046 

`,k+=`      .
`,k},Xe=async()=>{try{await navigator.clipboard.writeText(te()),R(!0),setTimeout(()=>R(!1),2e3)}catch(k){console.error(" :",k)}},Ee=()=>{const k=window.open("","_blank");k.document.write(`
      <html>
        <head>
          <title> - ${c.orderNumber}</title>
          <style>
            body { font-family: 'Malgun Gothic', sans-serif; padding: 40px; max-width: 600px; margin: 0 auto; }
            h1 { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
            .info { margin: 20px 0; }
            .info p { margin: 5px 0; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            th { background: #f5f5f5; }
            .total { font-size: 16px; text-align: right; margin-top: 20px; }
            .total p { margin: 5px 0; }
            .total .grand { font-size: 20px; font-weight: bold; border-top: 2px solid #333; padding-top: 10px; margin-top: 10px; }
            .memo { margin-top: 20px; padding: 10px; background: #f9f9f9; border-radius: 5px; }
            .account { margin-top: 30px; padding: 15px; background: #f0f8ff; border: 1px solid #3b82f6; border-radius: 5px; text-align: center; }
            .account strong { color: #1e40af; font-size: 18px; }
            @media print { body { padding: 20px; } }
          </style>
        </head>
        <body>
          <h1>  </h1>
          <div class="info">
            <p><strong>:</strong> ${c.orderNumber}</p>
            <p><strong>:</strong> ${Ua(c.createdAt)}</p>
            ${c.customerName?`<p><strong>:</strong> ${c.customerName}</p>`:""}
            ${c.customerPhone?`<p><strong>:</strong> ${c.customerPhone}</p>`:""}
            <p><strong>:</strong> ${c.priceType==="wholesale"?"":""}</p>
          </div>
          <table>
            <thead><tr><th>No</th><th></th><th></th><th></th><th></th></tr></thead>
            <tbody>
              ${c.items.map((O,W)=>`
                <tr><td>${W+1}</td><td>${O.name}</td><td>${b(O.price)}</td><td>${O.quantity}</td><td>${b(O.price*O.quantity)}</td></tr>
              `).join("")}
            </tbody>
          </table>
          <div class="total">
            <p> : ${oe}</p>
            <p>: ${b(U)}</p>
            <p>(10%): ${b(ye)}</p>
            <p class="grand"> : ${b(c.totalAmount)}</p>
          </div>
          ${c.memo?`<div class="memo"><strong>:</strong> ${c.memo}</div>`:""}
          <div class="account">
            <strong> </strong><br>
             010-5858-6046 <br><br>
            <span style="color: #e74c3c; font-size: 12px;">      .</span>
          </div>
          <script>window.onload = function() { window.print(); }<\/script>
        </body>
      </html>
    `),k.document.close()};return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in bg-black/80 backdrop-blur-md",style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0",onClick:m,onTouchMove:k=>k.preventDefault()}),t.jsxs("div",{className:"relative bg-slate-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden border border-slate-700 shadow-2xl animate-scale-in flex flex-col",children:[t.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 px-6 py-4 flex items-center justify-between flex-shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(hn,{className:"w-6 h-6 text-white"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:" "}),t.jsx("p",{className:"text-emerald-100 text-sm",children:c.orderNumber})]})]}),t.jsx("button",{onClick:m,className:"p-2 hover:bg-white/20 rounded-lg transition-colors btn-ripple",children:t.jsx(zt,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto overscroll-contain touch-pan-y",style:{WebkitOverflowScrolling:"touch"},children:[t.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-700",children:t.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:":"}),t.jsx("span",{className:"text-white ml-2",children:ou(c.createdAt)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:":"}),t.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-medium ${c.priceType==="wholesale"?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"}`,children:c.priceType==="wholesale"?"":""})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:":"}),E?t.jsx("input",{type:"text",value:Q.customerName||"",onChange:k=>ae({...Q,customerName:k.target.value}),className:"ml-2 px-2 py-1 bg-slate-700 border border-slate-600 rounded text-white text-sm w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:" "}):t.jsx("span",{className:"text-white ml-2",children:c.customerName||"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:":"}),E?t.jsx("input",{type:"text",value:Q.customerPhone||"",onChange:k=>ae({...Q,customerPhone:k.target.value}),className:"ml-2 px-2 py-1 bg-slate-700 border border-slate-600 rounded text-white text-sm w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:" "}):t.jsx("span",{className:"text-white ml-2",children:c.customerPhone||"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400 block mb-1",children:":"}),E?t.jsx("textarea",{value:Q.customerAddress||"",onChange:k=>ae({...Q,customerAddress:k.target.value}),className:"w-full px-2 py-1 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:" ",rows:"2"}):t.jsx("span",{className:"text-white block",children:c.customerAddress||"-"})]})]})}),t.jsxs("div",{className:"p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[t.jsx(js,{className:"w-5 h-5 text-emerald-400"}),"  (",X.length,")"]}),E&&t.jsxs("button",{onClick:()=>ge(!de),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-xs sm:text-sm font-medium flex items-center gap-1.5 transition-colors",children:[t.jsx(Pt,{className:"w-4 h-4"})," "]})]}),E&&de&&t.jsxs("div",{className:"mb-4 relative",children:[t.jsx("input",{type:"text",value:V,onChange:k=>I(k.target.value),onFocus:Hs,placeholder:" ...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),V&&Z.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-800 border border-slate-600 rounded-lg shadow-xl max-h-60 overflow-y-auto z-50",children:Z.map(k=>{const O=c.priceType==="wholesale"?k.wholesale:k.retail||k.wholesale,W=Q.items.some(y=>y.id===k.id);return t.jsx("button",{onClick:()=>$e(k),className:"w-full px-3 py-2 text-left hover:bg-slate-700 transition-colors border-b border-slate-700 last:border-0",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white text-sm",children:k.name}),t.jsx("div",{className:"text-slate-400 text-xs",children:k.category})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:b(O)}),W&&t.jsx("span",{className:"text-xs text-blue-400 bg-blue-500/20 px-2 py-0.5 rounded",children:""})]})]})},k.id)})})]}),t.jsx("div",{className:"space-y-3",children:X.map((k,O)=>t.jsxs("div",{className:"bg-slate-900/50 rounded-xl border border-slate-700/50 overflow-hidden",children:[t.jsx("div",{className:"block sm:hidden",children:t.jsxs("div",{className:"p-3 space-y-2.5",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex items-center gap-2 mb-1",children:t.jsxs("span",{className:"text-xs text-slate-400 bg-slate-700/50 px-1.5 py-0.5 rounded",children:["No.",O+1]})}),t.jsx("div",{className:"text-white font-medium text-sm leading-snug break-words",children:k.name})]}),E&&t.jsx("button",{onClick:()=>be(O),className:"flex-shrink-0 p-1.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded",children:t.jsx(pt,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-2",children:[t.jsx("div",{className:"text-slate-400 text-xs mb-0.5",children:""}),t.jsx("div",{className:"text-slate-200 font-medium tabular-nums",children:b(k.price)})]}),t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-2",children:[t.jsx("div",{className:"text-slate-400 text-xs mb-0.5",children:""}),t.jsx("div",{className:"text-emerald-400 font-bold tabular-nums",children:b(k.price*k.quantity)})]})]}),t.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 rounded-lg p-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:""}),E?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>De(O,-1),className:"w-8 h-8 bg-slate-700 hover:bg-slate-600 rounded-lg flex items-center justify-center text-white font-medium",children:"-"}),t.jsx("span",{className:"w-12 text-center text-white font-bold tabular-nums",children:k.quantity}),t.jsx("button",{onClick:()=>De(O,1),className:"w-8 h-8 bg-slate-700 hover:bg-slate-600 rounded-lg flex items-center justify-center text-white font-medium",children:"+"})]}):t.jsxs("span",{className:"text-white font-medium tabular-nums",children:[k.quantity,""]})]})]})}),t.jsx("div",{className:"hidden sm:block",children:t.jsxs("div",{className:"grid grid-cols-12 gap-3 px-4 py-3 items-center",children:[t.jsx("div",{className:"col-span-1 text-slate-400 text-center font-medium",children:O+1}),t.jsx("div",{className:"col-span-4 text-white font-medium",children:k.name}),t.jsx("div",{className:"col-span-2 text-right text-slate-300 tabular-nums",children:b(k.price)}),t.jsx("div",{className:"col-span-2 text-center",children:E?t.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[t.jsx("button",{onClick:()=>De(O,-1),className:"w-7 h-7 bg-slate-700 hover:bg-slate-600 rounded flex items-center justify-center text-white font-medium",children:"-"}),t.jsx("span",{className:"w-10 text-center text-white font-medium tabular-nums",children:k.quantity}),t.jsx("button",{onClick:()=>De(O,1),className:"w-7 h-7 bg-slate-700 hover:bg-slate-600 rounded flex items-center justify-center text-white font-medium",children:"+"})]}):t.jsxs("span",{className:"text-white font-medium tabular-nums",children:[k.quantity,""]})}),t.jsx("div",{className:"col-span-2 text-right text-emerald-400 font-bold tabular-nums whitespace-nowrap",children:b(k.price*k.quantity)}),E&&t.jsx("div",{className:"col-span-1 flex justify-center",children:t.jsx("button",{onClick:()=>be(O),className:"p-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded flex items-center justify-center",children:t.jsx(pt,{className:"w-4 h-4"})})})]})})]},O))}),c.memo&&t.jsxs("div",{className:"mt-4 p-3 bg-slate-900/50 rounded-lg",children:[t.jsx("span",{className:"text-slate-400 text-sm",children:": "}),t.jsx("span",{className:"text-white text-sm",children:c.memo})]})]})]}),t.jsxs("div",{className:"border-t border-slate-700 p-4 sm:p-6 bg-slate-900/50 flex-shrink-0",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:"text-slate-400 text-sm space-y-1",children:t.jsxs("p",{children:[" : ",t.jsxs("span",{className:"text-white font-medium tabular-nums",children:[oe,""]})]})}),t.jsxs("div",{className:"text-right cursor-pointer hover:bg-slate-700/50 rounded-lg p-2 -m-2 transition-colors",onClick:()=>{z(J),je(!0)},title:" ",children:[t.jsxs("div",{className:"text-sm text-slate-400 space-y-1 mb-2",children:[t.jsxs("p",{className:"flex justify-between gap-3",children:[t.jsx("span",{children:":"}),t.jsx("span",{className:"text-slate-300 tabular-nums",children:b(U)})]}),t.jsxs("p",{className:"flex justify-between gap-3",children:[t.jsx("span",{children:":"}),t.jsx("span",{className:"text-slate-300 tabular-nums",children:b(ye)})]})]}),t.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-white tabular-nums",children:[b(J)," "]})]})]}),E?t.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[t.jsx("button",{onClick:Ae,className:"flex-1 py-2.5 sm:py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-medium text-sm sm:text-base transition-colors",children:""}),t.jsx("button",{onClick:Re,className:"flex-1 py-2.5 sm:py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white rounded-xl font-medium text-sm sm:text-base transition-colors",children:""})]}):t.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[t.jsxs("button",{onClick:()=>le(!0),className:"flex-1 py-2.5 sm:py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-medium flex items-center justify-center gap-1 sm:gap-2 text-sm sm:text-base transition-colors",children:[t.jsx(dn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),""]}),t.jsx("button",{onClick:Xe,className:`flex-1 py-2.5 sm:py-3 rounded-xl font-medium flex items-center justify-center gap-1 sm:gap-2 text-sm sm:text-base transition-all ${N?"bg-green-600 text-white":"bg-slate-700 hover:bg-slate-600 text-white"}`,children:N?t.jsxs(t.Fragment,{children:[t.jsx(Vs,{className:"w-4 h-4 sm:w-5 sm:h-5"}),""]}):t.jsxs(t.Fragment,{children:[t.jsx(Ur,{className:"w-4 h-4 sm:w-5 sm:h-5"}),""]})}),t.jsxs("button",{onClick:Ee,className:"flex-1 py-2.5 sm:py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-medium flex items-center justify-center gap-1 sm:gap-2 text-sm sm:text-base transition-colors",children:[t.jsx(Ei,{className:"w-4 h-4 sm:w-5 sm:h-5"}),""]}),t.jsx("button",{onClick:m,className:"flex-1 py-2.5 sm:py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white rounded-xl font-medium text-sm sm:text-base transition-colors",children:""})]})]})]}),Y&&t.jsx(Qr,{onClose:()=>{je(!1),z(null)},initialValue:Le})]})}function xm({savedCarts:o,onLoad:m,onDelete:c,onDeleteAll:b,onUpdate:j,onOrder:$,products:N=[],customers:R=[],formatPrice:E,onBack:le,onRefresh:Q,isLoading:ae}){const[de,ge]=p.useState(null),[V,I]=p.useState([]),[Y,je]=p.useState(!1),[Le,z]=p.useState(!1),[X,J]=p.useState(!1),[oe,U]=p.useState(null),[ye,Z]=p.useState(null),[De,be]=p.useState(!1),[$e,Re]=p.useState(null),[Ae,te]=p.useState(!1),[Xe,Ee]=p.useState(""),[k,O]=p.useState(""),[W,y]=p.useState("today"),[L,Me]=p.useState("all"),[H,me]=p.useState(!1),[ke,Ne]=p.useState(!1),[Ye,we]=p.useState(null);p.useEffect(()=>{De&&!$e&&oe&&Re({...oe})},[De,$e,oe]);const ft=(h,D)=>{if(D==="urgent"||D==="high")return{bg:"bg-red-500/20",text:"text-red-400",border:"border-red-500/50",icon:"",label:""};switch(h){case"reservation":return{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/50",icon:"",label:""};case"scheduled":return{bg:"bg-yellow-500/20",text:"text-yellow-400",border:"border-yellow-500/50",icon:"",label:""};case"ready":return{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/50",icon:"",label:""};case"hold":return{bg:"bg-gray-500/20",text:"text-gray-400",border:"border-gray-500/50",icon:"",label:""};case"draft":return{bg:"bg-purple-500/20",text:"text-purple-400",border:"border-purple-500/50",icon:"",label:""};default:return{bg:"bg-green-500/20",text:"text-green-400",border:"border-green-500/50",icon:"",label:""}}},P=h=>{var D;return!!(h.status==="reservation"||(D=h.items)!=null&&D.some(ne=>ne.stock_status==="incoming"||ne.stock===0&&ne.stock_status!=="normal"))},pe=h=>{if(!h||!R||R.length===0)return null;const D=R.find(ne=>{var F;return((F=ne==null?void 0:ne.name)==null?void 0:F.toLowerCase().replace(/\s/g,""))===h.toLowerCase().replace(/\s/g,"")});return D!=null&&D.is_blacklist?{isBlacklist:!0,reason:D.blacklist_reason||""}:null},ve=h=>{if(!h)return null;const D=new Date;D.setHours(0,0,0,0);const ne=new Date(h);ne.setHours(0,0,0,0);const F=Math.floor((ne-D)/(1e3*60*60*24));return F===0?{label:" ",color:"text-red-400 font-bold",urgent:!0}:F===1?{label:" ",color:"text-orange-400 font-semibold",urgent:!0}:F<0?{label:`${Math.abs(F)} `,color:"text-red-500 font-bold",urgent:!0}:F<=3?{label:`${F} `,color:"text-yellow-400",urgent:!1}:{label:new Date(h).toLocaleDateString("ko-KR",{month:"short",day:"numeric"}),color:"text-slate-400",urgent:!1}},w=h=>{if(P(h)||h.status==="scheduled"||W==="all")return!0;if(!h.date&&!h.created_at)return!1;const D=new Date;D.setHours(0,0,0,0);let ne;if(h.created_at)ne=new Date(h.created_at);else{const G=h.date.replace(/\s/g,"").replace(/\./g,"-").replace(/-$/,"").split("-").filter(Ie=>Ie);if(G.length===3)ne=new Date(parseInt(G[0]),parseInt(G[1])-1,parseInt(G[2]));else return!1}if(ne.setHours(0,0,0,0),W==="today")return ne.getTime()===D.getTime();if(W==="yesterday"){const F=new Date(D);return F.setDate(F.getDate()-1),ne.getTime()===F.getTime()}if(W==="week"){const F=new Date(D);return F.setDate(F.getDate()-7),ne>=F}if(W==="month"){const F=new Date(D);return F.setMonth(F.getMonth()-1),ne>=F}return!0},_=h=>{var ne,F,G;if(!k.trim())return!0;const D=k.toLowerCase().replace(/\s/g,"");return!!((ne=h.name)!=null&&ne.toLowerCase().replace(/\s/g,"").includes(D)||(F=h.items)!=null&&F.some(Ie=>{var ze;return(ze=Ie.name)==null?void 0:ze.toLowerCase().replace(/\s/g,"").includes(D)})||(G=h.date)!=null&&G.includes(k))},K=h=>{if(L==="all")return!0;if(L==="reservation")return P(h);if(!h.delivery_date)return L==="no_date";const D=new Date;D.setHours(0,0,0,0);const ne=new Date(h.delivery_date);ne.setHours(0,0,0,0);const F=Math.floor((ne-D)/(1e3*60*60*24));return L==="today"?F===0:L==="tomorrow"?F===1:L==="this_week"?F>=0&&F<=7:L==="overdue"?F<0:L!=="no_date"},A=()=>{switch(W){case"today":return"";case"yesterday":return"";case"week":return" ";case"month":return" ";default:return""}},_e=async()=>{const h=qe.map(({originalIndex:D})=>D);for(const D of h.sort((ne,F)=>F-ne))await c(D);J(!1)},ce=o.filter(h=>w(h)&&_(h)&&K(h)),qe=o.map((h,D)=>({cart:h,originalIndex:D})).filter(({cart:h})=>w(h)&&_(h)&&K(h)).sort((h,D)=>{const ne=P(h.cart),F=P(D.cart);if(ne&&!F)return-1;if(!ne&&F||!h.cart.delivery_date&&D.cart.delivery_date)return 1;if(h.cart.delivery_date&&!D.cart.delivery_date)return-1;if(!h.cart.delivery_date&&!D.cart.delivery_date)return 0;const G=new Date(h.cart.delivery_date),Ie=new Date(D.cart.delivery_date);return G-Ie});p.useEffect(()=>{const h=D=>{D.key==="Escape"&&(ke?(Ne(!1),we(null)):X?J(!1):Le?z(!1):De?(be(!1),Re(null)):oe?(U(null),Z(null)):Y?(je(!1),I([])):le())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[le,Y,oe,Le,X,ke,De]);const Te=h=>{I(D=>D.includes(h)?D.filter(ne=>ne!==h):[...D,h])},Ue=()=>{const h=qe.map(({originalIndex:D})=>D);V.length===h.length&&h.every(D=>V.includes(D))?I([]):I(h)},ct=()=>{[...V].sort((D,ne)=>ne-D).forEach(D=>c(D)),I([]),je(!1)},g=(h,D,ne)=>{Y?Te(D):ne.target.closest("button")||(U(h),Z(D))},ue=ce.reduce((h,D)=>h+(D.total||0),0);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 select-none",children:[t.jsxs("header",{className:"bg-slate-800/90 backdrop-blur-md border-b border-slate-700 sticky top-0 z-40 select-none",children:[t.jsxs("div",{className:"w-full px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:le,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:t.jsx(Si,{className:"w-5 h-5 text-slate-300"})}),t.jsx(Wr,{className:"w-5 h-5 text-violet-400"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-base font-bold text-white",children:" "}),t.jsxs("p",{className:"text-violet-400 text-xs",children:[" ",o.length,"   ",ce.length,""]})]})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[o.length>0&&!Y&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>je(!0),className:"p-2 sm:px-3 sm:py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg flex items-center gap-1.5 font-medium transition-all",title:"",children:[t.jsx(Vs,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline text-sm",children:""})]}),W!=="all"&&t.jsxs("button",{onClick:()=>J(!0),disabled:ce.length===0,className:`p-2 sm:px-3 sm:py-2 rounded-lg flex items-center gap-1.5 font-medium transition-all ${ce.length>0?"bg-orange-600 hover:bg-orange-500 text-white":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,title:`${A()} `,children:[t.jsx(pt,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline text-sm",children:A()})]}),t.jsxs("button",{onClick:()=>z(!0),className:"p-2 sm:px-3 sm:py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg flex items-center gap-1.5 font-medium transition-all",title:"",children:[t.jsx(pt,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline text-sm",children:""})]})]}),Q&&t.jsx("button",{onClick:Q,disabled:ae,className:"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors disabled:opacity-50",title:"",children:t.jsx(Fs,{className:`w-4 h-4 text-white ${ae?"animate-spin":""}`})}),t.jsx("button",{onClick:()=>me(!H),className:"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-slate-300 hover:text-white flex items-center gap-1",title:H?"":"",children:t.jsx(Un,{className:`w-4 h-4 transition-transform duration-300 ${H?"rotate-180":""}`})})]})]}),Y&&t.jsxs("div",{className:"mt-3 flex items-center justify-between bg-violet-900/30 rounded-lg px-3 py-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Ue,className:"text-xs px-2 py-1 bg-slate-700 hover:bg-slate-600 text-white rounded",children:V.length===qe.length&&qe.length>0?" ":" "}),t.jsxs("span",{className:"text-violet-300 text-xs",children:[V.length," "]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:ct,disabled:V.length===0,className:`text-xs px-3 py-1 rounded flex items-center gap-1 ${V.length>0?"bg-red-600 hover:bg-red-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:[t.jsx(pt,{className:"w-3 h-3"}),""]}),t.jsx("button",{onClick:()=>{je(!1),I([])},className:"text-xs px-2 py-1 bg-slate-700 hover:bg-slate-600 text-white rounded",children:""})]})]}),H&&t.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs bg-slate-700/30 rounded-lg px-3 py-2",children:[t.jsxs("span",{className:"text-slate-400",children:[W==="today"?"":W==="yesterday"?"":W==="week"?" ":W==="month"?" ":"","  ",ce.length,"  ",t.jsx("span",{className:"text-emerald-400 font-semibold",children:E(ue)})]}),k&&t.jsxs("span",{className:"text-violet-400",children:[": ",k]})]})]}),t.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${H?"max-h-0 opacity-0":"max-h-[500px] opacity-100"}`,children:t.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-3 border border-slate-600",children:[t.jsxs("p",{className:"text-slate-400 text-xs flex items-center gap-1",children:[t.jsx(Fl,{className:"w-3 h-3"}),"  "]}),t.jsxs("p",{className:"text-white font-bold text-lg",children:[ce.length,""]})]}),t.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-3 border border-slate-600",children:[t.jsxs("p",{className:"text-slate-400 text-xs flex items-center gap-1",children:[t.jsx(gr,{className:"w-3 h-3"}),"  "]}),t.jsx("p",{className:"text-emerald-400 font-bold text-lg",children:E(ue)})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-xs mb-2",children:" "}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"today",label:""},{key:"yesterday",label:""},{key:"week",label:" "},{key:"month",label:" "},{key:"all",label:""}].map(({key:h,label:D})=>t.jsx("button",{onClick:()=>{y(h),I([])},className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${W===h?"bg-violet-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:D},h))})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-xs mb-2",children:" "}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"",icon:""},{key:"reservation",label:"",icon:""},{key:"overdue",label:"",icon:""},{key:"today",label:"",icon:""},{key:"tomorrow",label:"",icon:""},{key:"this_week",label:"",icon:""},{key:"no_date",label:"",icon:""}].map(({key:h,label:D,icon:ne})=>t.jsxs("button",{onClick:()=>{Me(h),I([])},className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${L===h?h==="reservation"?"bg-orange-500 text-white":"bg-orange-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[ne," ",D]},h))})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:",  ...",value:k,onChange:h=>O(h.target.value),onFocus:Hs,className:"w-full pl-10 pr-4 py-2.5 bg-slate-700/50 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500"})]})]})})]}),t.jsx("div",{className:"w-full px-4 py-4",children:o.length===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx(Fl,{className:"w-16 h-16 text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-400",children:"  "}),t.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"   "})]}):qe.length===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx(Ms,{className:"w-16 h-16 text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-400",children:"  "}),t.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"   "})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:qe.map(({cart:h,originalIndex:D})=>{const ne=D,F=h.items.map(Fe=>(h.priceType==="wholesale"?Fe.wholesale||Fe.price:Fe.retail||Fe.wholesale||Fe.price,`${Fe.name}(${Fe.quantity})`)).join(", "),G=h.status==="reservation"||P(h),Ie=h.status==="scheduled",ze=pe(h.name),mt=ze==null?void 0:ze.isBlacklist;return t.jsxs("div",{onClick:Fe=>g(h,ne,Fe),className:`rounded-xl p-4 border transition-all duration-200 cursor-pointer transform select-none relative overflow-hidden ${Y&&V.includes(ne)?"ring-2 ring-violet-500 bg-violet-900/20 border-violet-500/50":mt?"bg-gradient-to-br from-red-900/40 via-slate-800 to-slate-800 border-red-500/50 hover:border-red-400 hover:shadow-lg hover:shadow-red-500/20 hover:scale-[1.02]":G?"bg-gradient-to-br from-orange-900/40 via-slate-800 to-slate-800 border-orange-500/50 hover:border-orange-400 hover:shadow-lg hover:shadow-orange-500/20 hover:scale-[1.02]":Ie?"bg-gradient-to-br from-yellow-900/30 via-slate-800 to-slate-800 border-yellow-500/40 hover:border-yellow-400 hover:shadow-lg hover:shadow-yellow-500/20 hover:scale-[1.02]":"bg-slate-800 border-slate-700 hover:border-violet-500 hover:bg-slate-750 hover:scale-[1.02] hover:shadow-lg hover:shadow-violet-500/20"}`,children:[mt&&t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-600 via-red-500 to-red-600"}),G&&!mt&&t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-orange-500 via-orange-400 to-orange-500 animate-pulse"}),Ie&&!G&&!mt&&t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-yellow-500 via-yellow-400 to-yellow-500"}),t.jsxs("div",{className:"flex items-start gap-3",children:[!Y&&G&&t.jsx("div",{className:"mt-1 w-8 h-8 rounded-lg bg-orange-500/20 border border-orange-500/50 flex items-center justify-center flex-shrink-0 animate-pulse",children:t.jsx(js,{className:"w-4 h-4 text-orange-400"})}),!Y&&Ie&&!G&&t.jsx("div",{className:"mt-1 w-8 h-8 rounded-lg bg-yellow-500/20 border border-yellow-500/50 flex items-center justify-center flex-shrink-0",children:t.jsx(ru,{className:"w-4 h-4 text-yellow-400"})}),Y&&t.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),Te(ne)},className:`mt-1 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors flex-shrink-0 ${V.includes(ne)?"bg-violet-500 border-violet-500":"border-slate-500 hover:border-violet-400"}`,children:V.includes(ne)&&t.jsx(Vs,{className:"w-3 h-3 text-white"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[mt&&t.jsx("span",{className:"flex-shrink-0",children:""}),t.jsx("h3",{className:`font-semibold truncate ${mt?"text-red-300":G?"text-orange-300":"text-white"}`,children:h.name}),mt&&t.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-red-600/30 text-red-400 flex-shrink-0",children:""}),t.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${h.priceType==="wholesale"||h.price_type==="wholesale"?"bg-blue-600/30 text-blue-400":"bg-purple-600/30 text-purple-400"}`,children:h.priceType==="wholesale"||h.price_type==="wholesale"?"":""})]}),mt&&(ze==null?void 0:ze.reason)&&t.jsxs("div",{className:"text-[10px] text-red-400/80 mt-0.5",children:[" : ",ze.reason]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[(()=>{const Fe=ft(h.status,h.priority);return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded text-[10px] font-medium border ${Fe.bg} ${Fe.text} ${Fe.border}`,children:[Fe.icon," ",Fe.label]})})(),h.delivery_date&&(()=>{const Fe=ve(h.delivery_date);return Fe&&t.jsxs("span",{className:`text-[10px] ${Fe.color}`,children:[" ",Fe.label]})})()]}),t.jsxs("p",{className:"text-slate-400 text-xs mt-1",children:[h.date," ",h.time]})]}),t.jsx("p",{className:"text-emerald-400 font-bold text-sm ml-2 flex-shrink-0",children:E(h.total)})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2 mb-3",children:[t.jsx("p",{className:"text-slate-400 text-sm truncate",children:F}),t.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:[h.items.length," / ",h.items.reduce((Fe,Ke)=>Fe+Ke.quantity,0),""]}),h.memo&&t.jsxs("p",{className:"text-cyan-400 text-xs mt-2 border-t border-slate-700 pt-2",children:[" ",h.memo]})]}),!Y&&t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:Fe=>{Fe.stopPropagation(),m(h),le()},className:"flex-1 flex items-center justify-center gap-2 py-2 bg-emerald-600 hover:bg-emerald-500 rounded-lg text-white text-sm font-medium transition-colors",children:[t.jsx(bi,{className:"w-4 h-4"}),""]}),t.jsxs("button",{onClick:Fe=>{Fe.stopPropagation(),$&&$(h)},className:"flex-1 flex items-center justify-center gap-2 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg text-white text-sm font-medium transition-colors",children:[t.jsx(hn,{className:"w-4 h-4"}),""]}),t.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),ge(ne)},className:"flex items-center justify-center gap-2 px-3 py-2 bg-red-600/20 hover:bg-red-600/30 rounded-lg text-red-400 text-sm transition-colors",children:t.jsx(pt,{className:"w-4 h-4"})})]}),de===ne&&!Y&&t.jsxs("div",{className:"mt-3 p-3 bg-red-900/30 rounded-lg border border-red-600/30",children:[t.jsx("p",{className:"text-red-400 text-sm mb-2",children:" ?"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),c(ne),ge(null)},className:"flex-1 py-1.5 bg-red-600 hover:bg-red-500 rounded text-white text-sm",children:""}),t.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),ge(null)},className:"flex-1 py-1.5 bg-slate-600 hover:bg-slate-500 rounded text-white text-sm",children:""})]})]})]})]})]},ne)})})}),oe&&(()=>{const h=De&&$e||oe,D=h.items.reduce((F,G)=>{let Ie=0;return h.priceType==="wholesale"||h.price_type==="wholesale"?Ie=G.wholesale||G.price||G.unitPrice||0:Ie=G.retail||G.wholesale||G.price||G.unitPrice||0,F+Ie*G.quantity},0)||h.total||0,ne=N.length>0?N.filter(F=>Xe?Cl(F.name,Xe):!1).slice(0,8):[];return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in bg-black/80 backdrop-blur-md",style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0",onClick:()=>{De||(U(null),Z(null))}}),t.jsxs("div",{className:"relative bg-slate-800 rounded-2xl w-full max-w-3xl max-h-[92vh] overflow-hidden border border-slate-700 shadow-2xl flex flex-col animate-scale-in",children:[t.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-purple-600 px-4 sm:px-6 py-4 sm:py-5 flex items-center justify-between flex-shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[t.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(Ti,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[De?t.jsx("input",{type:"text",value:h.name,onChange:F=>Re({...$e,name:F.target.value}),className:"text-lg sm:text-2xl font-bold text-white bg-white/20 px-3 py-1 rounded-lg border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 max-w-full",placeholder:"/"}):t.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-white break-words",children:h.name}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold flex-shrink-0 ${h.priceType==="wholesale"||h.price_type==="wholesale"?"bg-blue-500 text-white":"bg-purple-500 text-white"}`,children:h.priceType==="wholesale"||h.price_type==="wholesale"?"":""})]}),t.jsxs("p",{className:"text-violet-200 text-sm",children:[h.date," ",h.time]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!De&&t.jsx("button",{onClick:()=>{be(!0),Re({...oe})},className:"p-2 sm:p-2.5 hover:bg-white/20 rounded-lg transition-colors",title:"",children:t.jsx(dn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),t.jsx("button",{onClick:()=>{U(null),Z(null),be(!1),Re(null)},className:"p-2 sm:p-2.5 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(zt,{className:"w-5 h-5 sm:w-7 sm:h-7 text-white"})})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 modal-scroll-area","data-lenis-prevent":"true",style:{WebkitOverflowScrolling:"touch"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-5",children:[t.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(js,{className:"w-5 h-5 sm:w-6 sm:h-6 text-violet-400"}),"  (",h.items.length," / ",h.items.reduce((F,G)=>F+G.quantity,0),")"]}),De&&t.jsxs("button",{onClick:()=>te(!Ae),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-xs sm:text-sm font-medium flex items-center gap-1.5 transition-colors flex-shrink-0",children:[t.jsx(Pt,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:" "})]})]}),De&&Ae&&t.jsxs("div",{className:"mb-4 relative",children:[t.jsx("input",{type:"text",value:Xe,onChange:F=>Ee(F.target.value),onFocus:Hs,placeholder:" ...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),Xe&&ne.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-800 border border-slate-600 rounded-lg shadow-xl max-h-60 overflow-y-auto z-50",children:ne.map(F=>{const G=h.priceType==="wholesale"||h.price_type==="wholesale"?F.wholesale:F.retail||F.wholesale,Ie=h.items.some(ze=>ze.id===F.id);return t.jsx("button",{onClick:()=>{if(!Ie){const ze=[...h.items,{...F,quantity:1,price:G}];Re({...$e,items:ze})}Ee("")},className:"w-full px-3 py-2 text-left hover:bg-slate-700 transition-colors border-b border-slate-700 last:border-0",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white text-sm",children:F.name}),t.jsx("div",{className:"text-slate-400 text-xs",children:F.category})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:E(G)}),Ie&&t.jsx("span",{className:"text-xs text-blue-400 bg-blue-500/20 px-2 py-0.5 rounded",children:""})]})]})},F.id)})})]}),t.jsx("div",{className:"space-y-4",children:h.items.map((F,G)=>{let Ie=0;h.priceType==="wholesale"||h.price_type==="wholesale"?Ie=F.wholesale||F.price||F.unitPrice||0:Ie=F.retail||F.wholesale||F.price||F.unitPrice||0,Ie===0&&h.total&&h.items.length===1&&(Ie=h.total/F.quantity);const ze=Ie*F.quantity,mt=Math.round(Ie/1.1),Fe=Math.round(ze/1.1);return t.jsx("div",{className:"bg-slate-700/50 rounded-xl p-3 sm:p-5 border border-slate-600 hover:border-violet-500 hover:bg-slate-700/80 transition-all duration-200",children:t.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-white font-semibold text-base sm:text-xl break-words",children:F.name}),Ie>0&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-blue-400 text-sm sm:text-base",children:E(Ie)}),t.jsxs("p",{className:"text-slate-500 text-xs sm:text-sm",children:["(VAT ",E(mt),")"]})]})]}),t.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[De?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{const Ke=[...h.items];Ke[G].quantity>1&&(Ke[G]={...Ke[G],quantity:Ke[G].quantity-1},Re({...$e,items:Ke}))},className:"w-7 h-7 sm:w-8 sm:h-8 bg-slate-600 hover:bg-slate-500 rounded-lg flex items-center justify-center text-white transition-colors",children:t.jsx(Kn,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),t.jsxs("span",{className:"text-white font-semibold text-base sm:text-lg min-w-[3rem] text-center",children:["",F.quantity]}),t.jsx("button",{onClick:()=>{const Ke=[...h.items];Ke[G]={...Ke[G],quantity:Ke[G].quantity+1},Re({...$e,items:Ke})},className:"w-7 h-7 sm:w-8 sm:h-8 bg-blue-600 hover:bg-blue-500 rounded-lg flex items-center justify-center text-white transition-colors",children:t.jsx(Pt,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),t.jsx("button",{onClick:()=>{const Ke=h.items.filter((Vt,$t)=>$t!==G);Re({...$e,items:Ke})},className:"w-7 h-7 sm:w-8 sm:h-8 bg-red-600/20 hover:bg-red-600 rounded-lg flex items-center justify-center text-red-400 hover:text-white transition-colors ml-1",children:t.jsx(pt,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}):t.jsxs("p",{className:"text-slate-300 text-base sm:text-lg",children:["",F.quantity,""]}),Ie>0?t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-emerald-400 font-bold text-lg sm:text-2xl",children:E(ze)}),t.jsxs("p",{className:"text-slate-500 text-xs sm:text-sm",children:["(VAT ",E(Fe),")"]})]}):t.jsx("p",{className:"text-slate-500 text-xs sm:text-sm mt-1",children:"  "})]})]})},G)})})]}),De&&t.jsxs("div",{className:"border-t border-slate-700 p-4 sm:p-6 flex-shrink-0 bg-slate-800/50",children:[t.jsx("p",{className:"text-slate-400 text-xs mb-2",children:" "}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"pending",label:"",icon:"",bg:"bg-green-600",bgOff:"bg-green-600/20 border-green-500/50 text-green-400"},{key:"reservation",label:"",icon:"",bg:"bg-orange-500",bgOff:"bg-orange-500/20 border-orange-500/50 text-orange-400"},{key:"scheduled",label:"",icon:"",bg:"bg-yellow-500",bgOff:"bg-yellow-500/20 border-yellow-500/50 text-yellow-400"},{key:"ready",label:"",icon:"",bg:"bg-blue-500",bgOff:"bg-blue-500/20 border-blue-500/50 text-blue-400"},{key:"hold",label:"",icon:"",bg:"bg-gray-500",bgOff:"bg-gray-500/20 border-gray-500/50 text-gray-400"}].map(({key:F,label:G,icon:Ie,bg:ze,bgOff:mt})=>t.jsxs("button",{onClick:()=>Re({...$e,status:F}),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors border ${(($e==null?void 0:$e.status)||h.status||"pending")===F?`${ze} text-white border-transparent`:`${mt} hover:opacity-80`}`,children:[Ie," ",G]},F))})]}),t.jsxs("div",{className:"border-t border-slate-700 p-4 sm:p-6 flex-shrink-0 bg-slate-800",children:[t.jsxs("div",{className:"bg-gradient-to-r from-slate-900/80 to-slate-900/40 rounded-xl p-4 sm:p-5 mb-4 sm:mb-5 hover:from-slate-900/90 hover:to-slate-900/60 transition-all duration-200 cursor-pointer",onClick:()=>{we(D),Ne(!0)},title:" ",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-500 text-sm sm:text-base",children:""}),t.jsx("span",{className:"text-slate-300 text-base sm:text-lg",children:E(Math.round(D/1.1))})]}),t.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-slate-700",children:[t.jsx("span",{className:"text-slate-500 text-sm sm:text-base",children:""}),t.jsx("span",{className:"text-slate-300 text-base sm:text-lg",children:E(D-Math.round(D/1.1))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-400 text-lg sm:text-xl",children:" "}),t.jsxs("span",{className:"text-2xl sm:text-4xl font-bold text-emerald-400",children:[E(D)," "]})]})]}),De?t.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[t.jsxs("button",{onClick:async()=>{if(ye!==null&&$e){const F=$e.items.reduce((Ie,ze)=>{let mt=0;return $e.priceType==="wholesale"||$e.price_type==="wholesale"?mt=ze.wholesale||ze.price||ze.unitPrice||0:mt=ze.retail||ze.wholesale||ze.price||ze.unitPrice||0,Ie+mt*ze.quantity},0),G={...$e,total:F};await j(ye,G),U(G),be(!1),Re(null)}},className:"flex-1 flex items-center justify-center gap-2 py-3 sm:py-4 bg-blue-600 hover:bg-blue-500 rounded-xl text-white font-semibold text-base sm:text-lg transition-all duration-200",children:[t.jsx(Wr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),""]}),t.jsxs("button",{onClick:()=>{be(!1),Re(null),te(!1),Ee("")},className:"flex-1 flex items-center justify-center gap-2 py-3 sm:py-4 bg-slate-600 hover:bg-slate-500 rounded-xl text-white font-semibold text-base sm:text-lg transition-all duration-200",children:[t.jsx(zt,{className:"w-5 h-5 sm:w-6 sm:h-6"}),""]})]}):t.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[t.jsxs("button",{onClick:()=>{m(h),le()},className:"flex-1 flex items-center justify-center gap-2 sm:gap-3 py-3 sm:py-5 bg-emerald-600 hover:bg-emerald-500 rounded-xl text-white font-semibold text-base sm:text-xl transition-all duration-200 transform hover:-translate-y-1 hover:shadow-lg hover:shadow-emerald-500/30 active:translate-y-0 active:scale-95",children:[t.jsx(bi,{className:"w-5 h-5 sm:w-7 sm:h-7"}),""]}),t.jsx("button",{onClick:()=>{ye!==null&&(c(ye),U(null),Z(null))},className:"px-4 sm:px-6 py-3 sm:py-5 bg-red-600/20 hover:bg-red-600 rounded-xl text-red-400 hover:text-white transition-all duration-200 transform hover:-translate-y-1 hover:shadow-lg hover:shadow-red-500/30 active:translate-y-0 active:scale-95",children:t.jsx(pt,{className:"w-5 h-5 sm:w-7 sm:h-7"})})]})]})]})]})})(),ke&&t.jsx(Qr,{onClose:()=>{Ne(!1),we(null)},initialValue:Ye}),Le&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl w-full max-w-md border border-red-600/50 shadow-2xl shadow-red-500/20 overflow-hidden animate-scale-in",children:[t.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-6 py-5",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center animate-pulse",children:t.jsx(pt,{className:"w-7 h-7 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:" "}),t.jsx("p",{className:"text-red-200 text-sm",children:"  "})]})]})}),t.jsxs("div",{className:"p-6",children:[t.jsx("p",{className:"text-slate-300 text-center mb-2",children:"   ?"}),t.jsxs("p",{className:"text-slate-500 text-sm text-center mb-6",children:[" ",t.jsxs("span",{className:"text-red-400 font-bold",children:[o.length,""]}),"  ."]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-medium transition-all hover-lift btn-ripple",children:""}),t.jsxs("button",{onClick:()=>{b(),z(!1)},className:"flex-1 py-3 bg-red-600 hover:bg-red-500 rounded-xl text-white font-medium transition-all hover-lift btn-ripple hover:shadow-lg hover:shadow-red-500/30 flex items-center justify-center gap-2",children:[t.jsx(pt,{className:"w-5 h-5"})," "]})]})]})]})}),X&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl w-full max-w-md border border-orange-500/50 shadow-2xl shadow-orange-500/20 overflow-hidden animate-scale-in",children:[t.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-amber-600 px-6 py-5",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(Hn,{className:"w-7 h-7 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"   "}),t.jsxs("p",{className:"text-orange-200 text-sm",children:[A(),"  ",ce.length,""]})]})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"bg-orange-600/10 border border-orange-500/30 rounded-xl p-4 mb-6",children:[t.jsx("p",{className:"text-slate-200 font-medium mb-2",children:"   :"}),t.jsxs("ul",{className:"text-slate-400 text-sm space-y-1",children:[t.jsxs("li",{children:[" : ",t.jsx("span",{className:"text-white",children:A()})]}),t.jsxs("li",{children:["  : ",t.jsxs("span",{className:"text-orange-400 font-bold",children:[ce.length,""]})]}),t.jsxs("li",{children:["  : ",t.jsx("span",{className:"text-white",children:E(ce.reduce((h,D)=>h+(D.total||0),0))})]})]}),t.jsx("p",{className:"text-orange-400 text-xs mt-3",children:"     !"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>J(!1),className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-medium transition-all",children:""}),t.jsxs("button",{onClick:_e,className:"flex-1 py-3 bg-orange-600 hover:bg-orange-500 rounded-xl text-white font-medium transition-all flex items-center justify-center gap-2",children:[t.jsx(pt,{className:"w-5 h-5"})," "]})]})]})]})}),!oe&&t.jsx("button",{onClick:()=>{we(null),Ne(!0)},className:"fixed bottom-20 right-4 z-50 w-12 h-12 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full shadow-lg shadow-amber-500/30 flex items-center justify-center text-white hover:scale-110 transition-transform active:scale-95",title:"",children:t.jsx(mn,{className:"w-6 h-6"})})]})}function pm({customers:o,orders:m=[],formatPrice:c,onBack:b}){const[j,$]=p.useState(""),[N,R]=p.useState(null),[E,le]=p.useState(!1),[Q,ae]=p.useState(null),[de,ge]=p.useState("all"),V={total:(o||[]).length,blacklist:(o||[]).filter(z=>z.is_blacklist).length,normal:(o||[]).filter(z=>!z.is_blacklist).length};p.useEffect(()=>{const z=X=>{X.key==="Escape"&&(Q?ae(null):N?R(null):b())};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[b,N,Q]);const I=(o||[]).filter(z=>{if(de==="blacklist"&&!z.is_blacklist||de==="normal"&&z.is_blacklist)return!1;const X=j.toLowerCase().replace(/\s/g,""),J=z.name.toLowerCase().replace(/\s/g,""),oe=(z.address||"").toLowerCase().replace(/\s/g,""),U=(z.phone||"").replace(/\s/g,"");return J.includes(X)||oe.includes(X)||U.includes(X)}),Y=z=>(m||[]).filter(X=>X.customerName&&X.customerName.toLowerCase().replace(/\s/g,"")===z.toLowerCase().replace(/\s/g,"")).sort((X,J)=>new Date(J.createdAt)-new Date(X.createdAt)),je=z=>Y(z).reduce((J,oe)=>J+(oe.totalAmount||0),0),Le=z=>{const X=new Date(z);return`${X.getFullYear()}.${String(X.getMonth()+1).padStart(2,"0")}.${String(X.getDate()).padStart(2,"0")}`};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col select-none",children:[t.jsxs("header",{className:"bg-slate-800/90 backdrop-blur-md border-b border-slate-700 sticky top-0 z-40 select-none",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:[t.jsxs("div",{className:"w-full px-4 pt-1 pb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:N?()=>R(null):b,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:t.jsx(Si,{className:"w-5 h-5 text-slate-300"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yr,{className:"w-6 h-6 text-emerald-400"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-white",children:N?N.name:" "}),t.jsx("p",{className:"text-emerald-400 text-xs",children:N?` ${Y(N.name).length} /  ${c(je(N.name))}`:` ${(o==null?void 0:o.length)||0}   ${I.length}`})]})]})]}),!N&&t.jsxs("button",{onClick:()=>le(!E),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-slate-300 hover:text-white flex items-center gap-1.5 text-sm",children:[t.jsx("span",{className:"hidden sm:inline",children:E?"":""}),t.jsx(Un,{className:`w-4 h-4 transition-transform duration-300 ${E?"rotate-180":""}`})]})]}),!N&&E&&t.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs bg-slate-700/30 rounded-lg px-3 py-2",children:[t.jsxs("span",{className:"text-slate-400",children:[" ",t.jsxs("span",{className:"text-white font-semibold",children:[I.length,""]})]}),j&&t.jsxs("span",{className:"text-emerald-400",children:[": ",j]})]})]}),!N&&t.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${E?"max-h-0 opacity-0":"max-h-[400px] opacity-100"}`,children:t.jsxs("div",{className:"px-4 pt-2 pb-4 space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",value:j,onChange:z=>$(z.target.value),onFocus:Hs,placeholder:", ,  ...",className:"w-full pl-10 pr-4 py-2.5 bg-slate-700/50 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),t.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[t.jsx("span",{className:"text-slate-500",children:":"}),t.jsxs("span",{className:"px-2 py-1 bg-slate-700 text-white rounded",children:[" ",V.total]}),t.jsxs("span",{className:"px-2 py-1 bg-emerald-600/20 text-emerald-400 rounded",children:[" ",V.normal]}),t.jsxs("span",{className:"px-2 py-1 bg-red-600/20 text-red-400 rounded",children:["  ",V.blacklist]})]}),t.jsx("div",{className:"flex items-center gap-2",children:[{key:"all",label:"",color:"slate"},{key:"normal",label:"",color:"emerald"},{key:"blacklist",label:" ",color:"red"}].map(({key:z,label:X,color:J})=>t.jsx("button",{onClick:()=>ge(z),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${de===z?J==="red"?"bg-red-600 text-white":J==="emerald"?"bg-emerald-600 text-white":"bg-slate-600 text-white":"bg-slate-700/50 text-slate-400 hover:bg-slate-600 hover:text-white"}`,children:X},z))})]})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto","data-lenis-prevent":"true",children:t.jsx("div",{className:"w-full px-4 py-4",children:N?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 mb-4 border border-slate-700",children:[t.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[N.phone&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ji,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-slate-300",children:N.phone})]}),N.address&&t.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[t.jsx(vi,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),t.jsx("span",{className:"text-slate-300",children:N.address})]})]}),N.memo&&t.jsxs("p",{className:"text-slate-500 text-sm mt-2 pt-2 border-t border-slate-600",children:[": ",N.memo]})]}),Y(N.name).length>0&&(()=>{const z=Y(N.name).reduce((oe,U)=>oe+(U.totalAmount||0),0),X=Bs(z),J=z-X;return t.jsx("div",{className:"bg-gradient-to-r from-emerald-600/20 via-emerald-500/10 to-emerald-600/20 rounded-xl p-4 mb-4 border border-emerald-500/30",children:t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(gr,{className:"w-6 h-6 text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-xs",children:"  "}),t.jsx("p",{className:"text-emerald-400 font-bold text-2xl",children:c(z)})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-slate-400 text-xs",children:""}),t.jsx("p",{className:"text-blue-400 font-bold text-lg",children:c(X)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-slate-400 text-xs",children:""}),t.jsx("p",{className:"text-purple-400 font-bold text-lg",children:c(J)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-slate-400 text-xs",children:" "}),t.jsxs("p",{className:"text-white font-bold text-lg",children:[Y(N.name).length,""]})]})]})]})})})(),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("p",{className:"text-slate-400 text-sm font-medium",children:" "}),Y(N.name).length>0&&t.jsxs("button",{onClick:()=>{const z=Y(N.name),X=z.reduce((oe,U)=>oe+(U.totalAmount||0),0),J=[`[ ${N.name}   ]`,` ${z.length} /  : ${c(X)}`,"",...z.map((oe,U)=>[` ${U+1}. ${Le(oe.createdAt)} `,...(oe.items||[]).map(ye=>`  ${ye.name} x${ye.quantity}  ${c(ye.price*ye.quantity)}`),`   : ${c(oe.totalAmount)}`,oe.memo?`  : ${oe.memo}`:""].filter(Boolean)).flat()].join(`
`);navigator.clipboard.writeText(J)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-400 rounded-lg text-xs font-medium transition-colors",children:[t.jsx(Ur,{className:"w-3.5 h-3.5"})," "]})]}),Y(N.name).length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(gr,{className:"w-16 h-16 text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-400",children:"  "})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Y(N.name).map(z=>{const X=()=>{const J=[Le(z.createdAt),...(z.items||[]).map(oe=>`${oe.name} x${oe.quantity}  ${c(oe.price*oe.quantity)}`),` : ${c(z.totalAmount)}`,z.memo?`: ${z.memo}`:""].filter(Boolean).join(`
`);navigator.clipboard.writeText(J)};return t.jsxs("div",{onClick:()=>ae(z),className:"bg-slate-800 rounded-xl p-4 border border-slate-700 hover:border-emerald-500/50 transition-all group hover:scale-[1.02] hover:shadow-lg hover:shadow-emerald-500/10 cursor-pointer select-none",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("div",{children:t.jsx("span",{className:"text-slate-300 text-sm font-medium",children:Le(z.createdAt)})}),t.jsx("div",{className:"text-right",children:t.jsx("p",{className:"text-emerald-400 font-bold text-lg",children:c(z.totalAmount)})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2 mb-3",children:[t.jsxs("div",{className:"space-y-1",children:[(z.items||[]).slice(0,3).map((J,oe)=>t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsxs("span",{className:"text-slate-300 truncate flex-1 mr-2",children:[J.name," x",J.quantity]}),t.jsx("span",{className:"text-slate-400 flex-shrink-0",children:c(J.price*J.quantity)})]},oe)),(z.items||[]).length>3&&t.jsxs("p",{className:"text-slate-500 text-xs",children:[" ",z.items.length-3," "]})]}),z.memo&&t.jsxs("p",{className:"text-cyan-400 text-xs mt-2 pt-2 border-t border-slate-700 truncate",children:[" ",z.memo]})]}),t.jsxs("button",{onClick:J=>{J.stopPropagation(),X()},className:"w-full py-2 rounded-lg bg-slate-700/50 hover:bg-slate-600 text-slate-400 hover:text-white transition-colors text-xs font-medium flex items-center justify-center gap-1.5",children:[t.jsx(Ur,{className:"w-3.5 h-3.5"})," "]})]},z.orderNumber)})})]}):t.jsx(t.Fragment,{children:I.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(yr,{className:"w-16 h-16 text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-400",children:"  "}),t.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"   "})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:I.map(z=>{const X=Y(z.name).length,J=je(z.name),oe=z.is_blacklist;return t.jsxs("div",{onClick:()=>R(z),className:`rounded-xl p-4 border transition-all cursor-pointer group hover:scale-[1.02] select-none relative overflow-hidden ${oe?"bg-gradient-to-br from-red-900/40 via-slate-800 to-slate-800 border-red-500/50 hover:border-red-400":"bg-slate-800 border-slate-700 hover:border-emerald-500/50"}`,children:[oe&&t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-600 via-red-500 to-red-600"}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[oe&&t.jsx("span",{className:"text-red-500 flex-shrink-0",children:""}),t.jsx("h3",{className:`font-semibold truncate ${oe?"text-red-300":"text-white"}`,children:z.name}),oe&&t.jsx("span",{className:"px-2 py-0.5 bg-red-600/30 text-red-400 text-xs rounded-full flex-shrink-0",children:""}),X>0&&t.jsxs("span",{className:"px-2 py-0.5 bg-emerald-600/20 text-emerald-400 text-xs rounded-full",children:[X,""]})]}),oe&&z.blacklist_reason&&t.jsxs("div",{className:"text-[11px] text-red-400/80 mt-1 flex items-center gap-1",children:[t.jsx("span",{children:""})," ",z.blacklist_reason]}),t.jsxs("p",{className:"text-emerald-400 text-sm flex items-center gap-1.5 mt-1",children:[t.jsx(ji,{className:"w-3.5 h-3.5"}),z.phone||t.jsx("span",{className:"text-slate-500",children:" "})]}),t.jsxs("p",{className:"text-slate-400 text-sm flex items-start gap-1.5 mt-1",children:[t.jsx(vi,{className:"w-3.5 h-3.5 mt-0.5 flex-shrink-0"}),z.address?t.jsx("span",{className:"truncate",children:z.address}):t.jsx("span",{className:"text-slate-500",children:" "})]}),J>0&&t.jsxs("p",{className:"text-blue-400 text-xs mt-2",children:[" : ",c(J)]})]}),t.jsx(Ci,{className:"w-5 h-5 text-slate-500 group-hover:text-emerald-400 rotate-180 transition-colors"})]})]},z.id)})})})})}),Q&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:()=>ae(null),children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl w-full max-w-lg border border-emerald-500/30 shadow-2xl shadow-emerald-500/20 overflow-hidden animate-scale-in max-h-[90vh] flex flex-col",onClick:z=>z.stopPropagation(),children:[t.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 px-6 py-4 flex-shrink-0",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(gr,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-white",children:" "}),t.jsx("p",{className:"text-emerald-200 text-sm",children:Le(Q.createdAt)})]})]}),t.jsx("button",{onClick:()=>ae(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:t.jsx(zt,{className:"w-5 h-5 text-white"})})]})}),t.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[t.jsx("div",{className:"bg-slate-900/50 rounded-xl p-4 mb-4",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-xs mb-1",children:" "}),t.jsx("p",{className:"text-emerald-400 font-bold text-lg",children:c(Q.totalAmount)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-xs mb-1",children:""}),t.jsx("p",{className:"text-blue-400 font-bold text-lg",children:c(Bs(Q.totalAmount))})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-xs mb-1",children:""}),t.jsx("p",{className:"text-purple-400 font-bold text-lg",children:c(Q.totalAmount-Bs(Q.totalAmount))})]})]})}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("p",{className:"text-slate-400 text-xs mb-2 font-medium",children:["  (",(Q.items||[]).length,")"]}),t.jsx("div",{className:"bg-slate-900/30 rounded-xl border border-slate-700 divide-y divide-slate-700",children:(Q.items||[]).map((z,X)=>t.jsxs("div",{className:"flex justify-between items-center p-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-white text-sm font-medium",children:z.name}),t.jsxs("p",{className:"text-slate-400 text-xs",children:[": ",z.quantity,"  ",c(z.price)]})]}),t.jsx("p",{className:"text-emerald-400 font-semibold",children:c(z.price*z.quantity)})]},X))})]}),Q.memo&&t.jsxs("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-xl p-3",children:[t.jsx("p",{className:"text-cyan-400 text-xs font-medium mb-1",children:" "}),t.jsx("p",{className:"text-slate-300 text-sm",children:Q.memo})]})]}),t.jsx("div",{className:"p-4 border-t border-slate-700 flex-shrink-0",children:t.jsxs("button",{onClick:()=>{const z=[Le(Q.createdAt),...(Q.items||[]).map(X=>`${X.name} x${X.quantity}  ${c(X.price*X.quantity)}`),` : ${c(Q.totalAmount)}`,`: ${c(Bs(Q.totalAmount))}`,Q.memo?`: ${Q.memo}`:""].filter(Boolean).join(`
`);navigator.clipboard.writeText(z)},className:"w-full py-3 bg-emerald-600 hover:bg-emerald-500 rounded-xl text-white font-medium transition-colors flex items-center justify-center gap-2",children:[t.jsx(Ur,{className:"w-4 h-4"})," "]})})]})})]})}function fm({orders:o=[],customers:m=[],formatPrice:c,onBack:b,refreshCustomers:j}){const[$,N]=p.useState([]),[R]=p.useState(["",""]),[E,le]=p.useState("today"),[Q,ae]=p.useState({}),[de,ge]=p.useState(null),[V,I]=p.useState(""),[Y,je]=p.useState(""),[Le,z]=p.useState(()=>{const w=localStorage.getItem("shippingCustomerSettings");return w?JSON.parse(w):{}}),[X,J]=p.useState(()=>{const w=localStorage.getItem("shippingCustomEntries");return w?JSON.parse(w):[]}),[oe,U]=p.useState(!1);p.useEffect(()=>{localStorage.setItem("shippingCustomEntries",JSON.stringify(X))},[X]);const[ye,Z]=p.useState({name:"",phone:"",address:"",product:"",packaging:"1",paymentType:"",sender:""});p.useEffect(()=>{const w=_=>{_.key==="Escape"&&b()};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[b]),p.useEffect(()=>{const w=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${w}px`,document.body.style.width="100%",document.body.style.overflow="hidden",j&&j(),()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflow="",window.scrollTo(0,w)}},[j]);const De=o||[],be=new Date;be.setHours(0,0,0,0);const $e=new Date(be);$e.setDate($e.getDate()-1);const Re=new Date(be);Re.setDate(Re.getDate()-7);const Ae=w=>w?(m||[]).find(_=>_.name&&_.name.toLowerCase().replace(/\s/g,"")===w.toLowerCase().replace(/\s/g,"")):null,te=De.filter(w=>{if(!w.createdAt)return!1;const _=new Date(w.createdAt);return _.setHours(0,0,0,0),E==="today"?_.getTime()===be.getTime():E==="yesterday"?_.getTime()===$e.getTime():E==="week"?_>=Re:!0}),Xe=w=>{if(!w)return"7300";let _=[];const K=String(w),A=K.indexOf(""),_e=K.indexOf(""),ce=()=>{const Te=K.match(/(\d)/);if(Te&&Te[1]){const Ue=parseInt(Te[1])||1;for(let ct=0;ct<Ue;ct++)_.push(7300)}},qe=()=>{const Te=K.match(/(\d)/);if(Te&&Te[1]){const Ue=parseInt(Te[1])||1;for(let ct=0;ct<Ue;ct++)_.push(12e3)}};return A>=0&&_e>=0?A<_e?(ce(),qe()):(qe(),ce()):A>=0?ce():_e>=0&&qe(),_.length===0?"7300":_.join(",")},Ee=(w,_=null)=>Q[w]?Q[w]:_&&Le[_]?Le[_]:{paymentType:"",packaging:"1",shippingCost:"7300",sender:R[0]},k=w=>{const _=(m||[]).find(K=>(K==null?void 0:K.name)===w);_&&(ge(_.id),I(_.address||""),je(_.phone||""))},O=()=>{ge(null),I(""),je("")},W=()=>{if(!ye.name)return;const w={...ye,id:`custom_${Date.now()}`,shippingCost:Xe(ye.packaging)};J(_=>[..._,w]),Z({name:"",phone:"",address:"",product:"",packaging:"1",paymentType:"",sender:""}),U(!1)},y=w=>{J(_=>_.filter(K=>K.id!==w)),N(_=>_.filter(K=>K!==w))},L=(w,_,K)=>{J(A=>A.map(_e=>{if(_e.id===w){const ce={..._e,[_]:K};return _==="packaging"&&(ce.shippingCost=Xe(K)),ce}return _e}))},Me=(w,_)=>{if(!w)return;const K={...Le,[w]:{paymentType:_.paymentType,packaging:_.packaging,shippingCost:_.shippingCost,sender:_.sender}};z(K),localStorage.setItem("shippingCustomerSettings",JSON.stringify(K)),showToast(` ${w}  `,"success")},H=w=>{const _={...Le};delete _[w],z(_),localStorage.setItem("shippingCustomerSettings",JSON.stringify(_)),showToast(` ${w}  `,"success")},me=async w=>{try{await Ct.updateCustomer(w,{address:V,phone:Y})?(j&&await j(),ge(null),I(""),je(""),showToast("   ","success")):showToast("  ","error")}catch(_){console.error("   :",_),showToast("  ","error")}},ke=(w,_,K)=>{ae(A=>{let ce={...A[w]||{paymentType:"",packaging:"1",shippingCost:"7300",sender:R[0]},[_]:K};return _==="packaging"&&(ce.shippingCost=Xe(K)),{...A,[w]:ce}})},Ne=()=>{const w=[...te.map(_=>_.orderNumber),...X.map(_=>_.id)];$.length===w.length?N([]):N(w)},Ye=w=>{N(_=>_.includes(w)?_.filter(K=>K!==w):[..._,w])},we=w=>!w||w.length===0?"":w.reduce((_,K)=>K.price>_.price?K:_,w[0]).name,ft=()=>{const w=$.length>0?te.filter(qe=>$.includes(qe.orderNumber)):[],_=X.filter(qe=>$.includes(qe.id)),K={};R.forEach(qe=>{K[qe]={orders:[],custom:[]}}),w.forEach(qe=>{const Ue=Ee(qe.orderNumber,qe.customerName).sender||R[0];K[Ue]&&K[Ue].orders.push(qe)}),_.forEach(qe=>{const Te=qe.sender||R[0];K[Te]&&K[Te].custom.push(qe)});let A="\uFEFF";R.forEach((qe,Te)=>{Te>0&&(A+=`
`),A+=" : "+qe+`
`,A+=`,,,,,,
`;const{orders:Ue,custom:ct}=K[qe];if(Ue.length+ct.length===0)A+=`,,,,,, 
`;else{let ue=1;Ue.forEach(h=>{const D=Ae(h.customerName),ne=we(h.items),F=(D==null?void 0:D.phone)||h.customerPhone||"",G=(D==null?void 0:D.address)||"",Ie=Ee(h.orderNumber,h.customerName);A+=`${ue},${h.customerName},${Ie.paymentType},${Ie.packaging},${Ie.shippingCost},${ne},${F}
`,G&&(A+=`${G}
`),ue++}),ct.forEach(h=>{A+=`${ue},${h.name},${h.paymentType},${h.packaging},${h.shippingCost},${h.product||""},${h.phone}
`,h.address&&(A+=`${h.address}
`),ue++})}});const _e=new Blob([A],{type:"text/csv;charset=utf-8;"}),ce=document.createElement("a");ce.href=URL.createObjectURL(_e),ce.download=`_${new Date().toISOString().slice(0,10)}.csv`,ce.click()},P=async()=>{const w=$.length>0?te.filter(ze=>$.includes(ze.orderNumber)):[],_=X.filter(ze=>$.includes(ze.id));if(!window.ExcelJS){const ze=document.createElement("script");ze.src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js",document.head.appendChild(ze),await new Promise(mt=>ze.onload=mt)}const K=window.ExcelJS,A=new K.Workbook,_e=A.addWorksheet(" "),ce={};R.forEach(ze=>{ce[ze]={orders:[],custom:[]}}),w.forEach(ze=>{const Fe=Ee(ze.orderNumber,ze.customerName).sender||R[0];ce[Fe]&&ce[Fe].orders.push(ze)}),_.forEach(ze=>{const mt=ze.sender||R[0];ce[mt]&&ce[mt].custom.push(ze)});const qe=55,Te=45,Ue=60,ct=50;_e.pageSetup={paperSize:9,orientation:"landscape",horizontalCentered:!0,verticalCentered:!0,margins:{left:.5,right:.5,top:.5,bottom:.5,header:.3,footer:.3}},_e.columns=[{width:7},{width:22},{width:11},{width:13},{width:18},{width:28},{width:22}];const g={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},ue=["","","","","","",""];let h=1;R.forEach((ze,mt)=>{mt>0&&h++,_e.mergeCells(`A${h}:G${h}`);const Fe=_e.getRow(h);Fe.getCell(1).value=" : "+ze,Fe.getCell(1).font={bold:!0,size:15,name:"Malgun Gothic"},Fe.getCell(1).alignment={horizontal:"center",vertical:"middle"},Fe.getCell(1).border=g,Fe.height=qe,h++;const Ke=_e.getRow(h);ue.forEach((at,Je)=>{const ht=Ke.getCell(Je+1);ht.value=at,ht.font={bold:!0,size:14,name:"Malgun Gothic"},ht.alignment={horizontal:"center",vertical:"middle"},ht.border=g}),Ke.height=Te,h++;const{orders:Vt,custom:$t}=ce[ze]||{orders:[],custom:[]};if(Vt.length+$t.length===0){const at=_e.getRow(h);ue.forEach((ht,jt)=>{const Nt=at.getCell(jt+1);Nt.value="",Nt.font={size:12,name:"Malgun Gothic"},Nt.border=g,Nt.alignment={horizontal:"center",vertical:"middle"}}),at.height=Ue,h++,_e.mergeCells(`A${h}:G${h}`);const Je=_e.getRow(h);Je.getCell(1).value="",Je.getCell(1).font={size:12,name:"Malgun Gothic"},Je.getCell(1).border=g,Je.getCell(1).alignment={horizontal:"center",vertical:"middle"},Je.height=ct,h++}else{let at=1;Vt.forEach(Je=>{const ht=Je.customerName?Ae(Je.customerName):null,jt=we(Je.items),Nt=(ht==null?void 0:ht.phone)||Je.customerPhone||"",ot=(ht==null?void 0:ht.address)||"",St=Ee(Je.orderNumber,Je.customerName),Ht=St.paymentType==="",Be=String(St.packaging||""),ss=String(St.shippingCost||""),ds=Be.includes(",")?Be.split(",").join(`
`):Be,us=ss.includes(",")?ss.split(",").join(`
`):ss,Rt=_e.getRow(h),Ks=[at,Je.customerName||"",St.paymentType,ds,us,jt,Nt];at++,Ks.forEach((Mt,Jt)=>{const Ns=Rt.getCell(Jt+1);Ns.value=Mt,Ns.font={size:12,bold:Ht,name:"Malgun Gothic"},Ns.alignment={horizontal:"center",vertical:"middle",wrapText:!0},Ns.border=g});const xn=Math.max((Be.match(/,/g)||[]).length+1,(ss.match(/,/g)||[]).length+1);if(Rt.height=Math.max(Ue,35*xn),h++,ot){_e.mergeCells(`A${h}:G${h}`);const Mt=_e.getRow(h);Mt.getCell(1).value=ot,Mt.getCell(1).font={size:12,bold:Ht,name:"Malgun Gothic"},Mt.getCell(1).alignment={horizontal:"center",vertical:"middle",wrapText:!0},Mt.getCell(1).border=g,Mt.height=ct,h++}}),$t.forEach(Je=>{const ht=Je.paymentType==="",jt=String(Je.packaging||""),Nt=String(Je.shippingCost||""),ot=jt.includes(",")?jt.split(",").join(`
`):jt,St=Nt.includes(",")?Nt.split(",").join(`
`):Nt,Ht=_e.getRow(h),Be=[at,Je.name||"",Je.paymentType,ot,St,Je.product||"",Je.phone||""];at++,Be.forEach((ds,us)=>{const Rt=Ht.getCell(us+1);Rt.value=ds,Rt.font={size:12,bold:ht,name:"Malgun Gothic"},Rt.alignment={horizontal:"center",vertical:"middle",wrapText:!0},Rt.border=g});const ss=Math.max((jt.match(/,/g)||[]).length+1,(Nt.match(/,/g)||[]).length+1);if(Ht.height=Math.max(Ue,35*ss),h++,Je.address){_e.mergeCells(`A${h}:G${h}`);const ds=_e.getRow(h);ds.getCell(1).value=Je.address,ds.getCell(1).font={size:12,bold:ht,name:"Malgun Gothic"},ds.getCell(1).alignment={horizontal:"center",vertical:"middle",wrapText:!0},ds.getCell(1).border=g,ds.height=ct,h++}})}}),R.forEach((ze,mt)=>{const{orders:Fe,custom:Ke}=ce[ze]||{orders:[],custom:[]},Vt=Fe.length+Ke.length;let $t,It;if(mt===0)$t=1;else{let at=1;for(let Je=0;Je<mt;Je++){const{orders:ht,custom:jt}=ce[R[Je]]||{orders:[],custom:[]},Nt=ht.length+jt.length;at+=1,at+=2,Nt===0?at+=2:(ht.forEach(ot=>{const St=ot.customerName?Ae(ot.customerName):null,Ht=(St==null?void 0:St.address)||"";at+=1,Ht&&(at+=1)}),jt.forEach(ot=>{at+=1,ot.address&&(at+=1)}))}$t=at}It=$t+1,Vt===0?It+=2:(Fe.forEach(at=>{const Je=at.customerName?Ae(at.customerName):null,ht=(Je==null?void 0:Je.address)||"";It+=1,ht&&(It+=1)}),Ke.forEach(at=>{It+=1,at.address&&(It+=1)}));for(let at=$t;at<=It;at++)for(let Je=1;Je<=7;Je++){const ht=_e.getRow(at).getCell(Je),jt={...ht.border};at===$t&&(jt.top={style:"medium"}),at===It&&(jt.bottom={style:"medium"}),Je===1&&(jt.left={style:"medium"}),Je===7&&(jt.right={style:"medium"}),ht.border=jt}});const D=await A.xlsx.writeBuffer(),ne=new Blob([D],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),F=`_${new Date().toISOString().slice(0,10)}.xlsx`,G=URL.createObjectURL(ne),Ie=document.createElement("a");Ie.href=G,Ie.download=F,Ie.click(),setTimeout(()=>URL.revokeObjectURL(G),1e3)},pe=()=>{const w=$.length>0?te.filter(ce=>$.includes(ce.orderNumber)):[],_=X.filter(ce=>$.includes(ce.id)),K={};R.forEach(ce=>{K[ce]={orders:[],custom:[]}}),w.forEach(ce=>{const Te=Ee(ce.orderNumber,ce.customerName).sender||R[0];K[Te]&&K[Te].orders.push(ce)}),_.forEach(ce=>{const qe=ce.sender||R[0];K[qe]&&K[qe].custom.push(ce)});let A=`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title> </title>
  <style>
    @page {
      size: A4 landscape;
      margin: 0.5cm;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Malgun Gothic', sans-serif;
      font-size: 11pt;
      padding: 10px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
      table-layout: fixed;
    }
    th, td {
      border: 1px solid #000;
      padding: 6px 4px;
      text-align: center;
      word-wrap: break-word;
      vertical-align: middle;
    }
    th {
      background-color: #f0f0f0;
      font-weight: bold;
    }
    .header {
      font-size: 14pt;
      font-weight: bold;
      text-align: center;
      padding: 12px;
    }
    .header-green {
      background-color: #e8f5e9;
    }
    .header-plain {
      background-color: transparent;
    }
    .prepaid {
      font-weight: bold;
    }
    .col-num { width: 5%; }
    .col-name { width: 18%; }
    .col-payment { width: 8%; }
    .col-pack { width: 10%; }
    .col-cost { width: 12%; }
    .col-item { width: 30%; }
    .col-phone { width: 17%; }
    .address-row {
      text-align: center;
      padding: 8px;
      word-break: keep-all;
      line-height: 1.4;
    }
    @media print {
      body { padding: 0; }
      @page { margin: 0.5cm; }
    }
  </style>
</head>
<body>`;R.forEach(ce=>{A+=`
  <table>
    <thead>
      <tr>
        <td colspan="7" class="${ce===""?"header header-green":"header header-plain"}"> : ${ce}</td>
      </tr>
      <tr>
        <th class="col-num"></th>
        <th class="col-name"></th>
        <th class="col-payment"></th>
        <th class="col-pack"></th>
        <th class="col-cost"></th>
        <th class="col-item"></th>
        <th class="col-phone"></th>
      </tr>
    </thead>
    <tbody>`;const{orders:Te,custom:Ue}=K[ce]||{orders:[],custom:[]};if(Te.length+Ue.length===0)A+=`<tr>
          <td class="col-num"></td>
          <td class="col-name"></td>
          <td class="col-payment"></td>
          <td class="col-pack"></td>
          <td class="col-cost"></td>
          <td class="col-item"></td>
          <td class="col-phone"></td>
        </tr>`;else{let g=1;Te.forEach(ue=>{const h=Ae(ue.customerName),D=we(ue.items),ne=(h==null?void 0:h.phone)||ue.customerPhone||"",F=(h==null?void 0:h.address)||"",G=Ee(ue.orderNumber,ue.customerName),ze=G.paymentType===""?"prepaid":"",mt=String(G.packaging||"").replace(/,/g,"<br>"),Fe=String(G.shippingCost||"").replace(/,/g,"<br>");A+=`<tr class="${ze}">
            <td class="col-num">${g}</td>
            <td class="col-name">${ue.customerName||""}</td>
            <td class="col-payment">${G.paymentType}</td>
            <td class="col-pack">${mt}</td>
            <td class="col-cost">${Fe}</td>
            <td class="col-item">${D}</td>
            <td class="col-phone">${ne}</td>
          </tr>`,F&&(A+=`<tr class="${ze}"><td colspan="7" class="address-row">${F}</td></tr>`),g++}),Ue.forEach(ue=>{const D=ue.paymentType===""?"prepaid":"",ne=String(ue.packaging||"").replace(/,/g,"<br>"),F=String(ue.shippingCost||"").replace(/,/g,"<br>");A+=`<tr class="${D}">
            <td class="col-num">${g}</td>
            <td class="col-name">${ue.name||""}</td>
            <td class="col-payment">${ue.paymentType}</td>
            <td class="col-pack">${ne}</td>
            <td class="col-cost">${F}</td>
            <td class="col-item">${ue.product||""}</td>
            <td class="col-phone">${ue.phone||""}</td>
          </tr>`,ue.address&&(A+=`<tr class="${D}"><td colspan="7" class="address-row">${ue.address}</td></tr>`),g++})}A+=`
    </tbody>
  </table>`}),A+=`
  <script>
    window.onload = function() { 
      window.print(); 
    }
  <\/script>
</body>
</html>`;const _e=window.open("","_blank");_e.document.write(A),_e.document.close()},ve=["1","2","3","1","2","3"];return p.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in bg-black/70 backdrop-blur-sm",style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0",onClick:b,onTouchMove:w=>w.preventDefault()}),t.jsxs("div",{className:"relative bg-slate-800 rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden border border-slate-700 shadow-2xl flex flex-col",children:[t.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-amber-600 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ni,{className:"w-6 h-6 text-white"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-white",children:"  "}),t.jsxs("p",{className:"text-orange-100 text-xs",children:[" ",De.length," /  ",te.length," /  ",$.length,""]})]})]}),t.jsx("button",{onClick:b,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(zt,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 modal-scroll-area","data-lenis-prevent":"true",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",touchAction:"pan-y"},children:[t.jsx("div",{className:"bg-slate-700/50 rounded-xl p-4 mb-4 border border-slate-600",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"today",label:""},{key:"yesterday",label:""},{key:"week",label:" 7"},{key:"all",label:""}].map(({key:w,label:_})=>t.jsx("button",{onClick:()=>{le(w),N([])},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${E===w?"bg-orange-600 text-white":"bg-slate-600 text-slate-300 hover:bg-slate-500"}`,children:_},w))})}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:te.length+X.length>0&&$.length===te.length+X.length,onChange:Ne,className:"w-4 h-4 rounded border-slate-500 bg-slate-700 text-orange-500 focus:ring-orange-500"}),t.jsx("span",{className:"text-slate-300 text-sm",children:" "})]}),t.jsxs("button",{onClick:()=>U(!0),className:"px-3 py-1.5 bg-emerald-600 hover:bg-emerald-500 text-white text-sm font-medium rounded-lg flex items-center gap-1.5 transition-colors",children:[t.jsx(Pt,{className:"w-4 h-4"})," "]})]}),te.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ni,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-400",children:"    "}),t.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"   "})]}):t.jsx("div",{className:"space-y-2",children:te.map(w=>{var qe;const _=w.customerName?Ae(w.customerName):null,K=_==null?void 0:_.address,A=Ee(w.orderNumber,w.customerName),_e=$.includes(w.orderNumber),ce=w.customerName&&Le[w.customerName];return t.jsxs("div",{className:`rounded-xl border transition-all select-none ${_e?"bg-orange-600/20 border-orange-500":"bg-slate-700/50 border-slate-600 hover:border-slate-500"}`,children:[t.jsx("div",{className:"p-3 cursor-pointer",onClick:()=>Ye(w.orderNumber),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:_e,onChange:()=>{},className:"mt-1 w-4 h-4 rounded border-slate-500 bg-slate-700 text-orange-500"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:`font-medium ${A.paymentType===""?"text-yellow-400 font-bold":"text-white"}`,children:w.customerName||" "}),t.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${(A.sender||R[0])===""?"bg-purple-600/30 text-purple-300":"bg-cyan-600/30 text-cyan-300"}`,children:A.sender||R[0]}),A.paymentType===""&&t.jsx("span",{className:"px-2 py-0.5 bg-yellow-600/30 text-yellow-400 text-xs rounded-full font-bold",children:""}),K?t.jsx("span",{className:"px-2 py-0.5 bg-emerald-600/20 text-emerald-400 text-xs rounded-full",children:" "}):t.jsx("span",{className:"px-2 py-0.5 bg-red-600/20 text-red-400 text-xs rounded-full",children:" "}),ce&&t.jsx("span",{className:"px-2 py-0.5 bg-blue-600/30 text-blue-400 text-xs rounded-full",children:" "})]}),t.jsx("p",{className:"text-slate-400 text-sm truncate",children:(_==null?void 0:_.address)||" "}),t.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:[((qe=w.items)==null?void 0:qe.length)||0,"  ",c(w.totalAmount)]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-slate-400 text-xs",children:(_==null?void 0:_.phone)||w.customerPhone||" "}),_&&t.jsx("button",{onClick:Te=>{Te.stopPropagation(),k(w.customerName)},className:"mt-1 px-2 py-1 bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 text-xs rounded transition-colors",children:" "})]})]})}),_e&&t.jsxs("div",{className:"px-3 pb-3 pt-2 border-t border-slate-600/50",onClick:Te=>Te.stopPropagation(),children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1 text-center",children:"  "}),t.jsx("select",{value:A.sender||R[0],onChange:Te=>ke(w.orderNumber,"sender",Te.target.value),className:"w-full px-2 py-1.5 bg-orange-600/20 border border-orange-500/50 rounded text-orange-300 text-sm font-medium focus:outline-none focus:border-orange-400 text-center",children:R.map(Te=>t.jsx("option",{value:Te,children:Te},Te))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1 text-center",children:" "}),t.jsxs("select",{value:A.paymentType,onChange:Te=>ke(w.orderNumber,"paymentType",Te.target.value),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:border-orange-500 text-center",children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1 text-center",children:""}),t.jsx("input",{type:"text",list:`packaging-options-${w.orderNumber}`,value:A.packaging,onChange:Te=>ke(w.orderNumber,"packaging",Te.target.value),onInput:Te=>ke(w.orderNumber,"packaging",Te.target.value),placeholder:"1",className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:border-orange-500 text-center"}),t.jsx("datalist",{id:`packaging-options-${w.orderNumber}`,children:ve.map(Te=>t.jsx("option",{value:Te},Te))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1 text-center",children:""}),t.jsx("input",{type:"text",value:A.shippingCost,onChange:Te=>{const Ue=Te.target.value;(Ue===""||/^[\d,]+$/.test(Ue))&&ke(w.orderNumber,"shippingCost",Ue)},placeholder:"7300",className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:border-orange-500 text-center"})]})]}),w.customerName&&t.jsxs("div",{className:"flex gap-2 mt-2",children:[t.jsxs("button",{onClick:()=>Me(w.customerName,A),className:"flex-1 px-2 py-1.5 bg-emerald-600/80 hover:bg-emerald-600 text-white text-xs font-medium rounded transition-colors flex items-center justify-center gap-1",children:[" ",ce?" ":"  "]}),ce&&t.jsx("button",{onClick:()=>H(w.customerName),className:"px-2 py-1.5 bg-red-600/80 hover:bg-red-600 text-white text-xs font-medium rounded transition-colors",children:""})]}),_&&de===_.id&&t.jsxs("div",{className:"mt-3 p-3 bg-blue-900/20 border border-blue-600/30 rounded-lg",children:[t.jsxs("p",{className:"text-blue-400 font-medium text-sm mb-2",children:[" ",w.customerName,"  "]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-xs mb-1",children:""}),t.jsx("input",{type:"text",value:V,onChange:Te=>I(Te.target.value),placeholder:" ",className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-xs mb-1",children:""}),t.jsx("input",{type:"text",value:Y,onChange:Te=>je(Te.target.value),placeholder:" ",className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:border-blue-500"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>me(_.id),className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded transition-colors",children:""}),t.jsx("button",{onClick:O,className:"flex-1 px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white text-sm font-medium rounded transition-colors",children:""})]})]})]})]})]},w.orderNumber)})}),X.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsxs("p",{className:"text-emerald-400 font-medium text-sm mb-2 flex items-center gap-2",children:[t.jsx(Pt,{className:"w-4 h-4"}),"  (",X.length,")"]}),t.jsx("div",{className:"space-y-2",children:X.map(w=>{const _=$.includes(w.id);return t.jsxs("div",{className:`rounded-xl border transition-all ${_?"bg-emerald-600/20 border-emerald-500":"bg-slate-700/50 border-slate-600 hover:border-slate-500"}`,children:[t.jsx("div",{className:"p-3 cursor-pointer",onClick:()=>Ye(w.id),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:_,onChange:()=>{},className:"mt-1 w-4 h-4 rounded border-slate-500 bg-slate-700 text-emerald-500"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:"font-medium text-white",children:w.name}),t.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${w.sender===""?"bg-purple-600/30 text-purple-300":"bg-cyan-600/30 text-cyan-300"}`,children:w.sender}),w.paymentType===""&&t.jsx("span",{className:"px-2 py-0.5 bg-yellow-600/30 text-yellow-400 text-xs rounded-full font-bold",children:""}),t.jsx("span",{className:"px-2 py-0.5 bg-emerald-600/20 text-emerald-400 text-xs rounded-full",children:" "})]}),t.jsx("p",{className:"text-slate-400 text-sm truncate",children:w.address||" "}),t.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:[w.product||"","  ",w.packaging,"  ",w.shippingCost,""]})]}),t.jsxs("div",{className:"text-right flex items-center gap-2",children:[t.jsx("p",{className:"text-slate-400 text-xs",children:w.phone||" "}),t.jsx("button",{onClick:K=>{K.stopPropagation(),y(w.id)},className:"p-1.5 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded transition-colors",children:t.jsx(pt,{className:"w-4 h-4"})})]})]})}),_&&t.jsxs("div",{className:"px-3 pb-3 pt-2 border-t border-slate-600/50 space-y-2",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1",children:""}),t.jsx("input",{type:"text",value:w.name,onChange:K=>L(w.id,"name",K.target.value),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:border-emerald-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1",children:""}),t.jsx("input",{type:"text",value:w.phone,onChange:K=>L(w.id,"phone",K.target.value),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:border-emerald-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1",children:""}),t.jsx("input",{type:"text",value:w.address,onChange:K=>L(w.id,"address",K.target.value),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:border-emerald-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1",children:""}),t.jsx("input",{type:"text",value:w.product,onChange:K=>L(w.id,"product",K.target.value),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:border-emerald-500"})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 pt-2 border-t border-slate-600/30",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1 text-center",children:"  "}),t.jsx("select",{value:w.sender,onChange:K=>L(w.id,"sender",K.target.value),className:"w-full px-2 py-1.5 bg-emerald-600/20 border border-emerald-500/50 rounded text-emerald-300 text-sm font-medium focus:outline-none text-center",children:R.map(K=>t.jsx("option",{value:K,children:K},K))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1 text-center",children:" "}),t.jsxs("select",{value:w.paymentType,onChange:K=>L(w.id,"paymentType",K.target.value),className:`w-full px-2 py-1.5 border rounded text-sm font-medium focus:outline-none text-center ${w.paymentType===""?"bg-yellow-600/30 border-yellow-500/50 text-yellow-300":"bg-slate-700 border-slate-600 text-white"}`,children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1 text-center",children:" "}),t.jsx("input",{type:"text",value:w.packaging,onChange:K=>L(w.id,"packaging",K.target.value),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:border-emerald-500 text-center"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-500 text-xs mb-1 text-center",children:" "}),t.jsx("input",{type:"text",value:w.shippingCost,onChange:K=>L(w.id,"shippingCost",K.target.value),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:border-emerald-500 text-center"})]})]})]})]},w.id)})})]})]}),t.jsxs("div",{className:"border-t border-slate-700 p-4 flex-shrink-0 bg-slate-800",children:[t.jsx("p",{className:"text-slate-400 text-xs text-center mb-2",children:$.length===0?"     ":`${$.length} `}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:ft,className:"flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors bg-emerald-600 hover:bg-emerald-500 text-white",children:[t.jsx(bi,{className:"w-5 h-5"}),"CSV"]}),t.jsxs("button",{onClick:P,className:"flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors bg-blue-600 hover:bg-blue-500 text-white",children:[t.jsx(hn,{className:"w-5 h-5"}),"Excel"]}),t.jsxs("button",{onClick:pe,className:"flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors bg-orange-600 hover:bg-orange-500 text-white",children:[t.jsx(Ei,{className:"w-5 h-5"}),""]})]})]})]}),oe&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[60] p-4",onClick:()=>U(!1),children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl w-full max-w-lg border border-slate-700 shadow-2xl",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 px-4 py-3 rounded-t-2xl flex items-center justify-between",children:[t.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[t.jsx(Pt,{className:"w-5 h-5"}),"  "]}),t.jsx("button",{onClick:()=>U(!1),className:"p-1 hover:bg-white/20 rounded transition-colors",children:t.jsx(zt,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"p-4 space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-1",children:" * (   )"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",value:ye.name,onChange:w=>Z(_=>({..._,name:w.target.value})),placeholder:"  ...",className:"w-full pl-10 pr-3 py-2.5 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-emerald-500"})]}),ye.name&&(()=>{const w=ye.name.toLowerCase().replace(/\s/g,""),_=(m||[]).filter(A=>{if(!(A!=null&&A.name))return!1;const _e=A.name.toLowerCase().replace(/\s/g,""),ce=(A.phone||"").replace(/\s/g,"");return _e.includes(w)||ce.includes(w)}).slice(0,5);if(_.length===0)return null;const K=_.find(A=>A.name===ye.name);return K&&ye.phone===(K.phone||"")?null:t.jsx("div",{className:"absolute z-10 w-full mt-1 bg-slate-700 border border-slate-600 rounded-lg shadow-xl max-h-48 overflow-y-auto",children:_.map(A=>t.jsxs("button",{type:"button",onClick:()=>{const _e=Le[A.name];Z(ce=>({...ce,name:A.name,phone:A.phone||"",address:A.address||"",..._e&&{paymentType:_e.paymentType||"",packaging:_e.packaging||"1",sender:_e.sender||""}}))},className:"w-full px-3 py-2.5 text-left hover:bg-slate-600 transition-colors flex items-center justify-between border-b border-slate-600/50 last:border-0",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-white font-medium",children:A.name}),Le[A.name]&&t.jsx("span",{className:"ml-2 text-blue-400 text-xs",children:""})]}),t.jsx("span",{className:"text-slate-400 text-sm",children:A.phone||""})]},A.id))})})()]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-1",children:""}),t.jsx("input",{type:"text",value:ye.phone,onChange:w=>Z(_=>({..._,phone:w.target.value})),placeholder:"010-0000-0000",className:"w-full px-3 py-2.5 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-emerald-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-1",children:""}),t.jsx("input",{type:"text",value:ye.product,onChange:w=>Z(_=>({..._,product:w.target.value})),placeholder:"",className:"w-full px-3 py-2.5 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-emerald-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-1",children:""}),t.jsx("input",{type:"text",value:ye.address,onChange:w=>Z(_=>({..._,address:w.target.value})),placeholder:" ",className:"w-full px-3 py-2.5 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-emerald-500"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-1",children:" "}),t.jsx("select",{value:ye.sender,onChange:w=>Z(_=>({..._,sender:w.target.value})),className:"w-full px-2 py-2.5 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-emerald-500",children:R.map(w=>t.jsx("option",{value:w,children:w},w))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-1",children:""}),t.jsxs("select",{value:ye.paymentType,onChange:w=>Z(_=>({..._,paymentType:w.target.value})),className:"w-full px-2 py-2.5 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-emerald-500",children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-1",children:""}),t.jsx("input",{type:"text",value:ye.packaging,onChange:w=>Z(_=>({..._,packaging:w.target.value})),placeholder:"1",className:"w-full px-2 py-2.5 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-emerald-500"})]})]})]}),t.jsxs("div",{className:"p-4 pt-2 flex gap-3",children:[t.jsx("button",{onClick:()=>U(!1),className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-medium transition-colors",children:""}),t.jsxs("button",{onClick:W,disabled:!ye.name,className:`flex-1 py-3 rounded-xl font-medium transition-colors flex items-center justify-center gap-2 ${ye.name?"bg-emerald-600 hover:bg-emerald-500 text-white":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,children:[t.jsx(Pt,{className:"w-5 h-5"}),""]})]})]})})]})}function gm({products:o,categories:m,formatPrice:c,onBack:b}){const[j,$]=p.useState(""),[N,R]=p.useState("all"),[E,le]=p.useState(""),[Q,ae]=p.useState(!1);p.useEffect(()=>{const V=I=>{I.key==="Escape"&&b()};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[b]);const de=o.filter(V=>{const I=j===""||V.category===j,Y=Cl(V.name,E),je=V.stock??50,Le=V.min_stock||5;let z=!0;return N==="out"?z=je===0&&V.stock_status!=="incoming":N==="incoming"?z=V.stock_status==="incoming":N==="low"?z=je>0&&je<=Le:N==="normal"&&(z=je>Le),I&&Y&&z}),ge={total:o.length,normal:o.filter(V=>(V.stock??50)>(V.min_stock||5)).length,low:o.filter(V=>(V.stock??50)>0&&(V.stock??50)<=(V.min_stock||5)).length,incoming:o.filter(V=>V.stock_status==="incoming").length,out:o.filter(V=>(V.stock??50)===0&&V.stock_status!=="incoming").length};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col select-none",children:[t.jsxs("header",{className:"bg-slate-800/90 backdrop-blur-md border-b border-slate-700 sticky top-0 z-40 select-none",children:[t.jsxs("div",{className:"w-full px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:b,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:t.jsx(Si,{className:"w-5 h-5 text-slate-300"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(js,{className:"w-6 h-6 text-cyan-400"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-white",children:" "}),t.jsxs("p",{className:"text-cyan-400 text-xs",children:[" ",o.length,"   ",de.length,""]})]})]})]}),t.jsxs("button",{onClick:()=>ae(!Q),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-slate-300 hover:text-white flex items-center gap-1.5 text-sm",children:[t.jsx("span",{className:"hidden sm:inline",children:Q?"":""}),t.jsx(Un,{className:`w-4 h-4 transition-transform duration-300 ${Q?"rotate-180":""}`})]})]}),Q&&t.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs bg-slate-700/30 rounded-lg px-3 py-2",children:[t.jsxs("span",{className:"text-slate-400",children:[t.jsxs("span",{className:"text-white font-semibold",children:[ge.total,""]})," ",t.jsxs("span",{className:"text-emerald-400 ml-1",children:[ge.normal," "]})," ",t.jsxs("span",{className:"text-yellow-400",children:[ge.low," "]})," ",t.jsxs("span",{className:"text-orange-400",children:[ge.incoming," "]})," ",t.jsxs("span",{className:"text-red-400",children:[ge.out," "]})]}),E&&t.jsxs("span",{className:"text-cyan-400",children:[": ",E]})]})]}),t.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${Q?"max-h-0 opacity-0":"max-h-[500px] opacity-100"}`,children:t.jsxs("div",{className:"px-4 pb-4 pt-2 space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-5 gap-1.5 mt-1",children:[t.jsxs("button",{onClick:()=>R("all"),className:`rounded-lg p-2 text-center transition-all border ${N==="all"?"ring-2 ring-white bg-slate-700 border-slate-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[t.jsx("p",{className:"text-slate-400 text-[10px] mb-0.5",children:""}),t.jsx("p",{className:"text-base font-bold text-white",children:ge.total})]}),t.jsxs("button",{onClick:()=>R("normal"),className:`rounded-lg p-2 text-center transition-all border ${N==="normal"?"ring-2 ring-emerald-400 bg-emerald-600/30 border-emerald-500":"bg-emerald-600/20 border-emerald-600/30 hover:bg-emerald-600/30"}`,children:[t.jsx("p",{className:"text-emerald-300 text-[10px] mb-0.5",children:""}),t.jsx("p",{className:"text-base font-bold text-emerald-400",children:ge.normal})]}),t.jsxs("button",{onClick:()=>R("low"),className:`rounded-lg p-2 text-center transition-all border ${N==="low"?"ring-2 ring-yellow-400 bg-yellow-600/30 border-yellow-500":"bg-yellow-600/20 border-yellow-600/30 hover:bg-yellow-600/30"}`,children:[t.jsx("p",{className:"text-yellow-300 text-[10px] mb-0.5",children:""}),t.jsx("p",{className:"text-base font-bold text-yellow-400",children:ge.low})]}),t.jsxs("button",{onClick:()=>R("incoming"),className:`rounded-lg p-2 text-center transition-all border ${N==="incoming"?"ring-2 ring-orange-400 bg-orange-600/30 border-orange-500":"bg-orange-600/20 border-orange-600/30 hover:bg-orange-600/30"}`,children:[t.jsx("p",{className:"text-orange-300 text-[10px] mb-0.5",children:""}),t.jsx("p",{className:"text-base font-bold text-orange-400",children:ge.incoming})]}),t.jsxs("button",{onClick:()=>R("out"),className:`rounded-lg p-2 text-center transition-all border ${N==="out"?"ring-2 ring-red-400 bg-red-600/30 border-red-500":"bg-red-600/20 border-red-600/30 hover:bg-red-600/30"}`,children:[t.jsx("p",{className:"text-red-300 text-[10px] mb-0.5",children:""}),t.jsx("p",{className:"text-base font-bold text-red-400",children:ge.out})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",value:E,onChange:V=>le(V.target.value),onFocus:Hs,placeholder:" ...",className:"w-full pl-10 pr-4 py-2.5 bg-slate-700/50 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),t.jsxs("div",{className:"flex gap-2 overflow-x-auto md:overflow-x-visible md:flex-wrap pb-1 md:pb-0 scrollbar-hide",style:{WebkitOverflowScrolling:"touch"},children:[t.jsx("button",{onClick:()=>$(""),className:`flex-shrink-0 md:flex-shrink px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${j===""?"bg-cyan-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:""}),m.map(V=>t.jsx("button",{onClick:()=>$(V),className:`flex-shrink-0 md:flex-shrink px-3 py-1.5 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${j===V?"bg-cyan-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:V},V))]})]})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto","data-lenis-prevent":"true",children:t.jsxs("div",{className:"w-full px-4 py-4",children:[t.jsxs("p",{className:"text-slate-400 text-sm mb-3",children:[j!==""&&t.jsx("span",{className:"text-cyan-400",children:j}),j!==""&&"  "," : ",t.jsxs("span",{className:"text-white font-semibold",children:[de.length,""]})]}),de.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(js,{className:"w-16 h-16 text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-400",children:"   "})]}):t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3",children:de.map(V=>{const I=V.stock??50,Y=V.min_stock||5,je=V.stock_status==="incoming",Le=I===0&&!je,z=I>0&&I<=Y;return t.jsxs("div",{className:`rounded-xl p-4 border transition-transform hover:scale-[1.02] ${je?"bg-orange-900/20 border-orange-500/30":Le?"bg-red-900/20 border-red-500/30":z?"bg-yellow-900/20 border-yellow-500/30":"bg-emerald-900/10 border-emerald-500/20"}`,children:[t.jsx("p",{className:"text-white text-sm font-medium truncate mb-2",children:V.name}),t.jsx("p",{className:"text-slate-400 text-xs truncate mb-2",children:V.category}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("p",{className:"text-slate-500 text-xs",children:c(V.wholesale)}),t.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 ${je?"bg-orange-600/30 text-orange-400":Le?"bg-red-600/30 text-red-400":z?"bg-yellow-600/30 text-yellow-400":"bg-emerald-600/30 text-emerald-400"}`,children:je?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-400 animate-pulse"}),""]}):Le?"":`${I}`})]})]},V.id)})})]})})]})}function ym({isOpen:o,onSave:m,cart:c,priceType:b,formatPrice:j,customerName:$="",initialPhone:N="",initialAddress:R="",onBack:E,onCloseAll:le}){const[Q,ae]=p.useState(""),[de,ge]=p.useState(""),[V,I]=p.useState(""),[Y,je]=p.useState(""),[Le,z]=p.useState("pending"),[X,J]=p.useState("normal"),[oe,U]=p.useState("");p.useEffect(()=>{if(!o)return;if($&&$.trim())ae($.trim());else{const $e=new Date,Re=`${$e.getMonth()+1} ${$e.getDate()} ${$e.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})}`;ae(Re)}je(new Date().toISOString().split("T")[0]),z("pending"),J("normal"),U(""),ge(N||""),I(R||"")},[$,N,R,o]),p.useEffect(()=>{if(!o)return;const be=$e=>{$e.key==="Escape"&&E()};return window.addEventListener("keydown",be),()=>window.removeEventListener("keydown",be)},[o,E]);const ye=c.reduce((be,$e)=>{const Re=b==="wholesale"?$e.wholesale:$e.retail||$e.wholesale;return be+Re*$e.quantity},0),Z=async()=>{Q.trim()&&(await m({name:Q.trim(),phone:de.trim(),address:V.trim(),deliveryDate:Y,status:Le,priority:X,memo:oe.trim()}),le?le():E())};if(!o)return null;const De="ontouchstart"in window||navigator.maxTouchPoints>0;return t.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 animate-fade-in",onTouchMove:be=>{be.target.closest(".modal-scroll-area")||be.preventDefault()},children:[t.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:E}),t.jsxs("div",{className:"relative bg-slate-800 rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col border border-slate-700 shadow-2xl animate-scale-in",children:[t.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-purple-600 px-5 py-4 flex items-center justify-between flex-shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Wr,{className:"w-6 h-6 text-white"}),t.jsx("h2",{className:"text-lg font-bold text-white",children:" "})]}),t.jsx("button",{onClick:E,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(zt,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-5 modal-scroll-area","data-lenis-prevent":"true",style:De?{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",touchAction:"pan-y"}:{},children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:"  ()"}),t.jsx("input",{type:"text",value:Q,onChange:be=>ae(be.target.value),placeholder:"   ",className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500",autoFocus:!0,onFocus:be=>be.target.select()})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:""}),t.jsx("input",{type:"tel",value:de,onChange:be=>ge(be.target.value),placeholder:"010-0000-0000",className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:""}),t.jsx("input",{type:"text",value:V,onChange:be=>I(be.target.value),placeholder:"  ",className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500"})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:" "}),t.jsx("input",{type:"date",value:Y,onChange:be=>je(be.target.value),className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:""}),t.jsxs("select",{value:Le,onChange:be=>z(be.target.value),className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-violet-500",children:[t.jsx("option",{value:"draft",children:" "}),t.jsx("option",{value:"scheduled",children:""}),t.jsx("option",{value:"ready",children:" "}),t.jsx("option",{value:"hold",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:""}),t.jsxs("select",{value:X,onChange:be=>J(be.target.value),className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-violet-500",children:[t.jsx("option",{value:"low",children:""}),t.jsx("option",{value:"normal",children:""}),t.jsx("option",{value:"high",children:""}),t.jsx("option",{value:"urgent",children:""})]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:""}),t.jsx("textarea",{value:oe,onChange:be=>U(be.target.value),placeholder:"   ()",rows:"2",className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 mb-4 border border-slate-700",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-slate-400",children:""}),t.jsxs("span",{className:"text-white",children:[c.length," / ",c.reduce((be,$e)=>be+$e.quantity,0),""]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-400",children:""}),t.jsx("span",{className:"text-emerald-400 font-bold text-xl",children:j(ye)})]})]}),t.jsx("div",{className:"bg-slate-900/30 rounded-xl p-3 border border-slate-700/50 max-h-32 overflow-y-auto",children:t.jsx("p",{className:"text-slate-400 text-sm",children:c.map(be=>`${be.name}(${be.quantity})`).join(", ")})})]}),t.jsxs("div",{className:"flex gap-3 p-5 pt-3 border-t border-slate-700 bg-slate-800 rounded-b-2xl flex-shrink-0",children:[t.jsxs("button",{onClick:Z,disabled:!Q.trim(),className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-violet-600 hover:bg-violet-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded-xl text-white font-semibold transition-colors",children:[t.jsx(Wr,{className:"w-5 h-5"}),""]}),t.jsx("button",{onClick:E,className:"flex-1 py-3.5 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-semibold transition-colors",children:""})]})]})]})}function wm({isOpen:o,onClose:m,settings:c,onSave:b}){const[j,$]=p.useState(c);p.useEffect(()=>{o&&$(c)},[o,c]);const N=()=>{b(j),m()},R=E=>{const le=j.daysBeforeReminder.includes(E)?j.daysBeforeReminder.filter(Q=>Q!==E):[...j.daysBeforeReminder,E].sort((Q,ae)=>Q-ae);$({...j,daysBeforeReminder:le})};return o?t.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 animate-fade-in",style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:m}),t.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl w-full max-w-lg overflow-hidden border border-slate-700/50 shadow-2xl shadow-blue-500/10 animate-scale-in",children:[t.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 via-cyan-600 to-blue-500 px-6 py-5 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-white/5 backdrop-blur-sm"}),t.jsxs("div",{className:"relative flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:t.jsx(lu,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:" "}),t.jsx("p",{className:"text-blue-100 text-xs",children:"   "})]})]}),t.jsx("button",{onClick:m,className:"p-2 hover:bg-white/20 rounded-xl transition-all duration-200 group",children:t.jsx(zt,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-200"})})]})]}),t.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[t.jsx("div",{className:"bg-gradient-to-br from-slate-700/50 to-slate-800/50 rounded-2xl p-5 border border-slate-600/30 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-white font-semibold text-lg",children:" "}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${j.enabled?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-slate-600/30 text-slate-400"}`,children:j.enabled?"ON":"OFF"})]}),t.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"    "})]}),t.jsx("button",{onClick:()=>$({...j,enabled:!j.enabled}),className:`relative w-16 h-8 rounded-full transition-all duration-300 shadow-inner ${j.enabled?"bg-gradient-to-r from-blue-500 to-cyan-500 shadow-blue-500/50":"bg-slate-600 shadow-slate-900/50"}`,children:t.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full shadow-lg transition-all duration-300 ${j.enabled?"left-9":"left-1"}`,children:t.jsx("div",{className:`w-full h-full flex items-center justify-center ${j.enabled?"text-blue-500":"text-slate-400"}`,children:j.enabled?t.jsx(Vs,{className:"w-3 h-3"}):t.jsx(zt,{className:"w-3 h-3"})})})})]})}),j.enabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-gradient-to-br from-slate-700/30 to-slate-800/30 rounded-2xl p-5 border border-slate-600/20",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(ru,{className:"w-5 h-5 text-blue-400"}),t.jsx("label",{className:"text-white font-semibold text-base",children:" "})]}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"time",value:j.time,onChange:E=>$({...j,time:E.target.value}),className:"w-full bg-gradient-to-br from-slate-900 to-slate-800 border-2 border-slate-600/50 rounded-xl px-5 py-4 text-white text-xl font-bold focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all shadow-inner",style:{colorScheme:"dark"}})}),t.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"    "})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-slate-700/30 to-slate-800/30 rounded-2xl p-5 border border-slate-600/20",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(nu,{className:"w-5 h-5 text-blue-400"}),t.jsx("label",{className:"text-white font-semibold text-base",children:"   "})]}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{day:-1,label:" ",icon:"",bgFrom:"from-red-500/20",bgTo:"to-red-600/10",border:"border-red-500/30",text:"text-red-400",checked:"bg-red-500"},{day:0,label:"",icon:"",bgFrom:"from-orange-500/20",bgTo:"to-orange-600/10",border:"border-orange-500/30",text:"text-orange-400",checked:"bg-orange-500"},{day:1,label:"",icon:"",bgFrom:"from-yellow-500/20",bgTo:"to-yellow-600/10",border:"border-yellow-500/30",text:"text-yellow-400",checked:"bg-yellow-500"},{day:2,label:"D-2",icon:"",bgFrom:"from-blue-500/20",bgTo:"to-blue-600/10",border:"border-blue-500/30",text:"text-blue-400",checked:"bg-blue-500"},{day:3,label:"D-3",icon:"",bgFrom:"from-cyan-500/20",bgTo:"to-cyan-600/10",border:"border-cyan-500/30",text:"text-cyan-400",checked:"bg-cyan-500"},{day:7,label:"D-7",icon:"",bgFrom:"from-purple-500/20",bgTo:"to-purple-600/10",border:"border-purple-500/30",text:"text-purple-400",checked:"bg-purple-500"}].map(({day:E,label:le,icon:Q,bgFrom:ae,bgTo:de,border:ge,text:V,checked:I})=>{const Y=E===-1?j.includeOverdue:j.daysBeforeReminder.includes(E);return t.jsxs("button",{onClick:()=>{E===-1?$({...j,includeOverdue:!j.includeOverdue}):R(E)},className:`relative overflow-hidden rounded-xl p-4 border-2 transition-all duration-200 ${Y?`bg-gradient-to-br ${ae} ${de} ${ge} shadow-lg scale-[1.02]`:"bg-slate-700/30 border-slate-600/30 hover:border-slate-500/50"}`,children:[t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:Q}),t.jsx("span",{className:`font-bold text-sm ${Y?V:"text-slate-400"}`,children:le})]}),Y&&t.jsx("div",{className:`absolute top-2 right-2 w-5 h-5 ${I} rounded-full flex items-center justify-center shadow-lg`,children:t.jsx(Vs,{className:"w-3 h-3 text-white"})})]},E)})}),t.jsx("p",{className:"text-slate-400 text-xs mt-3 text-center",children:"    "})]}),t.jsxs("div",{className:"bg-gradient-to-br from-slate-700/30 to-slate-800/30 rounded-2xl p-5 border border-slate-600/20",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Fs,{className:"w-5 h-5 text-blue-400"}),t.jsx("label",{className:"text-white font-semibold text-base",children:" "})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>$({...j,dailyNotification:!0}),className:`relative overflow-hidden rounded-xl p-4 border-2 transition-all duration-200 ${j.dailyNotification?"bg-gradient-to-br from-blue-500/20 to-blue-600/10 border-blue-500/30 shadow-lg scale-[1.02]":"bg-slate-700/30 border-slate-600/30 hover:border-slate-500/50"}`,children:[t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:`text-3xl ${j.dailyNotification?"animate-pulse":""}`,children:""}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`font-bold text-sm ${j.dailyNotification?"text-blue-400":"text-slate-400"}`,children:" "}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" "})]})]}),j.dailyNotification&&t.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center shadow-lg",children:t.jsx(Vs,{className:"w-3 h-3 text-white"})})]}),t.jsxs("button",{onClick:()=>$({...j,dailyNotification:!1}),className:`relative overflow-hidden rounded-xl p-4 border-2 transition-all duration-200 ${j.dailyNotification?"bg-slate-700/30 border-slate-600/30 hover:border-slate-500/50":"bg-gradient-to-br from-cyan-500/20 to-cyan-600/10 border-cyan-500/30 shadow-lg scale-[1.02]"}`,children:[t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:`text-3xl ${j.dailyNotification?"":"animate-pulse"}`,children:""}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`font-bold text-sm ${j.dailyNotification?"text-slate-400":"text-cyan-400"}`,children:""}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:""})]})]}),!j.dailyNotification&&t.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-cyan-500 rounded-full flex items-center justify-center shadow-lg",children:t.jsx(Vs,{className:"w-3 h-3 text-white"})})]})]})]})]})]}),t.jsx("div",{className:"p-6 border-t border-slate-700/50 bg-gradient-to-b from-slate-800/50 to-slate-900/50",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:m,className:"flex-1 py-4 bg-slate-700/50 hover:bg-slate-600/50 rounded-xl text-slate-300 font-semibold transition-all duration-200 border border-slate-600/30 hover:border-slate-500/50",children:""}),t.jsx("button",{onClick:N,className:"flex-1 py-4 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 rounded-xl text-white font-bold transition-all duration-200 shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98]",children:" "})]})})]})]}):null}function bm({products:o,onAddToCart:m,formatPrice:c,priceType:b,initialText:j="",onBack:$}){const[N,R]=p.useState(()=>{const P=localStorage.getItem("aiOrderInputText");return j||P||""}),[E,le]=p.useState([]),[Q,ae]=p.useState(!1),[de,ge]=p.useState(null),[V,I]=p.useState(""),[Y,je]=p.useState(()=>{const P=localStorage.getItem("aiOrderBackups");return P?JSON.parse(P):[]}),[Le,z]=p.useState(!1),[X,J]=p.useState(!1),[oe,U]=p.useState(""),[ye,Z]=p.useState(1);p.useEffect(()=>{localStorage.setItem("aiOrderInputText",N)},[N]);const De=()=>{if(!N.trim()){alert("  .");return}const pe=[{id:Date.now(),text:N,date:new Date().toLocaleString("ko-KR"),preview:N.slice(0,50)+(N.length>50?"...":"")},...Y].slice(0,20);je(pe),localStorage.setItem("aiOrderBackups",JSON.stringify(pe)),alert("  !")},be=P=>{R(P.text),z(!1)},$e=P=>{const pe=Y.filter(ve=>ve.id!==P);je(pe),localStorage.setItem("aiOrderBackups",JSON.stringify(pe))},Re=P=>{const pe={originalText:`${P.name} ${ye} ()`,matchedProduct:P,quantity:ye,selected:!0};le(ve=>[...ve,pe]),U(""),Z(1),J(!1)},Ae=oe.trim()?o.filter(P=>un(P.name).includes(un(oe))||P.name.toLowerCase().includes(oe.toLowerCase())).slice(0,10):[];p.useEffect(()=>{const P=pe=>{pe.key==="Escape"&&$()};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[$]),p.useEffect(()=>{const P=window.scrollY,pe=document.body;pe.classList.add("modal-open"),pe.style.top=`-${P}px`;const ve=w=>{const _=w.target;_.closest(".modal-scroll-area")||_.closest("[data-lenis-prevent]")||w.preventDefault()};return document.addEventListener("touchmove",ve,{passive:!1}),()=>{pe.classList.remove("modal-open"),pe.style.top="",window.scrollTo(0,P),document.removeEventListener("touchmove",ve)}},[]);const te={:"",:"",:"",sus:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",elbow:"",:"",tee:"",:"",:"",:"",:"",:"",nipple:"",:"",:"",socket:"",:"",:"",union:"",:"",cap:"",:"",:"",bushing:"",:"",:"",coupling:"",:"",:"",gate:"",:"",:"",:"",:"",:"",check:""},Xe=P=>{const pe=["","","","","","","","","","","","","","","","","","",""];let ve="";for(let w=0;w<P.length;w++){const _=P.charCodeAt(w)-44032;_>=0&&_<=11171&&(ve+=pe[Math.floor(_/588)])}return ve},Ee=(P,pe)=>{const ve=P.length,w=pe.length,_=Array(ve+1).fill(null).map(()=>Array(w+1).fill(0));for(let K=0;K<=ve;K++)_[K][0]=K;for(let K=0;K<=w;K++)_[0][K]=K;for(let K=1;K<=ve;K++)for(let A=1;A<=w;A++){const _e=P[K-1]===pe[A-1]?0:1;_[K][A]=Math.min(_[K-1][A]+1,_[K][A-1]+1,_[K-1][A-1]+_e)}return _[ve][w]},k=(P,pe)=>{if(!P||!pe)return 0;const ve=Math.max(P.length,pe.length);return ve===0?1:1-Ee(P.toLowerCase(),pe.toLowerCase())/ve},O=P=>{let pe=P.toLowerCase();return Object.entries(te).forEach(([ve,w])=>{pe=pe.replace(new RegExp(ve,"gi"),w)}),pe},W=P=>{const pe=[/(\d+(?:\.\d+)?)\s*(|pai|phi|mm|cm|m||inch|")/gi,/(\d+(?:\.\d+)?)\s*(A|B|)/gi],ve=[];return pe.forEach(w=>{let _;for(;(_=w.exec(P))!==null;)ve.push({number:parseFloat(_[1]),unit:_[2].toLowerCase()})}),ve},y=(P,pe)=>{let ve=0;const w=un(P),_=un(pe),K=O(P);if(O(pe),w===_)return 1e3;w.includes(_)&&(ve+=100+_.length*5),O(w).includes(O(_))&&(ve+=80+_.length*4);const A=W(pe),_e=W(P);A.forEach(h=>{_e.forEach(D=>{const ne=Math.abs(h.number-D.number);ne===0?(ve+=50,(h.unit===D.unit||h.unit===""&&D.unit==="mm"||h.unit==="mm"&&D.unit==="")&&(ve+=30)):ne<=1&&(ve+=35,(h.unit===D.unit||h.unit===""&&D.unit==="mm"||h.unit==="mm"&&D.unit==="")&&(ve+=20))})});const ce=_.match(/[-a-z]+|\d+/gi)||[];if(ce.length>0){let h=-1,D=0;ce.forEach(ne=>{const F=w.indexOf(ne,h+1);F>h&&(D++,h=F+ne.length-1,ve+=ne.length*3)}),D===ce.length&&(ve+=40)}const qe=pe.toLowerCase().split(/[\s\-_]+/).filter(h=>h.length>0),Te=P.toLowerCase().split(/[\s\-_]+/).filter(h=>h.length>0);let Ue=0;qe.forEach(h=>{const D=un(h),ne=O(h);if(w.includes(D)||K.includes(ne))Ue++,ve+=h.length*2;else if(h.length>=2){let F=0;Te.forEach(G=>{if(G.length>=2){const Ie=k(h,G);Ie>F&&(F=Ie)}}),F>=.7&&(Ue++,ve+=Math.floor(h.length*F*1.5))}}),Ue===qe.length&&qe.length>1&&(ve+=30);const ct=Xe(pe),g=Xe(P);if(ct.length>=2&&g.includes(ct)&&(ve+=20),ve>0){const h=_.length/w.length;h>.5&&(ve+=Math.floor(h*20))}const ue=k(_,w);return ue>=.6&&(ve+=Math.floor(ue*30)),ve},L=()=>{if(!N.trim())return;ae(!0),ge(null);const P=N.split(`
`).filter(ve=>ve.trim()),pe=[];P.forEach(ve=>{const w=ve.trim();if(!w)return;const _=[/(\d+)\s*/,/(\d+)\s*/,/(\d+)\s*set/i,/(\d+)\s*ea/i,/(\d+)\s*pcs/i,/(\d+)\s*/,/(\d+)\s*/,/(\d+)\s*/,/(\d+)\s*box/i,/[x*]\s*(\d+)/i,/(\d+)\s*$/];let K=1,A=w;for(const Te of _){const Ue=w.match(Te);if(Ue){const ct=parseInt(Ue[1]);if(ct>0&&ct<=9999&&!/|mm|cm|m||inch|A|B/i.test(Ue[0])){K=ct,A=w.replace(Te,"").trim();break}}}if(A=A.replace(/[,.\-_\/\\()[\]{}]/g," ").replace(/\s+/g," ").trim(),!A)return;let _e=null,ce=0;o.forEach(Te=>{const Ue=y(Te.name,A);Ue>ce&&(ce=Ue,_e=Te)});const qe=15;pe.push({originalText:w,searchText:A,quantity:K,matchedProduct:ce>=qe?_e:null,score:ce,selected:ce>=qe})}),le(pe),ae(!1)},Me=P=>{le(pe=>pe.map((ve,w)=>w===P?{...ve,selected:!ve.selected}:ve))},H=(P,pe)=>{pe<1||le(ve=>ve.map((w,_)=>_===P?{...w,quantity:pe}:w))},me=P=>{le(pe=>pe.filter((ve,w)=>w!==P)),de===P&&(ge(null),I(""))},ke=(P,pe)=>{le(ve=>ve.map((w,_)=>_===P?{...w,matchedProduct:pe,selected:!0,score:100}:w)),ge(null),I("")},Ne=()=>V.trim()?o.filter(P=>Cl(P.name,V)).slice(0,8):[],Ye=()=>{E.filter(pe=>pe.selected&&pe.matchedProduct).forEach(pe=>{m(pe.matchedProduct,pe.quantity)}),$()},we=E.filter(P=>P.selected&&P.matchedProduct).length,ft=Ne();return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in bg-black/70 backdrop-blur-sm",style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0",onClick:$,onTouchMove:P=>P.preventDefault()}),t.jsxs("div",{className:"relative bg-slate-800 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden border border-slate-700 shadow-2xl flex flex-col",children:[t.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ka,{className:"w-6 h-6 text-white"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-white",children:"AI  "}),t.jsx("p",{className:"text-purple-100 text-xs",children:"    "})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[we>0&&t.jsxs("span",{className:"px-3 py-1 bg-white/20 text-white text-sm font-medium rounded-lg",children:[we," "]}),t.jsx("button",{onClick:$,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(zt,{className:"w-5 h-5 text-white"})})]})]}),t.jsxs("div",{className:"flex-shrink-0 px-4 pt-4 bg-slate-800",children:[t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-2",children:[t.jsxs("label",{className:"text-slate-300 text-sm flex items-center gap-2",children:[t.jsx(hn,{className:"w-4 h-4"}),"  ",t.jsx("span",{className:"text-xs text-green-400",children:"()"})]}),t.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[t.jsxs("button",{onClick:()=>{N.trim()&&confirm("  ?")&&(R(""),localStorage.removeItem("aiOrderInputText"))},className:"px-2 py-1.5 bg-red-600/80 hover:bg-red-500 text-white text-xs rounded-lg flex items-center gap-1 transition-colors",children:[t.jsx(Va,{className:"w-3 h-3"}),""]}),t.jsxs("button",{onClick:De,className:"px-2 py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded-lg flex items-center gap-1 transition-colors",children:[t.jsx(Wr,{className:"w-3 h-3"}),""]}),t.jsxs("button",{onClick:()=>z(!0),className:"px-2 py-1.5 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded-lg flex items-center gap-1 transition-colors",children:[t.jsx(Jd,{className:"w-3 h-3"}),"",Y.length>0&&` (${Y.length})`]})]})]}),t.jsx("textarea",{value:N,onChange:P=>R(P.target.value),placeholder:`:
 93  1
54  45 6
2m  1 12
MVB 64 Y R 2`,rows:5,className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none font-mono text-sm"})]}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("button",{onClick:L,disabled:!N.trim()||Q,className:`flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-all ${!N.trim()||Q?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white shadow-lg shadow-purple-500/30"}`,children:Q?t.jsxs(t.Fragment,{children:[t.jsx(Fs,{className:"w-5 h-5 animate-spin"})," ..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ka,{className:"w-5 h-5"})," "]})}),t.jsxs("button",{onClick:()=>J(!X),className:`px-4 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-all ${X?"bg-emerald-600 text-white":"bg-slate-700 hover:bg-slate-600 text-white"}`,children:[t.jsx(Pt,{className:"w-5 h-5"}),""]})]}),X&&t.jsxs("div",{className:"mb-3 p-3 bg-slate-700/50 rounded-xl border border-slate-600",children:[t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",value:oe,onChange:P=>U(P.target.value),placeholder:" ...",className:"w-full pl-9 pr-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500",autoFocus:!0})]}),t.jsxs("div",{className:"flex items-center gap-1 bg-slate-800 rounded-lg px-2",children:[t.jsx("button",{onClick:()=>Z(Math.max(1,ye-1)),className:"p-1 hover:bg-slate-700 rounded",children:t.jsx(Kn,{className:"w-4 h-4 text-slate-400"})}),t.jsx("span",{className:"text-white text-sm w-8 text-center",children:ye}),t.jsx("button",{onClick:()=>Z(ye+1),className:"p-1 hover:bg-slate-700 rounded",children:t.jsx(Pt,{className:"w-4 h-4 text-slate-400"})})]})]}),Ae.length>0&&t.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:Ae.map(P=>t.jsxs("button",{onClick:()=>Re(P),className:"w-full p-2 bg-slate-800 hover:bg-emerald-600/30 rounded-lg text-left flex justify-between items-center transition-colors",children:[t.jsx("span",{className:"text-white text-sm truncate",children:P.name}),t.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:c(b==="wholesale"?P.wholesalePrice:P.retailPrice)})]},P.id))}),oe&&Ae.length===0&&t.jsx("p",{className:"text-slate-400 text-sm text-center py-2",children:"  "})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-4 modal-scroll-area","data-lenis-prevent":"true",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",touchAction:"pan-y"},children:E.length>0&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("h3",{className:"text-white font-semibold text-lg flex items-center gap-2",children:[t.jsx(js,{className:"w-5 h-5 text-purple-400"}),"  (",E.length,")"]})}),t.jsx("div",{className:"space-y-3",children:E.map((P,pe)=>t.jsx("div",{className:`p-4 rounded-2xl border-2 transition-all shadow-lg ${P.matchedProduct?P.selected?"bg-gradient-to-r from-purple-900/40 to-pink-900/30 border-purple-500/60 shadow-purple-500/20":"bg-slate-800/80 border-slate-600/50 hover:border-slate-500":"bg-gradient-to-r from-red-900/30 to-orange-900/20 border-red-500/40"}`,children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("button",{onClick:()=>P.matchedProduct&&Me(pe),disabled:!P.matchedProduct,className:`mt-1 w-7 h-7 rounded-lg border-2 flex items-center justify-center flex-shrink-0 transition-all ${P.matchedProduct?P.selected?"border-purple-400 bg-gradient-to-br from-purple-500 to-pink-500 shadow-lg shadow-purple-500/30":"border-slate-500 hover:border-purple-400 hover:bg-slate-700":"border-slate-600 bg-slate-700/50 cursor-not-allowed"}`,children:P.selected&&P.matchedProduct&&t.jsx(Vs,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("p",{className:"text-slate-400 text-sm mb-2 truncate italic",children:['"',P.originalText,'"']}),P.matchedProduct?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("p",{className:"text-white font-semibold text-base truncate flex-1",children:P.matchedProduct.name}),t.jsxs("button",{onClick:()=>{ge(de===pe?null:pe),I(P.searchText)},className:"px-3 py-1.5 text-sm bg-slate-600/80 hover:bg-purple-600 text-white rounded-lg flex-shrink-0 transition-all flex items-center gap-1.5 font-medium",children:[t.jsx(dn,{className:"w-4 h-4"}),""]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[t.jsx("p",{className:`text-lg font-bold ${b==="wholesale"?"text-blue-400":"text-red-400"}`,children:c(b==="wholesale"?P.matchedProduct.wholesale:P.matchedProduct.retail||P.matchedProduct.wholesale)}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-slate-900/80 rounded-xl p-1 border border-slate-600/50",children:[t.jsx("button",{onClick:()=>H(pe,P.quantity-1),className:"w-7 h-7 flex items-center justify-center hover:bg-slate-700 rounded-lg transition-colors",children:t.jsx(Kn,{className:"w-4 h-4 text-white"})}),t.jsx("input",{type:"number",value:P.quantity,onChange:ve=>H(pe,parseInt(ve.target.value)||1),className:"w-10 h-7 text-center text-white text-sm font-bold bg-transparent border-none focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),t.jsx("button",{onClick:()=>H(pe,P.quantity+1),className:"w-7 h-7 flex items-center justify-center hover:bg-slate-700 rounded-lg transition-colors",children:t.jsx(Pt,{className:"w-4 h-4 text-white"})})]}),t.jsx("button",{onClick:()=>me(pe),className:"w-9 h-9 flex items-center justify-center bg-red-600/30 hover:bg-red-600 rounded-xl transition-all border border-red-500/30 hover:border-red-500 flex-shrink-0",children:t.jsx(pt,{className:"w-4 h-4 text-red-400 hover:text-white"})})]})]})]}):t.jsx("div",{className:"space-y-3",children:t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"text-red-400 font-medium flex items-center gap-1.5",children:[t.jsx(zt,{className:"w-5 h-5"})," "]}),t.jsxs("button",{onClick:()=>{ge(de===pe?null:pe),I(P.searchText)},className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white rounded-xl flex items-center gap-2 font-medium text-sm transition-all shadow-lg shadow-purple-500/20",children:[t.jsx(Ms,{className:"w-4 h-4"})," "]})]}),t.jsx("button",{onClick:()=>me(pe),className:"w-10 h-10 flex items-center justify-center bg-red-600/30 hover:bg-red-600 rounded-xl transition-all border border-red-500/30 hover:border-red-500",children:t.jsx(pt,{className:"w-5 h-5 text-red-400"})})]})}),de===pe&&t.jsxs("div",{className:"mt-3 p-4 bg-slate-900/90 rounded-xl border-2 border-purple-500/30 shadow-xl",children:[t.jsxs("div",{className:"relative mb-3",children:[t.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-purple-400"}),t.jsx("input",{type:"text",value:V,onChange:ve=>I(ve.target.value),onFocus:Hs,placeholder:" ...",autoFocus:!0,className:"w-full pl-10 pr-4 py-3 bg-slate-800 border-2 border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-base"})]}),ft.length>0?t.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:ft.map(ve=>t.jsxs("button",{onClick:()=>ke(pe,ve),className:"w-full p-3 text-left hover:bg-purple-600/30 rounded-xl transition-all border border-transparent hover:border-purple-500/50",children:[t.jsx("p",{className:"text-white font-medium truncate",children:ve.name}),t.jsx("p",{className:`text-sm font-medium mt-0.5 ${b==="wholesale"?"text-blue-400":"text-red-400"}`,children:c(b==="wholesale"?ve.wholesale:ve.retail||ve.wholesale)})]},ve.id))}):V.trim()?t.jsx("p",{className:"text-slate-400 text-center py-4",children:"  "}):t.jsx("p",{className:"text-slate-400 text-center py-4",children:" "}),t.jsx("button",{onClick:()=>{ge(null),I("")},className:"w-full mt-3 py-2.5 text-sm text-slate-300 hover:text-white bg-slate-700/50 hover:bg-slate-700 rounded-xl transition-all font-medium",children:""})]})]})]})},pe))})]})}),E.length>0&&t.jsx("div",{className:"border-t border-slate-700 p-4 flex-shrink-0 bg-slate-800",children:t.jsxs("button",{onClick:Ye,disabled:we===0,className:`w-full py-3.5 rounded-xl font-medium flex items-center justify-center gap-2 transition-all ${we===0?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white shadow-lg"}`,children:[t.jsx(Fl,{className:"w-5 h-5"}),we,"   "]})})]}),Le&&t.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl w-full max-w-md max-h-[70vh] flex flex-col",children:[t.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[t.jsx(Jd,{className:"w-5 h-5 text-blue-400"})," "]}),t.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:t.jsx(zt,{className:"w-5 h-5 text-slate-400"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:Y.length===0?t.jsx("div",{className:"text-center text-slate-400 py-8",children:"  ."}):t.jsx("div",{className:"space-y-2",children:Y.map(P=>t.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-xl border border-slate-600 hover:border-slate-500 transition-colors",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[t.jsx("span",{className:"text-xs text-slate-400",children:P.date}),t.jsx("button",{onClick:()=>$e(P.id),className:"p-1 hover:bg-red-500/20 rounded text-red-400 hover:text-red-300 transition-colors",children:t.jsx(pt,{className:"w-3 h-3"})})]}),t.jsx("p",{className:"text-sm text-slate-300 mb-2 font-mono truncate",children:P.preview}),t.jsx("button",{onClick:()=>be(P),className:"w-full py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded-lg transition-colors",children:""})]},P.id))})})]})})]})}function vm({cart:o,priceType:m,totalAmount:c,formatPrice:b,onSaveOrder:j,isSaving:$,onUpdateQuantity:N,onRemoveItem:R,onAddItem:E,onReplaceItem:le,products:Q,initialCustomer:ae,onSaveCart:de,customers:ge=[],onBack:V,cartWithDiscount:I=[],totalDiscount:Y=0}){const[je,Le]=p.useState(!1),[z,X]=p.useState(!1),[J,oe]=p.useState((ae==null?void 0:ae.name)||""),[U,ye]=p.useState((ae==null?void 0:ae.phone)||""),[Z,De]=p.useState((ae==null?void 0:ae.address)||""),[be,$e]=p.useState(""),[Re,Ae]=p.useState(""),[te,Xe]=p.useState(!1),[Ee,k]=p.useState(""),[O,W]=p.useState(!1),[y,L]=p.useState(null),[Me,H]=p.useState(null),[me,ke]=p.useState(""),[Ne,Ye]=p.useState(!1),[we,ft]=p.useState(null);p.useEffect(()=>{if(!Ee){const g=new Date,ue=`ORD-${g.getFullYear()}${String(g.getMonth()+1).padStart(2,"0")}${String(g.getDate()).padStart(2,"0")}-${String(Math.floor(Math.random()*1e4)).padStart(4,"0")}`;k(ue)}},[]),p.useEffect(()=>{const g=ue=>{ue.key==="Escape"&&V()};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[V]),p.useEffect(()=>{const g=window.scrollY,ue=document.body;ue.classList.add("modal-open"),ue.style.top=`-${g}px`;const h=D=>{const ne=D.target;ne.closest(".modal-scroll-area")||ne.closest("[data-lenis-prevent]")||D.preventDefault()};return document.addEventListener("touchmove",h,{passive:!1}),()=>{ue.classList.remove("modal-open"),ue.style.top="",window.scrollTo(0,g),document.removeEventListener("touchmove",h)}},[]);const P=J.length>=1?(ge||[]).filter(g=>{var ue;return(ue=g==null?void 0:g.name)==null?void 0:ue.toLowerCase().replace(/\s/g,"").includes(J.toLowerCase().replace(/\s/g,""))}).slice(0,6):[],pe=g=>{oe(g.name),ye(g.phone||""),De(g.address||""),L(g.id),W(!1)},ve=Re.length>=1?Q.filter(g=>Cl(g.name,Re)||Cl(g.category,Re)).slice(0,8):[],w=new Date,_=o.reduce((g,ue)=>g+ue.quantity,0),K=I.length>0?I.reduce((g,ue)=>g+ue.finalTotal,0):o.reduce((g,ue)=>{const h=m==="wholesale"?ue.wholesale:ue.retail||ue.wholesale;return g+h*ue.quantity},0),A=Bs(K),_e=K-A,ce=()=>{let g=`
`;return g+=`             
`,g+=`

`,g+=`: ${Ee}
`,g+=`: ${Ua(w.toISOString())}
`,J&&(g+=`: ${J}
`),U&&(g+=`: ${U}
`),g+=`: ${m==="wholesale"?" ( )":" ( )"}

`,g+=`
`,g+=` 
`,g+=`

`,(I.length>0?I:o.map(h=>({...h,unitPrice:m==="wholesale"?h.wholesale:h.retail||h.wholesale,finalTotal:(m==="wholesale"?h.wholesale:h.retail||h.wholesale)*h.quantity,appliedTier:null}))).forEach((h,D)=>{if(g+=`${D+1}. ${h.name}
`,h.appliedTier&&h.totalDiscount>0){const ne=h.appliedTier.type==="percent"?`${h.appliedTier.value}% `:`${b(h.appliedTier.value)} `;g+=`   ${b(h.unitPrice)}  ${h.quantity}
`,g+=`   [${ne}]  ${b(h.finalTotal)}

`}else g+=`   ${b(h.unitPrice)}  ${h.quantity} = ${b(h.finalTotal)}

`}),g+=`
`,g+=` : ${_}
`,g+=`
`,Y>0&&(g+=` : -${b(Y)}
`),g+=`: ${b(A)}
`,g+=`: ${b(_e)}
`,g+=` : ${b(K)}
`,g+=`
`,be&&(g+=`
: ${be}
`),g},qe=async()=>{try{await navigator.clipboard.writeText(ce()),Le(!0),setTimeout(()=>Le(!1),2e3)}catch(g){console.error(" :",g)}},Te=async()=>{if(o.length===0)return;const g={orderNumber:Ee,createdAt:w.toISOString(),customerName:J,customerPhone:U,customerAddress:Z,existingCustomerId:y,memo:be,priceType:m,totalAmount:K,items:o.map(h=>({id:h.id,name:h.name,price:m==="wholesale"?h.wholesale:h.retail||h.wholesale,quantity:h.quantity}))};if(await j(g)){const h=J&&!y&&!(ge||[]).find(F=>{var G;return((G=F==null?void 0:F.name)==null?void 0:G.toLowerCase().replace(/\s/g,""))===J.toLowerCase().replace(/\s/g,"")}),D=J&&(ge||[]).find(F=>{var G;return((G=F==null?void 0:F.name)==null?void 0:G.toLowerCase().replace(/\s/g,""))===J.toLowerCase().replace(/\s/g,"")&&F.is_blacklist});let ne=`  !

: ${Ee}
 : ${b(K)}`;D&&(ne+=`

 : "${J}"()  !`),h&&(ne+=`

   "${J}"()  .`),alert(ne),V()}},Ue=()=>{const g=window.open("","_blank");g.document.write(`
      <html>
        <head>
          <title> - ${Ee}</title>
          <style>
            body { font-family: 'Malgun Gothic', sans-serif; padding: 40px; max-width: 600px; margin: 0 auto; }
            h1 { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
            .info { margin: 20px 0; }
            .info p { margin: 5px 0; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            th { background: #f5f5f5; }
            .total { font-size: 16px; text-align: right; margin-top: 20px; }
            .total p { margin: 5px 0; }
            .total .grand { font-size: 20px; font-weight: bold; border-top: 2px solid #333; padding-top: 10px; margin-top: 10px; }
            .memo { margin-top: 20px; padding: 10px; background: #f9f9f9; border-radius: 5px; }
            @media print { body { padding: 20px; } }
          </style>
        </head>
        <body>
          <h1>  </h1>
          <div class="info">
            <p><strong>:</strong> ${Ee}</p>
            <p><strong>:</strong> ${Ua(w.toISOString())}</p>
            ${J?`<p><strong>:</strong> ${J}</p>`:""}
            ${U?`<p><strong>:</strong> ${U}</p>`:""}
            <p><strong>:</strong> ${m==="wholesale"?"":""}</p>
          </div>
          <table>
            <thead><tr><th>No</th><th></th><th></th><th></th><th></th></tr></thead>
            <tbody>
              ${o.map((ue,h)=>{const D=m==="wholesale"?ue.wholesale:ue.retail||ue.wholesale;return`<tr><td>${h+1}</td><td>${ue.name}</td><td>${b(D)}</td><td>${ue.quantity}</td><td>${b(D*ue.quantity)}</td></tr>`}).join("")}
            </tbody>
          </table>
          <div class="total">
            <p> : ${_}</p>
            <p>: ${b(A)}</p>
            <p>(10%): ${b(_e)}</p>
            <p class="grand"> : ${b(K)}</p>
          </div>
          ${be?`<div class="memo"><strong>:</strong> ${be}</div>`:""}
          <script>window.onload = function() { window.print(); }<\/script>
        </body>
      </html>
    `),g.document.close()},ct=g=>{g.preventDefault(),g.stopPropagation(),setTimeout(()=>{V()},10)};return t.jsxs("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",style:{touchAction:"none"},onClick:ct,onTouchEnd:g=>{g.target===g.currentTarget&&ct(g)},onTouchMove:g=>{g.target.closest(".modal-scroll-area")||g.preventDefault()},children:[t.jsxs("div",{className:"bg-slate-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col border border-slate-700 shadow-2xl animate-scale-in",onClick:g=>g.stopPropagation(),onTouchEnd:g=>g.stopPropagation(),children:[t.jsx("header",{className:"bg-slate-800 border-b border-slate-700 px-4 py-3 flex-shrink-0",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hn,{className:"w-6 h-6 text-blue-400"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-white",children:""}),t.jsx("p",{className:"text-blue-400 text-xs",children:Ee})]})]})}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xl font-bold text-white",children:b(K)}),t.jsxs("p",{className:"text-slate-400 text-xs",children:[_,""]})]}),t.jsx("button",{onClick:ct,onTouchEnd:ct,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:t.jsx(zt,{className:"w-5 h-5 text-slate-300"})})]})]})}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 modal-scroll-area","data-lenis-prevent":"true",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",touchAction:"pan-y"},onClick:()=>{Xe(!1),W(!1)},children:[t.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 mb-4 border border-slate-700",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"relative",onClick:g=>g.stopPropagation(),children:[t.jsxs("label",{className:"block text-slate-400 text-xs mb-1 flex items-center gap-1",children:[t.jsx(yr,{className:"w-3 h-3"})," / "]}),t.jsx("input",{type:"text",value:J,onChange:g=>{oe(g.target.value),W(!0),L(null)},onFocus:g=>{Hs(g),W(!0)},placeholder:"   ...",className:`w-full px-3 py-2 bg-slate-900/50 border rounded-lg text-white placeholder-slate-500 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${y?"border-emerald-500":"border-slate-600"}`}),y&&t.jsx("span",{className:"absolute right-3 top-7 text-emerald-400",children:t.jsx(Vs,{className:"w-4 h-4"})}),J&&!y&&!O&&P.length===0&&t.jsx("span",{className:"absolute right-3 top-7 px-2 py-0.5 bg-blue-600/20 text-blue-400 text-xs rounded-full",children:" "}),O&&P.length>0&&t.jsx("div",{className:"absolute z-20 w-full mt-1 bg-slate-800 border border-slate-600 rounded-lg shadow-xl max-h-48 overflow-y-auto",children:P.map(g=>t.jsxs("button",{onClick:()=>pe(g),className:`w-full px-3 py-2.5 text-left transition-colors border-b border-slate-700 last:border-b-0 ${g.is_blacklist?"bg-red-900/30 hover:bg-red-900/50":"hover:bg-slate-700"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:`font-medium text-sm flex items-center gap-1.5 ${g.is_blacklist?"text-red-300":"text-white"}`,children:[g.is_blacklist&&t.jsx("span",{children:""}),g.name,g.is_blacklist&&t.jsx("span",{className:"px-1.5 py-0.5 bg-red-600/40 text-red-400 text-[10px] rounded",children:""})]}),g.phone&&t.jsx("span",{className:`text-xs ${g.is_blacklist?"text-red-400":"text-emerald-400"}`,children:g.phone})]}),t.jsx("p",{className:"text-slate-400 text-xs truncate mt-0.5",children:g.address||" "})]},g.id))}),O&&J.length>=2&&P.length===0&&t.jsx("div",{className:"absolute z-20 w-full mt-1 bg-slate-800 border border-blue-500/50 rounded-lg shadow-xl p-3",children:t.jsxs("p",{className:"text-blue-400 text-sm flex items-center gap-2",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:['"',J,'" -    ']})]})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-slate-400 text-xs mb-1 flex items-center gap-1",children:[t.jsx(ji,{className:"w-3 h-3"}),""]}),t.jsx("input",{type:"text",value:U,onChange:g=>ye(g.target.value),placeholder:" ",className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"mt-3",children:[t.jsxs("label",{className:"block text-slate-400 text-xs mb-1 flex items-center gap-1",children:[t.jsx(vi,{className:"w-3 h-3"})," "]}),t.jsx("input",{type:"text",value:Z,onChange:g=>De(g.target.value),placeholder:"   (  )",className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-500 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"relative mb-4",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 border border-slate-600 rounded-xl px-3 py-2.5 focus-within:ring-2 focus-within:ring-blue-500",children:[t.jsx(Ms,{className:"w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",value:Re,onChange:g=>{Ae(g.target.value),Xe(!0)},onFocus:g=>{Hs(g),Xe(!0)},placeholder:"  ...",className:"flex-1 bg-transparent text-white placeholder-slate-500 text-sm focus:outline-none"}),Re&&t.jsx("button",{onClick:()=>{Ae(""),Xe(!1)},children:t.jsx(zt,{className:"w-4 h-4 text-slate-400"})})]}),te&&ve.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-800 border border-slate-600 rounded-xl shadow-xl z-10 max-h-48 overflow-y-auto",children:ve.map(g=>{const ue=o.some(D=>D.id===g.id),h=m==="wholesale"?g.wholesale:g.retail||g.wholesale;return t.jsxs("div",{onClick:()=>{ue||(E(g),Ae(""),Xe(!1))},className:`flex items-center justify-between px-3 py-2.5 hover:bg-slate-700/50 cursor-pointer border-b border-slate-700/50 last:border-0 ${ue?"opacity-50":""}`,children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-white text-sm font-medium truncate",children:g.name}),t.jsx("p",{className:"text-slate-500 text-xs",children:g.category})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-blue-400 text-sm font-medium",children:b(h)}),ue?t.jsx("span",{className:"text-xs text-emerald-400 bg-emerald-500/20 px-2 py-0.5 rounded",children:""}):t.jsx(Pt,{className:"w-4 h-4 text-emerald-400"})]})]},g.id)})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[t.jsx(js,{className:"w-4 h-4 text-blue-400"}),"  (",o.length," / ",_,")"]}),t.jsx("div",{className:"space-y-2",children:o.length===0?t.jsxs("div",{className:"bg-slate-800 rounded-xl p-8 text-center border border-slate-700",children:[t.jsx(Fl,{className:"w-12 h-12 text-slate-600 mx-auto mb-2"}),t.jsx("p",{className:"text-slate-400",children:"  "})]}):(I.length>0?I:o.map(g=>({...g,unitPrice:m==="wholesale"?g.wholesale:g.retail||g.wholesale,finalTotal:(m==="wholesale"?g.wholesale:g.retail||g.wholesale)*g.quantity,originalTotal:(m==="wholesale"?g.wholesale:g.retail||g.wholesale)*g.quantity,appliedTier:null,totalDiscount:0}))).map(g=>{const ue=g.unitPrice||(m==="wholesale"?g.wholesale:g.retail||g.wholesale),h=g.finalTotal||ue*g.quantity,D=g.appliedTier&&g.totalDiscount>0,ne=Me===g.id,F=ne&&me.trim()?Q.filter(G=>G.id===g.id||o.some(Ie=>Ie.id===G.id)?!1:Cl(G.name,me)||Cl(G.category||"",me)).slice(0,8):[];return t.jsxs("div",{className:`rounded-xl p-4 border hover:border-slate-600 transition-colors ${D?"bg-amber-950/30 border-amber-500/30":"bg-slate-800/80 border-slate-700"}`,children:[t.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-white font-medium truncate",children:g.name}),D&&t.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-amber-600/30 text-amber-400 font-medium flex-shrink-0",children:g.appliedTier.type==="percent"?`${g.appliedTier.value}%`:`${b(g.appliedTier.value)}`})]}),t.jsx("div",{className:"text-sm mt-0.5",children:D?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-500 line-through",children:b(ue)}),t.jsx("span",{className:"text-amber-400 font-medium",children:b(g.discountedPrice)}),t.jsxs("span",{className:"text-slate-500 text-xs",children:["(VAT ",b(Math.round(g.discountedPrice/1.1)),")"]})]}):t.jsxs("span",{className:"text-blue-400",children:[b(ue)," ",t.jsxs("span",{className:"text-slate-500 text-xs",children:["(VAT ",b(Math.round(ue/1.1)),")"]})]})})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("button",{onClick:()=>{ne?(H(null),ke("")):(H(g.id),ke(""))},className:`w-8 h-8 flex-shrink-0 flex items-center justify-center rounded-lg transition-colors ${ne?"bg-blue-600 text-white":"bg-blue-600/20 hover:bg-blue-600/40 text-blue-400"}`,title:" ",children:t.jsx(Fs,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>R(g.id),className:"w-8 h-8 flex-shrink-0 flex items-center justify-center bg-red-600/20 hover:bg-red-600/40 rounded-lg text-red-400 transition-colors",children:t.jsx(pt,{className:"w-4 h-4"})})]})]}),ne&&t.jsxs("div",{className:"mb-3 relative",children:[t.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-3 py-2 border border-blue-500/50",children:[t.jsx(Ms,{className:"w-4 h-4 text-blue-400"}),t.jsx("input",{type:"text",value:me,onChange:G=>ke(G.target.value),onFocus:Hs,placeholder:"  ...",className:"flex-1 bg-transparent text-white placeholder-slate-500 text-sm focus:outline-none",autoFocus:!0}),me&&t.jsx("button",{onClick:()=>ke(""),children:t.jsx(zt,{className:"w-4 h-4 text-slate-400"})})]}),F.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-800 border border-slate-600 rounded-xl shadow-xl z-10 max-h-48 overflow-y-auto",children:F.map(G=>{const Ie=m==="wholesale"?G.wholesale:G.retail||G.wholesale;return t.jsxs("div",{onClick:()=>{if(le)le(g.id,G,g.quantity);else{const ze=g.quantity;R(g.id),E(G),setTimeout(()=>{ze>1&&N(G.id,ze)},50)}H(null),ke("")},className:"flex items-center justify-between px-3 py-2.5 hover:bg-slate-700/50 cursor-pointer border-b border-slate-700/50 last:border-0",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-white text-sm font-medium truncate",children:G.name}),t.jsx("p",{className:"text-slate-500 text-xs",children:G.category})]}),t.jsx("span",{className:"text-blue-400 text-sm font-medium ml-2",children:b(Ie)})]},G.id)})}),me&&F.length===0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-800 border border-slate-600 rounded-xl p-3 text-center text-slate-400 text-sm",children:"  "})]}),t.jsxs("div",{className:"flex items-center justify-between bg-slate-900/50 rounded-lg p-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>N(g.id,g.quantity-1),className:"w-9 h-9 flex items-center justify-center bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors",children:t.jsx(Kn,{className:"w-4 h-4"})}),t.jsx("input",{type:"number",value:g.quantity,onChange:G=>{const Ie=parseInt(G.target.value)||0;Ie>=0&&N(g.id,Ie)},onFocus:G=>G.target.select(),className:"w-14 h-9 text-center text-white text-lg font-bold bg-slate-800 border border-slate-600 rounded-lg focus:outline-none focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),t.jsx("button",{onClick:()=>N(g.id,g.quantity+1),className:"w-9 h-9 flex items-center justify-center bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors",children:t.jsx(Pt,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-slate-400 text-xs",children:""}),D&&t.jsx("p",{className:"text-slate-500 text-xs line-through",children:b(g.originalTotal)}),t.jsx("p",{className:`font-bold text-lg ${D?"text-amber-400":"text-emerald-400"}`,children:b(h)})]})]})]},g.id)})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-slate-400 text-xs mb-1",children:""}),t.jsx("textarea",{value:be,onChange:g=>$e(g.target.value),placeholder:"   ()",rows:2,className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-xl text-white placeholder-slate-500 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),t.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 border border-slate-700",children:[Y>0&&t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-amber-400 text-sm font-medium",children:" "}),t.jsxs("span",{className:"text-amber-400 font-medium",children:["-",b(Y)]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm",children:""}),t.jsx("span",{className:"text-white",children:b(A)})]}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("span",{className:"text-slate-400 text-sm",children:" (10%)"}),t.jsx("span",{className:"text-white",children:b(_e)})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-600 cursor-pointer hover:bg-slate-700/50 rounded-lg p-2 -mx-2 transition-colors",onClick:()=>{ft(K),Ye(!0)},title:" ",children:[t.jsx("span",{className:"text-white font-semibold",children:"  "}),t.jsx("span",{className:"text-2xl font-bold text-emerald-400",children:b(K)})]})]})]}),t.jsx("div",{className:"bg-slate-800 border-t border-slate-700 p-4 flex-shrink-0",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("button",{onClick:Te,disabled:$||o.length===0,className:`py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-all ${z?"bg-green-600 text-white":$?"bg-slate-600 text-slate-400 cursor-not-allowed":o.length===0?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:z?t.jsxs(t.Fragment,{children:[t.jsx(Vs,{className:"w-5 h-5"})," !"]}):$?t.jsxs(t.Fragment,{children:[t.jsx(Fs,{className:"w-5 h-5 animate-spin"}),"..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Vs,{className:"w-5 h-5"})," "]})}),t.jsxs("button",{onClick:()=>{o.length>0&&de&&de({name:J,phone:U,address:Z})},disabled:o.length===0,className:`py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors ${o.length===0?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-amber-600 hover:bg-amber-500 text-white"}`,children:[t.jsx(Ti,{className:"w-5 h-5"}),""]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx("button",{onClick:qe,disabled:o.length===0,className:`py-2.5 rounded-xl font-medium flex items-center justify-center gap-1 text-sm transition-all ${je?"bg-green-600 text-white":o.length===0?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-slate-700 hover:bg-slate-600 text-white"}`,children:je?t.jsxs(t.Fragment,{children:[t.jsx(Vs,{className:"w-4 h-4"}),""]}):t.jsxs(t.Fragment,{children:[t.jsx(Ur,{className:"w-4 h-4"}),""]})}),t.jsxs("button",{onClick:Ue,disabled:o.length===0,className:`py-2.5 rounded-xl font-medium flex items-center justify-center gap-1 text-sm transition-colors ${o.length===0?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-slate-700 hover:bg-slate-600 text-white"}`,children:[t.jsx(Ei,{className:"w-4 h-4"}),""]}),t.jsx("button",{onClick:V,className:"py-2.5 bg-slate-600 hover:bg-slate-500 text-white rounded-xl font-medium text-sm transition-colors",children:""})]})]})})]}),Ne&&t.jsx(Qr,{onClose:()=>{Ye(!1),ft(null)},initialValue:we})]})}function jm({products:o,onBack:m,onAddProduct:c,onUpdateProduct:b,onDeleteProduct:j,onUpdateStock:$,formatPrice:N,isLoading:R,onRefresh:E,customers:le,onAddCustomer:Q,onUpdateCustomer:ae,onDeleteCustomer:de,onRefreshCustomers:ge,onResetAllStock:V}){const[I,Y]=p.useState("products"),[je,Le]=p.useState(""),[z,X]=p.useState(""),[J,oe]=p.useState(!1),[U,ye]=p.useState(null),[Z,De]=p.useState({name:"",wholesale:"",retail:"",category:"",stock:"",min_stock:"5",discount_tiers:[]}),[be,$e]=p.useState(null),[Re,Ae]=p.useState("name"),[te,Xe]=p.useState("asc"),[Ee,k]=p.useState("all"),[O,W]=p.useState(null),[y,L]=p.useState(!1),[Me,H]=p.useState(50),[me,ke]=p.useState(!1),[Ne,Ye]=p.useState(!1),[we,ft]=p.useState(null),[P,pe]=p.useState(null),[ve,w]=p.useState(""),[_,K]=p.useState(!1),[A,_e]=p.useState(null),[ce,qe]=p.useState({name:"",phone:"",address:"",memo:"",is_blacklist:!1,blacklist_reason:""}),[Te,Ue]=p.useState(null),[ct,g]=p.useState("all"),[ue,h]=p.useState(!1),[D,ne]=p.useState([]),[F,G]=p.useState([]),[Ie,ze]=p.useState(!1),[mt,Fe]=p.useState(!1),[Ke,Vt]=p.useState(null),[$t,It]=p.useState(50),[at,Je]=p.useState(!1),[ht,jt]=p.useState(!1),[Nt,ot]=p.useState(""),[St,Ht]=p.useState(null),[Be,ss]=p.useState(null),[ds,us]=p.useState(!1),[Rt,Ks]=p.useState([]),[xn,Mt]=p.useState(""),[Jt,Ns]=p.useState(!1),[Us,pn]=p.useState(null),[wr,fn]=p.useState(!1),[Zt,gn]=p.useState([]),[Wn,yn]=p.useState(""),[tl,wn]=p.useState(!1),[sl,Bl]=p.useState(null),Vl=(d,B)=>{const he=d[B]||"";ft({id:d.id,field:B,value:String(he)})},El=async()=>{if(!we)return;const{id:d,field:B,value:he}=we;let Ce={};if(B==="wholesale"||B==="retail"){const xt=parseInt(he.replace(/[^0-9]/g,""))||0;Ce[B]=xt}else Ce[B]=he;await b(d,Ce),ft(null)},Et=()=>{ft(null)},Tl=d=>{d.key==="Enter"?El():d.key==="Escape"&&Et()},ll=(d,B)=>{pe({id:d.id,field:B,value:d[B]||""})},Ls=async()=>{if(!P)return;const{id:d,field:B,value:he}=P;await ae(d,{[B]:he}),pe(null)},Hl=()=>{pe(null)},as=d=>{d.key==="Enter"?Ls():d.key==="Escape"&&Hl()},Ws=d=>{ne(B=>B.includes(d)?B.filter(he=>he!==d):[...B,d])},Qt=d=>{G(B=>B.includes(d)?B.filter(he=>he!==d):[...B,d])},Kt=()=>{h(!1),ne([]),G([])};p.useEffect(()=>{const d=B=>{B.key==="Escape"&&(ue?Kt():we?ft(null):P?pe(null):J?oe(!1):U?ye(null):_?K(!1):A?_e(null):y?L(!1):be?$e(null):Te?Ue(null):Ie?ze(!1):m())};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[m,J,U,_,A,y,be,Te,we,P,ue,Ie]);const u=["",...new Set((o||[]).map(d=>d.category))],S=[...new Set((o||[]).map(d=>d.category))].sort((d,B)=>d.localeCompare(B,"ko")),q=d=>(o||[]).filter(B=>B.category===d).length,ie=async()=>{if(!St||!St.newName.trim())return;const d=(o||[]).filter(B=>B.category===St.oldName);for(const B of d)await b(B.id,{category:St.newName.trim()});Ht(null)},fe=async()=>{if(!Be)return;const d=(o||[]).filter(B=>B.category===Be);for(const B of d)await j(B.id);ss(null)},Se=async()=>{if(Nt.trim()){if(S.includes(Nt.trim())){alert("  .");return}await c({name:`${Nt.trim()} -  `,category:Nt.trim(),wholesale:0,retail:0,stock:0,min_stock:5}),ot(""),jt(!1)}},Ze=d=>{var Ce;const B=(Ce=d.target.files)==null?void 0:Ce[0];if(!B)return;Mt(B.name),pn(null);const he=new FileReader;he.onload=xt=>{var zs,al,Wl;let ms=xt.target.result;ms.charCodeAt(0)===65279&&(ms=ms.slice(1));const qt=ms.split(`
`).filter(wt=>wt.trim());let Ul=0;Ul=(()=>{for(let wt=0;wt<Math.min(5,qt.length);wt++){const hs=qt[wt].toLowerCase();if(hs.includes("")||hs.includes("")||hs.includes("name"))return wt}return 0})();const gl=qt[Ul].split(",").map(wt=>wt.trim().replace(/"/g,"")),ks=wt=>gl.findIndex(hs=>wt.some(Ql=>hs.toLowerCase().includes(Ql.toLowerCase()))),qs=ks(["","","name",""]),yl=ks(["","category",""]),En=ks(["","wholesale","",""]),Tn=ks(["","retail","","",""]),_l=ks(["","stock",""]);if(qs===-1){alert(`CSV  ""  .

 "", "", "name"    .`);return}const wl=wt=>wt&&parseInt(wt.replace(/[,\s"]/g,""))||0,Ss=((wt,hs)=>{const Ql=[];let At=[],ws="",Pl=!1,$l=0;for(let bl=0;bl<wt.length;bl++){const ol=wt[bl],qn=wt[bl+1];ol==='"'?Pl&&qn==='"'?(ws+='"',bl++):Pl=!Pl:ol===","&&!Pl?(At.push(ws.trim()),ws=""):(ol===`
`||ol==="\r"&&qn===`
`)&&!Pl?(ol==="\r"&&bl++,At.push(ws.trim()),$l>=hs&&At.some(Pn=>Pn)&&Ql.push(At),At=[],ws="",$l++):ol!=="\r"&&(ws+=ol)}return(ws||At.length>0)&&(At.push(ws.trim()),$l>=hs&&At.some(bl=>bl)&&Ql.push(At)),Ql})(ms,Ul+1),Yt=[];for(const wt of Ss){let hs=(zs=wt[qs])==null?void 0:zs.replace(/"/g,"").replace(/[\r\n]+/g," ").trim();hs&&Yt.push({name:hs,category:yl>=0&&((al=wt[yl])==null?void 0:al.replace(/"/g,"").replace(/[\r\n]+/g," ").trim())||"",wholesale:En>=0?wl(wt[En]):0,retail:Tn>=0?wl(wt[Tn]):0,stock:_l>=0&&parseInt((Wl=wt[_l])==null?void 0:Wl.replace(/"/g,""))||30})}Ks(Yt)},he.readAsText(B,"UTF-8")},rt=async()=>{if(Rt.length===0)return;Ns(!0);let d=0,B=0;for(const he of Rt)await c({name:he.name,category:he.category,wholesale:he.wholesale,retail:he.retail||null,stock:he.stock,min_stock:5})?d++:B++;Ns(!1),pn({success:d,fail:B})},Tt=()=>{us(!1),Ks([]),Mt(""),pn(null)},ys=d=>{var Ce;const B=(Ce=d.target.files)==null?void 0:Ce[0];if(!B)return;yn(B.name),Bl(null);const he=new FileReader;he.onload=xt=>{var Tn,_l,wl,_n;const qt=xt.target.result.split(`
`).filter(Ss=>Ss.trim()),Ul=qt[0].split(",").map(Ss=>Ss.trim().replace(/"/g,"")),Cn=Ss=>Ul.findIndex(Yt=>Ss.some(zs=>Yt.toLowerCase().includes(zs.toLowerCase()))),gl=Cn(["","","","name","",""]),ks=Cn(["","","phone","","",""]),qs=Cn(["","address",""]),yl=Cn(["","memo","",""]);if(gl===-1){alert('CSV  ""  .');return}const En=[];for(let Ss=1;Ss<qt.length;Ss++){const Yt=[];let zs="",al=!1;for(const wt of qt[Ss])wt==='"'?al=!al:wt===","&&!al?(Yt.push(zs.trim()),zs=""):zs+=wt;Yt.push(zs.trim());const Wl=(Tn=Yt[gl])==null?void 0:Tn.replace(/"/g,"").trim();Wl&&En.push({name:Wl,phone:ks>=0&&((_l=Yt[ks])==null?void 0:_l.replace(/"/g,"").trim())||"",address:qs>=0&&((wl=Yt[qs])==null?void 0:wl.replace(/"/g,"").trim())||"",memo:yl>=0&&((_n=Yt[yl])==null?void 0:_n.replace(/"/g,"").trim())||""})}gn(En)},he.readAsText(B,"UTF-8")},xl=async()=>{if(Zt.length===0)return;wn(!0);let d=0,B=0;for(const he of Zt)await Q(he)?d++:B++;wn(!1),Bl({success:d,fail:B})},os=()=>{fn(!1),gn([]),yn(""),Bl(null)},kt=async()=>{ke(!0);try{await V(Me),L(!1)}catch(d){console.error("  :",d)}finally{ke(!1)}},Qs=async()=>{if(!ce.name)return;await Q(ce)&&(qe({name:"",phone:"",address:"",memo:"",is_blacklist:!1,blacklist_reason:""}),K(!1))},lt=async()=>{A&&(await ae(A.id,{name:A.name,phone:A.phone,address:A.address,memo:A.memo,is_blacklist:A.is_blacklist||!1,blacklist_reason:A.blacklist_reason||""}),_e(null))},dt=async d=>{await ae(d.id,{is_blacklist:!d.is_blacklist})},gt={total:(le||[]).length,blacklist:(le||[]).filter(d=>d.is_blacklist).length,normal:(le||[]).filter(d=>!d.is_blacklist).length},We=(le||[]).filter(d=>{if(ct==="blacklist"&&!d.is_blacklist||ct==="normal"&&d.is_blacklist)return!1;const B=ve.toLowerCase().replace(/\s/g,""),he=d.name.toLowerCase().replace(/\s/g,""),Ce=(d.address||"").toLowerCase().replace(/\s/g,""),xt=(d.phone||"").replace(/\s/g,"");return he.includes(B)||Ce.includes(B)||xt.includes(B)}),nl=async()=>{if(!Z.name||!Z.wholesale||!Z.category)return;const d=(Z.discount_tiers||[]).filter(Ce=>Ce.minQty&&Ce.value).map(Ce=>({minQty:parseInt(Ce.minQty),maxQty:Ce.maxQty?parseInt(Ce.maxQty):null,type:Ce.type,value:parseFloat(Ce.value)})).sort((Ce,xt)=>xt.minQty-Ce.minQty),B={name:Z.name,wholesale:parseInt(Z.wholesale),retail:Z.retail?parseInt(Z.retail):null,category:Z.category,stock:Z.stock?parseInt(Z.stock):0,min_stock:Z.min_stock?parseInt(Z.min_stock):5,discount_tiers:d.length>0?d:null};await c(B)&&(De({name:"",wholesale:"",retail:"",category:"",stock:"",min_stock:"5",discount_tiers:[]}),oe(!1))},bn=async()=>{if(!U)return;const d=(U.discount_tiers||[]).filter(he=>he.minQty&&he.value).map(he=>({minQty:parseInt(he.minQty),maxQty:he.maxQty?parseInt(he.maxQty):null,type:he.type,value:parseFloat(he.value)})).sort((he,Ce)=>Ce.minQty-he.minQty),B={name:U.name,wholesale:parseInt(U.wholesale),retail:U.retail?parseInt(U.retail):null,category:U.category,stock:U.stock!==void 0?parseInt(U.stock):0,min_stock:U.min_stock!==void 0?parseInt(U.min_stock):5,discount_tiers:d.length>0?d:null};await b(U.id,B),ye(null)},vn=async(d,B,he=null)=>{const Ce={stock:parseInt(B)||0};he?Ce.stock_status=he:parseInt(B)>0&&(Ce.stock_status="normal"),await $(d,Ce)},jn=d=>{Re===d?Xe(te==="asc"?"desc":"asc"):(Ae(d),Xe("asc"))},Ds=p.useMemo(()=>{if(!o||!Array.isArray(o))return{outOfStock:0,incoming:0,lowStock:0,normalStock:0,total:0};const d=o.filter(xt=>xt.stock_status==="incoming").length,B=o.filter(xt=>(xt.stock??50)===0&&xt.stock_status!=="incoming").length,he=o.filter(xt=>(xt.stock??50)>0&&(xt.stock??50)<=(xt.min_stock||5)).length,Ce=o.filter(xt=>(xt.stock??50)>(xt.min_stock||5)).length;return{outOfStock:B,incoming:d,lowStock:he,normalStock:Ce,total:o.length}},[o]),Kl=p.useMemo(()=>!o||!Array.isArray(o)?[]:o.filter(d=>{const B=Cl(d.name,je),he=z===""||d.category===z;let Ce=!0;const xt=d.stock??50,ms=d.min_stock||5;return Ee==="out"?Ce=xt===0&&d.stock_status!=="incoming":Ee==="incoming"?Ce=d.stock_status==="incoming":Ee==="low"?Ce=xt>0&&xt<=ms:Ee==="normal"&&(Ce=xt>ms),B&&he&&Ce}).sort((d,B)=>{let he=0;switch(Re){case"name":he=d.name.localeCompare(B.name,"ko");break;case"wholesale":he=d.wholesale-B.wholesale;break;case"stock":he=(d.stock??50)-(B.stock??50);break;case"category":he=d.category.localeCompare(B.category,"ko");break;default:he=0}return te==="asc"?he:-he}),[o,je,z,Ee,Re,te]),Qn=()=>{const d=Kl.map(B=>B.id);ne(B=>B.length===d.length?[]:d)},Nn=()=>{const d=We.map(B=>B.id);G(B=>B.length===d.length?[]:d)},rl=async()=>{if(I==="products"&&D.length>0){for(const d of D)await j(d);ne([])}else if(I==="customers"&&F.length>0){for(const d of F)await de(d);G([])}ze(!1),h(!1)},pl=async()=>{if(D.length!==0){Je(!0);try{for(const d of D)await $(d,{stock:$t,stock_status:"normal"});ne([]),Fe(!1),Vt(null),h(!1)}catch(d){console.error("   :",d)}Je(!1)}},fl=async()=>{if(D.length!==0){Je(!0);try{for(const d of D)await $(d,{stock:0,stock_status:"out"});ne([]),Fe(!1),Vt(null),h(!1)}catch(d){console.error("   :",d)}Je(!1)}},kn=async()=>{if(D.length!==0){Je(!0);try{for(const d of D)await $(d,{stock:0,stock_status:"incoming"});ne([]),Fe(!1),Vt(null),h(!1)}catch(d){console.error("   :",d)}Je(!1)}},Sn=()=>{switch(Ke){case"stock":pl();break;case"outOfStock":fl();break;case"incoming":kn();break;case"delete":rl();break}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col",children:[t.jsx(_i,{}),t.jsxs("header",{className:"bg-slate-800/90 backdrop-blur-md border-b border-slate-700 sticky top-0 z-40 flex-shrink-0 select-none",children:[t.jsxs("div",{className:"w-full px-3 sm:px-4 py-2 sm:py-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:m,className:"p-1.5 sm:p-2 hover:bg-slate-700 rounded-lg transition-colors",children:t.jsx(Ci,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx(au,{className:"w-5 h-5 sm:w-6 sm:h-6 text-amber-400"}),t.jsx("h1",{className:"text-base sm:text-xl font-bold text-white",children:""})]})]}),t.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[t.jsx("button",{onClick:I==="products"?E:ge,disabled:R,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"",children:t.jsx(Fs,{className:`w-5 h-5 text-white ${R?"animate-spin":""}`})}),I==="products"?t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-slate-300 text-sm font-medium transition-colors",children:[t.jsx(Va,{className:"w-4 h-4"})," "]}),t.jsxs("button",{onClick:()=>oe(!0),className:"flex items-center gap-1.5 px-4 py-2 bg-amber-600 hover:bg-amber-500 rounded-lg text-white text-sm font-medium transition-colors",children:[t.jsx(Pt,{className:"w-4 h-4"}),""]}),t.jsxs("button",{onClick:()=>us(!0),className:"flex items-center gap-1.5 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg text-white text-sm font-medium transition-colors",children:[t.jsx(Sl,{className:"w-4 h-4"}),"CSV"]}),ue?t.jsxs("button",{onClick:Kt,className:"flex items-center gap-1.5 px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white text-sm font-medium transition-colors",children:[t.jsx(zt,{className:"w-4 h-4"}),""]}):t.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-1.5 px-4 py-2 bg-red-600/30 hover:bg-red-600/50 border border-red-500/50 rounded-lg text-red-400 text-sm font-medium transition-colors",children:[t.jsx(pt,{className:"w-4 h-4"}),""]})]}):I==="customers"?t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>K(!0),className:"flex items-center gap-1.5 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 rounded-lg text-white text-sm font-medium transition-colors",children:[t.jsx(Pt,{className:"w-4 h-4"}),""]}),t.jsxs("button",{onClick:()=>fn(!0),className:"flex items-center gap-1.5 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg text-white text-sm font-medium transition-colors",children:[t.jsx(Sl,{className:"w-4 h-4"}),"CSV"]}),ue?t.jsxs("button",{onClick:Kt,className:"flex items-center gap-1.5 px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white text-sm font-medium transition-colors",children:[t.jsx(zt,{className:"w-4 h-4"}),""]}):t.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-1.5 px-4 py-2 bg-red-600/30 hover:bg-red-600/50 border border-red-500/50 rounded-lg text-red-400 text-sm font-medium transition-colors",children:[t.jsx(pt,{className:"w-4 h-4"}),""]})]}):null,t.jsx("button",{onClick:()=>Ye(!Ne),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors text-slate-300 hover:text-white",title:Ne?"":"",children:t.jsx(Un,{className:`w-5 h-5 transition-transform duration-300 ${Ne?"rotate-180":""}`})})]}),t.jsxs("div",{className:"flex sm:hidden items-center gap-0.5 flex-shrink-0",children:[t.jsx("button",{onClick:I==="products"?E:ge,disabled:R,className:"p-1 hover:bg-slate-700 rounded transition-colors",title:"",children:t.jsx(Fs,{className:`w-4 h-4 text-white ${R?"animate-spin":""}`})}),I==="products"?t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>oe(!0),className:"flex items-center gap-0.5 px-1.5 py-1 bg-amber-600 hover:bg-amber-500 rounded text-white text-[10px] font-medium transition-colors",children:[t.jsx(Pt,{className:"w-3 h-3"}),""]}),t.jsx("button",{onClick:()=>us(!0),className:"p-1 bg-blue-600 hover:bg-blue-500 rounded text-white transition-colors",title:"CSV",children:t.jsx(Sl,{className:"w-3 h-3"})}),ue?t.jsx("button",{onClick:Kt,className:"p-1 bg-slate-600 hover:bg-slate-500 rounded text-white transition-colors",title:"",children:t.jsx(zt,{className:"w-3 h-3"})}):t.jsx("button",{onClick:()=>h(!0),className:"p-1 bg-red-600/30 hover:bg-red-600/50 border border-red-500/50 rounded text-red-400 transition-colors",title:"",children:t.jsx(pt,{className:"w-3 h-3"})})]}):I==="customers"?t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>K(!0),className:"flex items-center gap-0.5 px-1.5 py-1 bg-emerald-600 hover:bg-emerald-500 rounded text-white text-[10px] font-medium transition-colors",children:[t.jsx(Pt,{className:"w-3 h-3"}),""]}),t.jsx("button",{onClick:()=>fn(!0),className:"p-1 bg-blue-600 hover:bg-blue-500 rounded text-white transition-colors",title:"CSV",children:t.jsx(Sl,{className:"w-3 h-3"})}),ue?t.jsx("button",{onClick:Kt,className:"p-1 bg-slate-600 hover:bg-slate-500 rounded text-white transition-colors",title:"",children:t.jsx(zt,{className:"w-3 h-3"})}):t.jsx("button",{onClick:()=>h(!0),className:"p-1 bg-red-600/30 hover:bg-red-600/50 border border-red-500/50 rounded text-red-400 transition-colors",title:"",children:t.jsx(pt,{className:"w-3 h-3"})})]}):null,t.jsx("button",{onClick:()=>Ye(!Ne),className:"p-1 hover:bg-slate-700 rounded transition-colors text-slate-300",title:Ne?"":"",children:t.jsx(Un,{className:`w-4 h-4 transition-transform duration-300 ${Ne?"rotate-180":""}`})})]})]}),Ne&&t.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs bg-slate-700/30 rounded-lg px-3 py-2",children:[t.jsx("span",{className:"text-slate-400",children:I==="products"?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-white font-semibold",children:[Ds.total,""]})," ",t.jsx("span",{className:"text-emerald-400 ml-1",children:Ds.normalStock})," ",t.jsx("span",{className:"text-yellow-400",children:Ds.lowStock})," ",t.jsx("span",{className:"text-orange-400",children:Ds.incoming})," ",t.jsx("span",{className:"text-red-400",children:Ds.outOfStock})]}):I==="customers"?t.jsxs("span",{className:"text-white font-semibold",children:[" ",We.length,""]}):t.jsxs("span",{className:"text-white font-semibold",children:[" ",u.length-1,""]})}),je&&t.jsxs("span",{className:"text-amber-400",children:[": ",je]})]})]}),t.jsxs("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${Ne?"max-h-0 opacity-0":"max-h-[500px] opacity-100"}`,children:[t.jsx("div",{className:"px-3 sm:px-4 pb-3",children:t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsxs("button",{onClick:()=>Y("products"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors ${I==="products"?"bg-amber-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[t.jsx(js,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 inline mr-1 sm:mr-2"}),"  (",o.length,")"]}),t.jsxs("button",{onClick:()=>Y("customers"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors ${I==="customers"?"bg-emerald-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[t.jsx(yr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 inline mr-1 sm:mr-2"}),"  (",(le||[]).length,")"]}),t.jsxs("button",{onClick:()=>Y("categories"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors ${I==="categories"?"bg-violet-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[t.jsx(Ha,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 inline mr-1 sm:mr-2"})," (",S.length,")"]})]})}),I==="products"&&t.jsxs("div",{className:"bg-slate-900/50 border-t border-slate-700/50 px-3 sm:px-4 py-3",children:[t.jsxs("div",{className:"grid grid-cols-5 gap-1.5 sm:gap-2 mb-3 max-w-7xl mx-auto",children:[t.jsxs("div",{onClick:()=>k("all"),className:`bg-slate-800 rounded-lg p-1.5 sm:p-3 cursor-pointer transition-all select-none ${Ee==="all"?"ring-2 ring-blue-500":"hover:bg-slate-750"}`,children:[t.jsx("p",{className:"text-slate-400 text-[9px] sm:text-xs mb-0.5",children:""}),t.jsx("p",{className:"text-base sm:text-xl font-bold text-white",children:Ds.total})]}),t.jsxs("div",{onClick:()=>k("normal"),className:`bg-slate-800 rounded-lg p-1.5 sm:p-3 cursor-pointer transition-all select-none ${Ee==="normal"?"ring-2 ring-emerald-500":"hover:bg-slate-750"}`,children:[t.jsx("p",{className:"text-slate-400 text-[9px] sm:text-xs mb-0.5",children:""}),t.jsx("p",{className:"text-base sm:text-xl font-bold text-emerald-400",children:Ds.normalStock})]}),t.jsxs("div",{onClick:()=>k("low"),className:`bg-slate-800 rounded-lg p-1.5 sm:p-3 cursor-pointer transition-all select-none ${Ee==="low"?"ring-2 ring-yellow-500":"hover:bg-slate-750"}`,children:[t.jsx("p",{className:"text-slate-400 text-[9px] sm:text-xs mb-0.5",children:""}),t.jsx("p",{className:"text-base sm:text-xl font-bold text-yellow-400",children:Ds.lowStock})]}),t.jsxs("div",{onClick:()=>k("incoming"),className:`bg-slate-800 rounded-lg p-1.5 sm:p-3 cursor-pointer transition-all select-none ${Ee==="incoming"?"ring-2 ring-orange-500":"hover:bg-slate-750"}`,children:[t.jsx("p",{className:"text-slate-400 text-[9px] sm:text-xs mb-0.5",children:""}),t.jsx("p",{className:"text-base sm:text-xl font-bold text-orange-400",children:Ds.incoming})]}),t.jsxs("div",{onClick:()=>k("out"),className:`bg-slate-800 rounded-lg p-1.5 sm:p-3 cursor-pointer transition-all select-none ${Ee==="out"?"ring-2 ring-red-500":"hover:bg-slate-750"}`,children:[t.jsx("p",{className:"text-slate-400 text-[9px] sm:text-xs mb-0.5",children:""}),t.jsx("p",{className:"text-base sm:text-xl font-bold text-red-400",children:Ds.outOfStock})]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-2 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",value:je,onChange:d=>Le(d.target.value),onFocus:Hs,placeholder:" ...",className:"w-full pl-9 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-amber-500 text-sm"})]}),t.jsx("select",{value:z,onChange:d=>X(d.target.value),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-amber-500 text-sm",children:u.map(d=>t.jsx("option",{value:d,children:d},d))})]})]}),I==="customers"&&t.jsx("div",{className:"bg-slate-900/50 border-t border-slate-700/50 px-3 sm:px-4 py-3",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",value:ve,onChange:d=>w(d.target.value),onFocus:Hs,placeholder:" ...",className:"w-full pl-9 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-emerald-500 text-sm"})]})})})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[I==="products"&&t.jsxs(t.Fragment,{children:[ue&&I==="products"&&t.jsx("div",{className:"bg-slate-800/80 border border-slate-600 rounded-xl p-3 mb-4",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:Qn,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 rounded-lg text-white text-sm transition-colors",children:[D.length===Kl.length?t.jsx(pr,{className:"w-4 h-4"}):t.jsx(fr,{className:"w-4 h-4"}),""]}),t.jsxs("span",{className:"text-blue-400 text-sm font-medium",children:[D.length," "]})]}),D.length>0&&t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("button",{onClick:()=>{Vt("stock"),Fe(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-600 hover:bg-emerald-500 rounded-lg text-white text-xs font-medium transition-colors",children:[t.jsx(js,{className:"w-3.5 h-3.5"}),""]}),t.jsxs("button",{onClick:()=>{Vt("outOfStock"),Fe(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600/80 hover:bg-red-600 rounded-lg text-white text-xs font-medium transition-colors",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400"}),""]}),t.jsxs("button",{onClick:()=>{Vt("incoming"),Fe(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-600/80 hover:bg-orange-600 rounded-lg text-white text-xs font-medium transition-colors",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-400 animate-pulse"}),""]}),t.jsxs("button",{onClick:()=>{Vt("delete"),Fe(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg text-white text-xs font-medium transition-colors",children:[t.jsx(pt,{className:"w-3.5 h-3.5"}),""]})]})]})}),t.jsxs("div",{className:"bg-slate-800 rounded-xl overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full min-w-[700px]",children:[t.jsx("thead",{className:"bg-slate-700/50",children:t.jsxs("tr",{children:[ue&&t.jsx("th",{className:"px-3 py-3 text-center w-10",children:t.jsx("button",{onClick:Qn,className:"text-slate-400 hover:text-white",children:D.length===Kl.length?t.jsx(pr,{className:"w-5 h-5"}):t.jsx(fr,{className:"w-5 h-5"})})}),t.jsxs("th",{onClick:()=>jn("name"),className:"px-4 py-3 text-left text-sm font-semibold text-slate-300 cursor-pointer hover:bg-slate-700 whitespace-nowrap min-w-[150px]",children:[" ",Re==="name"&&(te==="asc"?"":"")]}),t.jsxs("th",{onClick:()=>jn("category"),className:"px-4 py-3 text-left text-sm font-semibold text-slate-300 cursor-pointer hover:bg-slate-700 whitespace-nowrap min-w-[100px]",children:[" ",Re==="category"&&(te==="asc"?"":"")]}),t.jsxs("th",{onClick:()=>jn("wholesale"),className:"px-4 py-3 text-right text-sm font-semibold text-slate-300 cursor-pointer hover:bg-slate-700 whitespace-nowrap min-w-[90px]",children:[" ",Re==="wholesale"&&(te==="asc"?"":"")]}),t.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-300 whitespace-nowrap min-w-[90px]",children:""}),t.jsxs("th",{onClick:()=>jn("stock"),className:"px-4 py-3 text-center text-sm font-semibold text-slate-300 cursor-pointer hover:bg-slate-700 whitespace-nowrap min-w-[80px]",children:[" ",Re==="stock"&&(te==="asc"?"":"")]}),t.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-slate-300 whitespace-nowrap min-w-[60px]",children:""})]})}),t.jsx("tbody",{className:"divide-y divide-slate-700",children:Kl.map(d=>{const B=d.stock??50,he=d.min_stock||5,Ce=d.stock_status==="incoming",xt=B===0&&!Ce,ms=B>0&&B<=he;return t.jsxs("tr",{className:`hover:bg-slate-700/30 transition-colors ${Ce?"bg-orange-900/10":xt?"bg-red-900/10":ms?"bg-yellow-900/10":""} ${ue&&D.includes(d.id)?"bg-red-900/20":""}`,children:[ue&&t.jsx("td",{className:"px-3 py-3 text-center",children:t.jsx("button",{onClick:()=>Ws(d.id),className:"text-slate-400 hover:text-white",children:D.includes(d.id)?t.jsx(pr,{className:"w-5 h-5 text-red-400"}):t.jsx(fr,{className:"w-5 h-5"})})}),t.jsx("td",{className:"px-4 py-3",children:(we==null?void 0:we.id)===d.id&&(we==null?void 0:we.field)==="name"?t.jsx("input",{type:"text",value:we.value,onChange:qt=>ft({...we,value:qt.target.value}),onKeyDown:Tl,onBlur:El,autoFocus:!0,className:"w-full px-2 py-1 bg-slate-900 border border-amber-500 rounded text-white text-sm focus:outline-none"}):t.jsx("span",{onClick:()=>Vl(d,"name"),className:"text-white cursor-pointer hover:text-amber-400 hover:underline transition-colors",children:d.name})}),t.jsx("td",{className:"px-4 py-3",children:(we==null?void 0:we.id)===d.id&&(we==null?void 0:we.field)==="category"?t.jsx("input",{type:"text",value:we.value,onChange:qt=>ft({...we,value:qt.target.value}),onKeyDown:Tl,onBlur:El,autoFocus:!0,className:"w-full px-2 py-1 bg-slate-900 border border-amber-500 rounded text-white text-sm focus:outline-none"}):t.jsx("span",{onClick:()=>Vl(d,"category"),className:"text-slate-400 cursor-pointer hover:text-amber-400 hover:underline transition-colors",children:d.category})}),t.jsx("td",{className:"px-4 py-3 text-right",children:(we==null?void 0:we.id)===d.id&&(we==null?void 0:we.field)==="wholesale"?t.jsx("input",{type:"text",value:we.value,onChange:qt=>ft({...we,value:qt.target.value}),onKeyDown:Tl,onBlur:El,autoFocus:!0,className:"w-28 px-2 py-1 bg-slate-900 border border-amber-500 rounded text-white text-sm text-right focus:outline-none"}):t.jsx("span",{onClick:()=>Vl(d,"wholesale"),className:"text-emerald-400 cursor-pointer hover:text-amber-400 hover:underline transition-colors font-medium",children:N(d.wholesale)})}),t.jsx("td",{className:"px-4 py-3 text-right",children:(we==null?void 0:we.id)===d.id&&(we==null?void 0:we.field)==="retail"?t.jsx("input",{type:"text",value:we.value,onChange:qt=>ft({...we,value:qt.target.value}),onKeyDown:Tl,onBlur:El,autoFocus:!0,className:"w-28 px-2 py-1 bg-slate-900 border border-amber-500 rounded text-white text-sm text-right focus:outline-none"}):t.jsx("span",{onClick:()=>Vl(d,"retail"),className:"text-blue-400 cursor-pointer hover:text-amber-400 hover:underline transition-colors font-medium",children:d.retail?N(d.retail):"-"})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("button",{onClick:()=>W(d),className:`group relative min-w-[75px] px-3 py-1.5 text-sm font-semibold transition-all whitespace-nowrap ${Ce?"bg-gradient-to-r from-orange-600/30 to-amber-500/20 border border-orange-500/50 text-orange-400 hover:from-orange-600/50 hover:to-amber-500/40":xt?"bg-gradient-to-r from-red-600/30 to-red-500/20 border border-red-500/50 text-red-400 hover:from-red-600/50 hover:to-red-500/40":ms?"bg-gradient-to-r from-yellow-600/30 to-amber-500/20 border border-yellow-500/50 text-yellow-400 hover:from-yellow-600/50 hover:to-amber-500/40":"bg-gradient-to-r from-emerald-600/30 to-teal-500/20 border border-emerald-500/50 text-emerald-400 hover:from-emerald-600/50 hover:to-teal-500/40"} rounded-lg`,children:t.jsx("span",{className:"relative z-10 flex items-center justify-center gap-1",children:Ce?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-400 animate-pulse flex-shrink-0"}),t.jsx("span",{className:"text-xs",children:""})]}):xt?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-400 animate-pulse flex-shrink-0"}),t.jsx("span",{className:"text-xs",children:""})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${ms?"bg-yellow-400":"bg-emerald-400"}`}),t.jsxs("span",{className:"text-xs",children:[B,""]})]})})})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("button",{onClick:()=>ye(d),className:"p-2 hover:bg-slate-600 rounded-lg text-blue-400 transition-colors",title:" ",children:t.jsx(dn,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>$e(d.id),className:"p-2 hover:bg-slate-600 rounded-lg text-red-400 transition-colors",title:"",children:t.jsx(pt,{className:"w-4 h-4"})})]})})]},d.id)})})]})}),Kl.length===0&&t.jsx("div",{className:"p-8 text-center text-slate-400",children:"  "})]})]}),I==="customers"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-slate-800 rounded-xl p-4 mb-4 border border-slate-700",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-400 text-sm",children:""}),t.jsx("span",{className:"px-2 py-1 bg-slate-700 text-white text-sm font-bold rounded-lg",children:gt.total})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-emerald-400 text-sm",children:""}),t.jsx("span",{className:"px-2 py-1 bg-emerald-600/20 text-emerald-400 text-sm font-bold rounded-lg",children:gt.normal})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-red-400 text-sm",children:" "}),t.jsx("span",{className:"px-2 py-1 bg-red-600/20 text-red-400 text-sm font-bold rounded-lg",children:gt.blacklist})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-400 text-sm mr-2",children:":"}),[{key:"all",label:"",color:"slate"},{key:"normal",label:"",color:"emerald"},{key:"blacklist",label:" ",color:"red"}].map(({key:d,label:B,color:he})=>t.jsx("button",{onClick:()=>g(d),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${ct===d?he==="red"?"bg-red-600 text-white":he==="emerald"?"bg-emerald-600 text-white":"bg-slate-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white"}`,children:B},d))]})]})}),ue&&I==="customers"&&t.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 rounded-xl p-3 mb-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:Nn,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 rounded-lg text-white text-sm transition-colors",children:[F.length===We.length?t.jsx(pr,{className:"w-4 h-4"}):t.jsx(fr,{className:"w-4 h-4"}),""]}),t.jsxs("span",{className:"text-red-400 text-sm font-medium",children:[F.length," "]})]}),F.length>0&&t.jsxs("button",{onClick:()=>ze(!0),className:"flex items-center gap-2 px-4 py-1.5 bg-red-600 hover:bg-red-500 rounded-lg text-white text-sm font-medium transition-colors",children:[t.jsx(pt,{className:"w-4 h-4"}),F.length," "]})]}),t.jsxs("div",{className:"bg-slate-800 rounded-xl overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full min-w-[650px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-700/50 border-b border-slate-600",children:[ue&&t.jsx("th",{className:"px-3 py-3 text-center w-10",children:t.jsx("button",{onClick:Nn,className:"text-slate-400 hover:text-white",children:F.length===We.length?t.jsx(pr,{className:"w-5 h-5"}):t.jsx(fr,{className:"w-5 h-5"})})}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-300 whitespace-nowrap min-w-[120px]",children:""}),t.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-300 whitespace-nowrap min-w-[90px]",children:""}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-300 whitespace-nowrap min-w-[120px]",children:""}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-300 whitespace-nowrap min-w-[180px]",children:""}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-300 whitespace-nowrap min-w-[100px]",children:""}),t.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-300 whitespace-nowrap min-w-[80px]",children:""})]})}),t.jsx("tbody",{children:We.map((d,B)=>t.jsxs("tr",{className:`border-b border-slate-700 hover:bg-slate-700/50 transition-colors ${B%2===0?"bg-slate-800":"bg-slate-800/50"} ${ue&&F.includes(d.id)?"bg-red-900/20":""}`,children:[ue&&t.jsx("td",{className:"px-3 py-3 text-center",children:t.jsx("button",{onClick:()=>Qt(d.id),className:"text-slate-400 hover:text-white",children:F.includes(d.id)?t.jsx(pr,{className:"w-5 h-5 text-red-400"}):t.jsx(fr,{className:"w-5 h-5"})})}),t.jsx("td",{className:"px-4 py-3",children:(P==null?void 0:P.id)===d.id&&(P==null?void 0:P.field)==="name"?t.jsx("input",{type:"text",value:P.value,onChange:he=>pe({...P,value:he.target.value}),onKeyDown:as,onBlur:Ls,autoFocus:!0,className:"w-full px-2 py-1 bg-slate-900 border border-amber-500 rounded text-white text-sm focus:outline-none"}):t.jsxs("span",{onClick:()=>ll(d,"name"),className:`font-medium cursor-pointer hover:text-amber-400 hover:underline transition-colors ${d.is_blacklist?"text-red-400":"text-white"}`,children:[d.is_blacklist&&" ",d.name]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("button",{onClick:()=>dt(d),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${d.is_blacklist?"bg-red-600 hover:bg-red-500 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-400 hover:text-white"}`,title:d.is_blacklist?" ":" ",children:d.is_blacklist?" ON":"OFF"})}),t.jsx("td",{className:"px-4 py-3",children:(P==null?void 0:P.id)===d.id&&(P==null?void 0:P.field)==="phone"?t.jsx("input",{type:"text",value:P.value,onChange:he=>pe({...P,value:he.target.value}),onKeyDown:as,onBlur:Ls,autoFocus:!0,className:"w-full px-2 py-1 bg-slate-900 border border-amber-500 rounded text-white text-sm focus:outline-none"}):t.jsx("span",{onClick:()=>ll(d,"phone"),className:"text-slate-300 cursor-pointer hover:text-amber-400 hover:underline transition-colors",children:d.phone||"-"})}),t.jsx("td",{className:"px-4 py-3",children:(P==null?void 0:P.id)===d.id&&(P==null?void 0:P.field)==="address"?t.jsx("input",{type:"text",value:P.value,onChange:he=>pe({...P,value:he.target.value}),onKeyDown:as,onBlur:Ls,autoFocus:!0,className:"w-full px-2 py-1 bg-slate-900 border border-amber-500 rounded text-white text-sm focus:outline-none"}):t.jsx("span",{onClick:()=>ll(d,"address"),className:"text-slate-400 text-sm cursor-pointer hover:text-amber-400 hover:underline transition-colors max-w-xs truncate block",children:d.address||"-"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"space-y-1",children:[d.is_blacklist&&d.blacklist_reason&&t.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[t.jsx("span",{className:"px-1.5 py-0.5 bg-red-600/20 text-red-400 rounded",children:" "}),t.jsx("span",{className:"text-red-400",children:d.blacklist_reason})]}),(P==null?void 0:P.id)===d.id&&(P==null?void 0:P.field)==="memo"?t.jsx("input",{type:"text",value:P.value,onChange:he=>pe({...P,value:he.target.value}),onKeyDown:as,onBlur:Ls,autoFocus:!0,className:"w-full px-2 py-1 bg-slate-900 border border-amber-500 rounded text-white text-sm focus:outline-none"}):t.jsx("span",{onClick:()=>ll(d,"memo"),className:"text-slate-500 text-sm cursor-pointer hover:text-amber-400 hover:underline transition-colors",children:d.memo||"-"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("button",{onClick:()=>_e(d),className:"p-2 hover:bg-blue-600/20 rounded-lg text-blue-400 transition-colors",title:" ",children:t.jsx(dn,{className:"w-4 h-4"})}),Te===d.id?t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>{de(d.id),Ue(null)},className:"px-2 py-1 bg-red-600 text-white text-xs rounded",children:""}),t.jsx("button",{onClick:()=>Ue(null),className:"px-2 py-1 bg-slate-600 text-white text-xs rounded",children:""})]}):t.jsx("button",{onClick:()=>Ue(d.id),className:"p-2 hover:bg-red-600/20 rounded-lg text-red-400 transition-colors",title:"",children:t.jsx(pt,{className:"w-4 h-4"})})]})})]},d.id))})]})}),We.length===0&&t.jsx("div",{className:"p-8 text-center text-slate-400",children:"  "})]}),_&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-2xl w-full p-8 border border-slate-700 shadow-2xl animate-scale-in",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx("div",{className:"p-4 bg-emerald-600/20 rounded-xl",children:t.jsx(yr,{className:"w-8 h-8 text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-white",children:" "}),t.jsx("p",{className:"text-slate-400",children:"   "})]})]}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-slate-300 font-medium mb-2",children:[" ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:ce.name,onChange:d=>qe({...ce,name:d.target.value}),placeholder:"",className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg placeholder-slate-400 focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 font-medium mb-2",children:""}),t.jsx("input",{type:"text",value:ce.phone,onChange:d=>qe({...ce,phone:d.target.value}),placeholder:"010-1234-5678",className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg placeholder-slate-400 focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 font-medium mb-2",children:""}),t.jsx("input",{type:"text",value:ce.address,onChange:d=>qe({...ce,address:d.target.value}),placeholder:" ",className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg placeholder-slate-400 focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 font-medium mb-2",children:""}),t.jsx("textarea",{value:ce.memo,onChange:d=>qe({...ce,memo:d.target.value}),placeholder:"",rows:3,className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg placeholder-slate-400 focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 resize-none"})]})]}),t.jsxs("div",{className:"flex gap-4 mt-8",children:[t.jsx("button",{onClick:()=>K(!1),className:"flex-1 py-4 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-semibold text-lg transition-colors",children:""}),t.jsx("button",{onClick:Qs,className:"flex-1 py-4 bg-emerald-600 hover:bg-emerald-500 rounded-xl text-white font-semibold text-lg transition-colors",children:""})]})]})}),A&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-2xl w-full p-8 border border-slate-700 shadow-2xl animate-scale-in",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx("div",{className:"p-4 bg-blue-600/20 rounded-xl",children:t.jsx(dn,{className:"w-8 h-8 text-blue-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-white",children:" "}),t.jsx("p",{className:"text-slate-400",children:"  "})]})]}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-slate-300 font-medium mb-2",children:[" ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:A.name,onChange:d=>_e({...A,name:d.target.value}),className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 font-medium mb-2",children:""}),t.jsx("input",{type:"text",value:A.phone||"",onChange:d=>_e({...A,phone:d.target.value}),className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 font-medium mb-2",children:""}),t.jsx("input",{type:"text",value:A.address||"",onChange:d=>_e({...A,address:d.target.value}),className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 font-medium mb-2",children:""}),t.jsx("textarea",{value:A.memo||"",onChange:d=>_e({...A,memo:d.target.value}),rows:2,className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 resize-none"})]}),t.jsxs("div",{className:`p-4 rounded-xl border transition-all ${A.is_blacklist?"bg-red-900/30 border-red-500/50":"bg-slate-700/50 border-slate-600"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:""}),t.jsx("label",{className:"text-slate-300 font-medium",children:""})]}),t.jsx("button",{type:"button",onClick:()=>_e({...A,is_blacklist:!A.is_blacklist}),className:`relative inline-flex h-8 w-16 items-center rounded-full transition-colors duration-300 focus:outline-none ${A.is_blacklist?"bg-red-600":"bg-slate-600"}`,children:t.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white shadow-md transition-transform duration-300 ${A.is_blacklist?"translate-x-9":"translate-x-1"}`})})]}),A.is_blacklist&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-red-400 text-sm mb-1",children:" "}),t.jsx("input",{type:"text",value:A.blacklist_reason||"",onChange:d=>_e({...A,blacklist_reason:d.target.value}),placeholder:"  ()",className:"w-full px-4 py-3 bg-slate-800 border border-red-500/50 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-red-500"})]})]})]}),t.jsxs("div",{className:"flex gap-4 mt-8",children:[t.jsx("button",{onClick:()=>_e(null),className:"flex-1 py-4 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-semibold text-lg transition-colors",children:""}),t.jsx("button",{onClick:lt,className:"flex-1 py-4 bg-blue-600 hover:bg-blue-500 rounded-xl text-white font-semibold text-lg transition-colors",children:""})]})]})})]}),I==="categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-slate-800 rounded-xl overflow-hidden",children:[t.jsxs("div",{className:"bg-slate-700/50 px-4 py-3 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-white font-semibold",children:["  (",S.length,")"]}),t.jsxs("button",{onClick:()=>jt(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-violet-600 hover:bg-violet-500 rounded-lg text-white text-sm font-medium transition-colors",children:[t.jsx(Pt,{className:"w-4 h-4"})," "]})]}),t.jsx("div",{className:"divide-y divide-slate-700",children:S.map(d=>t.jsxs("div",{className:"px-4 py-4 flex items-center justify-between hover:bg-slate-700/30 transition-colors",children:[t.jsx("div",{className:"flex-1",children:(St==null?void 0:St.oldName)===d?t.jsx("input",{type:"text",value:St.newName,onChange:B=>Ht({...St,newName:B.target.value}),onKeyDown:B=>{B.key==="Enter"&&ie(),B.key==="Escape"&&Ht(null)},autoFocus:!0,className:"px-3 py-2 bg-slate-900 border border-violet-500 rounded-lg text-white focus:outline-none w-64"}):t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-white font-medium",children:d}),t.jsxs("span",{className:"text-slate-400 text-sm",children:["(",q(d)," )"]})]})}),t.jsx("div",{className:"flex items-center gap-2",children:(St==null?void 0:St.oldName)===d?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:ie,className:"px-3 py-1.5 bg-violet-600 hover:bg-violet-500 rounded-lg text-white text-sm transition-colors",children:""}),t.jsx("button",{onClick:()=>Ht(null),className:"px-3 py-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg text-white text-sm transition-colors",children:""})]}):Be===d?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-red-400 text-sm mr-2",children:["? (",q(d),"  )"]}),t.jsx("button",{onClick:fe,className:"px-3 py-1.5 bg-red-600 hover:bg-red-500 rounded-lg text-white text-sm transition-colors",children:""}),t.jsx("button",{onClick:()=>ss(null),className:"px-3 py-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg text-white text-sm transition-colors",children:""})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>Ht({oldName:d,newName:d}),className:"p-2 hover:bg-blue-600/20 rounded-lg text-blue-400 transition-colors",title:" ",children:t.jsx(dn,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ss(d),className:"p-2 hover:bg-red-600/20 rounded-lg text-red-400 transition-colors",title:"",children:t.jsx(pt,{className:"w-4 h-4"})})]})})]},d))}),S.length===0&&t.jsx("div",{className:"p-8 text-center text-slate-400",children:"  "})]}),ht&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-md w-full p-6 border border-slate-700 shadow-2xl animate-scale-in",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"p-3 bg-violet-600/20 rounded-xl",children:t.jsx(Pt,{className:"w-6 h-6 text-violet-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:"  "}),t.jsx("p",{className:"text-slate-400 text-sm",children:"  "})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 font-medium mb-2",children:" "}),t.jsx("input",{type:"text",value:Nt,onChange:d=>ot(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Se(),d.key==="Escape"&&(jt(!1),ot(""))},placeholder:":  ",autoFocus:!0,className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-violet-500"})]}),t.jsx("p",{className:"text-slate-500 text-sm",children:"*       .    ."})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>{jt(!1),ot("")},className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-medium transition-colors",children:""}),t.jsx("button",{onClick:Se,disabled:!Nt.trim(),className:`flex-1 py-3 rounded-xl text-white font-medium transition-colors ${Nt.trim()?"bg-violet-600 hover:bg-violet-500":"bg-slate-600 cursor-not-allowed"}`,children:""})]})]})})]})]})}),ds&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-4xl w-full p-6 border border-slate-700 shadow-2xl animate-scale-in max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-600/20 rounded-xl",children:t.jsx(Sl,{className:"w-6 h-6 text-blue-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:"CSV  "}),t.jsx("p",{className:"text-slate-400 text-sm",children:"CSV    "})]})]}),t.jsx("button",{onClick:Tt,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:t.jsx(zt,{className:"w-5 h-5 text-slate-400"})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 mb-6",children:[t.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[t.jsx(hn,{className:"w-4 h-4 text-blue-400"}),"CSV  "]}),t.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 mb-3 font-mono text-xs overflow-x-auto",children:[t.jsx("div",{className:"text-slate-400 mb-1",children:"#    ( )"}),t.jsx("div",{className:"text-blue-300",children:",,,,"}),t.jsx("div",{className:"text-slate-300",children:"  , ,220000,250000,30"}),t.jsx("div",{className:"text-slate-300",children:"N ,N ,891000,990000,30"})]}),t.jsxs("div",{className:"text-slate-400 text-xs space-y-1",children:[t.jsxs("p",{children:[t.jsx("span",{className:"text-red-400",children:"*"})," ",t.jsx("span",{className:"text-white",children:""})," -  (, name,  )"]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-slate-500",children:""})," ",t.jsx("span",{className:"text-white",children:""}),' -  ( "")']}),t.jsxs("p",{children:[t.jsx("span",{className:"text-slate-500",children:""})," ",t.jsx("span",{className:"text-white",children:""})," -  (, wholesale,  )"]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-slate-500",children:""})," ",t.jsx("span",{className:"text-white",children:""})," -  (, retail,  )"]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-slate-500",children:""})," ",t.jsx("span",{className:"text-white",children:""})," -  ( 30 )"]}),t.jsx("p",{className:"mt-2 text-amber-400",children:'  "  "  "CSV UTF-8" '})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-slate-300 font-medium mb-2",children:"CSV  "}),t.jsxs("label",{className:"flex flex-col items-center justify-center gap-2 px-4 py-6 bg-slate-700 border-2 border-dashed border-slate-500 rounded-xl cursor-pointer hover:border-blue-500 hover:bg-slate-700/70 transition-colors",onDragOver:d=>{d.preventDefault(),d.currentTarget.classList.add("border-blue-500","bg-slate-600/50")},onDragLeave:d=>{d.preventDefault(),d.currentTarget.classList.remove("border-blue-500","bg-slate-600/50")},onDrop:d=>{d.preventDefault(),d.currentTarget.classList.remove("border-blue-500","bg-slate-600/50");const B=d.dataTransfer.files[0];B&&B.name.endsWith(".csv")?Ze({target:{files:[B]}}):alert("CSV   .")},children:[t.jsx(Sl,{className:"w-8 h-8 text-slate-400"}),t.jsx("span",{className:"text-slate-300 text-center",children:xn||"   "}),t.jsx("span",{className:"text-slate-500 text-xs",children:".csv "}),t.jsx("input",{type:"file",accept:".csv",onChange:Ze,className:"hidden"})]})]}),Rt.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"text-white font-medium",children:[" (",Rt.length," )"]}),Us&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-emerald-400 text-sm",children:[" ",Us.success," "]}),Us.fail>0&&t.jsxs("span",{className:"text-red-400 text-sm",children:[" ",Us.fail," "]})]})]}),t.jsxs("div",{className:"bg-slate-900 rounded-xl overflow-hidden max-h-80 overflow-y-auto",children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-slate-700/50 sticky top-0",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left text-slate-300",children:"#"}),t.jsx("th",{className:"px-3 py-2 text-left text-slate-300",children:""}),t.jsx("th",{className:"px-3 py-2 text-left text-slate-300",children:""}),t.jsx("th",{className:"px-3 py-2 text-right text-slate-300",children:""}),t.jsx("th",{className:"px-3 py-2 text-right text-slate-300",children:""}),t.jsx("th",{className:"px-3 py-2 text-right text-slate-300",children:""})]})}),t.jsx("tbody",{className:"divide-y divide-slate-700",children:Rt.slice(0,50).map((d,B)=>t.jsxs("tr",{className:"hover:bg-slate-800/50",children:[t.jsx("td",{className:"px-3 py-2 text-slate-500",children:B+1}),t.jsx("td",{className:"px-3 py-2 text-white truncate max-w-xs",children:d.name}),t.jsx("td",{className:"px-3 py-2 text-slate-400",children:d.category}),t.jsx("td",{className:"px-3 py-2 text-right text-slate-300",children:N(d.wholesale)}),t.jsx("td",{className:"px-3 py-2 text-right text-slate-300",children:d.retail?N(d.retail):"-"}),t.jsx("td",{className:"px-3 py-2 text-right text-slate-300",children:d.stock})]},B))})]}),Rt.length>50&&t.jsxs("div",{className:"px-3 py-2 text-center text-slate-500 text-sm bg-slate-800",children:["...  ",Rt.length-50," "]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:Tt,className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-medium transition-colors",children:""}),Rt.length>0&&!Us&&t.jsx("button",{onClick:rt,disabled:Jt,className:`flex-1 py-3 rounded-xl text-white font-medium flex items-center justify-center gap-2 transition-colors ${Jt?"bg-slate-600 cursor-wait":"bg-blue-600 hover:bg-blue-500"}`,children:Jt?t.jsxs(t.Fragment,{children:[t.jsx(Fs,{className:"w-5 h-5 animate-spin"})," ..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Sl,{className:"w-5 h-5"}),Rt.length,"  "]})}),Us&&t.jsx("button",{onClick:Tt,className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-500 rounded-xl text-white font-medium transition-colors",children:""})]})]})}),wr&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-4xl w-full p-6 border border-slate-700 shadow-2xl animate-scale-in max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-emerald-600/20 rounded-xl",children:t.jsx(Sl,{className:"w-6 h-6 text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:" CSV  "}),t.jsx("p",{className:"text-slate-400 text-sm",children:"CSV    "})]})]}),t.jsx("button",{onClick:os,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:t.jsx(zt,{className:"w-5 h-5 text-slate-400"})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 mb-6",children:[t.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[t.jsx(hn,{className:"w-4 h-4 text-emerald-400"}),"CSV  "]}),t.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 mb-3 font-mono text-xs overflow-x-auto",children:[t.jsx("div",{className:"text-slate-400 mb-1",children:"#    ( )"}),t.jsx("div",{className:"text-emerald-300",children:",,,"}),t.jsx("div",{className:"text-slate-300",children:",010-1234-5678,   123,"}),t.jsx("div",{className:"text-slate-300",children:",02-123-4567,  ,VIP "})]}),t.jsxs("div",{className:"text-slate-400 text-xs space-y-1",children:[t.jsxs("p",{children:[t.jsx("span",{className:"text-red-400",children:"*"})," ",t.jsx("span",{className:"text-white",children:""})," -  (, , name, ,  )"]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-slate-500",children:""})," ",t.jsx("span",{className:"text-white",children:""})," -  (, phone, , ,  )"]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-slate-500",children:""})," ",t.jsx("span",{className:"text-white",children:""})," -  (address,  )"]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-slate-500",children:""})," ",t.jsx("span",{className:"text-white",children:""})," -  (memo, ,  )"]}),t.jsx("p",{className:"mt-2 text-amber-400",children:'  "  "  "CSV UTF-8" '})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-slate-300 font-medium mb-2",children:"CSV  "}),t.jsxs("label",{className:"flex flex-col items-center justify-center gap-2 px-4 py-6 bg-slate-700 border-2 border-dashed border-slate-500 rounded-xl cursor-pointer hover:border-emerald-500 hover:bg-slate-700/70 transition-colors",onDragOver:d=>{d.preventDefault(),d.currentTarget.classList.add("border-emerald-500","bg-slate-600/50")},onDragLeave:d=>{d.preventDefault(),d.currentTarget.classList.remove("border-emerald-500","bg-slate-600/50")},onDrop:d=>{d.preventDefault(),d.currentTarget.classList.remove("border-emerald-500","bg-slate-600/50");const B=d.dataTransfer.files[0];B&&B.name.endsWith(".csv")?ys({target:{files:[B]}}):alert("CSV   .")},children:[t.jsx(Sl,{className:"w-8 h-8 text-slate-400"}),t.jsx("span",{className:"text-slate-300 text-center",children:Wn||"   "}),t.jsx("span",{className:"text-slate-500 text-xs",children:".csv "}),t.jsx("input",{type:"file",accept:".csv",onChange:ys,className:"hidden"})]})]}),Zt.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"text-white font-medium",children:[" (",Zt.length," )"]}),sl&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-emerald-400 text-sm",children:[" ",sl.success," "]}),sl.fail>0&&t.jsxs("span",{className:"text-red-400 text-sm",children:[" ",sl.fail," "]})]})]}),t.jsxs("div",{className:"bg-slate-900 rounded-xl overflow-hidden max-h-80 overflow-y-auto",children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-slate-700/50 sticky top-0",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left text-slate-300",children:"#"}),t.jsx("th",{className:"px-3 py-2 text-left text-slate-300",children:""}),t.jsx("th",{className:"px-3 py-2 text-left text-slate-300",children:""}),t.jsx("th",{className:"px-3 py-2 text-left text-slate-300",children:""}),t.jsx("th",{className:"px-3 py-2 text-left text-slate-300",children:""})]})}),t.jsx("tbody",{className:"divide-y divide-slate-700",children:Zt.slice(0,50).map((d,B)=>t.jsxs("tr",{className:"hover:bg-slate-800/50",children:[t.jsx("td",{className:"px-3 py-2 text-slate-500",children:B+1}),t.jsx("td",{className:"px-3 py-2 text-white truncate max-w-xs",children:d.name}),t.jsx("td",{className:"px-3 py-2 text-slate-300",children:d.phone||"-"}),t.jsx("td",{className:"px-3 py-2 text-slate-400 truncate max-w-xs",children:d.address||"-"}),t.jsx("td",{className:"px-3 py-2 text-slate-400 truncate max-w-xs",children:d.memo||"-"})]},B))})]}),Zt.length>50&&t.jsxs("div",{className:"px-3 py-2 text-center text-slate-500 text-sm bg-slate-800",children:["...  ",Zt.length-50," "]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:os,className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-medium transition-colors",children:""}),Zt.length>0&&!sl&&t.jsx("button",{onClick:xl,disabled:tl,className:`flex-1 py-3 rounded-xl text-white font-medium flex items-center justify-center gap-2 transition-colors ${tl?"bg-slate-600 cursor-wait":"bg-emerald-600 hover:bg-emerald-500"}`,children:tl?t.jsxs(t.Fragment,{children:[t.jsx(Fs,{className:"w-5 h-5 animate-spin"})," ..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Sl,{className:"w-5 h-5"}),Zt.length,"  "]})}),sl&&t.jsx("button",{onClick:os,className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-500 rounded-xl text-white font-medium transition-colors",children:""})]})]})}),J&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-2xl w-full p-8 border border-slate-700 shadow-2xl animate-scale-in max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx("div",{className:"p-4 bg-amber-600/20 rounded-xl",children:t.jsx(Pt,{className:"w-8 h-8 text-amber-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-white",children:" "}),t.jsx("p",{className:"text-slate-400",children:"  "})]})]}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-slate-300 font-medium mb-2",children:[" ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:Z.name,onChange:d=>De({...Z,name:d.target.value}),placeholder:":  100 150 54",className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg placeholder-slate-500 focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-slate-300 font-medium mb-2",children:[" ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",list:"category-list",value:Z.category,onChange:d=>De({...Z,category:d.target.value}),placeholder:"    ",className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg placeholder-slate-500 focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20"}),t.jsx("datalist",{id:"category-list",children:u.map(d=>t.jsx("option",{value:d},d))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-slate-300 font-medium mb-2",children:[" ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:Z.wholesale,onChange:d=>De({...Z,wholesale:d.target.value}),placeholder:"0",className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg placeholder-slate-500 focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 pr-12"}),t.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",children:""})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-slate-300 font-medium mb-2",children:[" ",t.jsx("span",{className:"text-slate-500 text-sm",children:"()"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:Z.retail,onChange:d=>De({...Z,retail:d.target.value}),placeholder:"0",className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg placeholder-slate-500 focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 pr-12"}),t.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",children:""})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 font-medium mb-2",children:" "}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:Z.stock,onChange:d=>De({...Z,stock:d.target.value}),placeholder:"50",className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg placeholder-slate-500 focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 pr-12"}),t.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",children:""})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-slate-300 font-medium mb-2",children:["  ",t.jsx("span",{className:"text-slate-500 text-sm",children:"()"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:Z.min_stock,onChange:d=>De({...Z,min_stock:d.target.value}),placeholder:"5",className:"w-full px-5 py-4 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg placeholder-slate-500 focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 pr-12"}),t.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",children:""})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("label",{className:"block text-slate-300 font-medium",children:["  ",t.jsx("span",{className:"text-slate-500 text-sm",children:"()"})]}),t.jsxs("button",{type:"button",onClick:()=>De({...Z,discount_tiers:[...Z.discount_tiers||[],{minQty:"",maxQty:"",type:"percent",value:""}]}),className:"px-3 py-1 bg-emerald-600/20 hover:bg-emerald-600/30 border border-emerald-500/50 rounded-lg text-emerald-400 text-sm font-medium transition-colors flex items-center gap-1",children:[t.jsx(Pt,{className:"w-4 h-4"}),"  "]})]}),(Z.discount_tiers||[]).length>0&&t.jsxs("div",{className:"space-y-3 bg-slate-700/30 rounded-xl p-4 border border-slate-600/50",children:[(Z.discount_tiers||[]).map((d,B)=>t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("input",{type:"number",value:d.minQty,onChange:he=>{const Ce=[...Z.discount_tiers];Ce[B].minQty=he.target.value,De({...Z,discount_tiers:Ce})},placeholder:"",className:"w-16 px-2 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-500 focus:outline-none focus:border-emerald-500"}),t.jsx("span",{className:"text-slate-400 text-sm",children:"~"}),t.jsx("input",{type:"number",value:d.maxQty||"",onChange:he=>{const Ce=[...Z.discount_tiers];Ce[B].maxQty=he.target.value,De({...Z,discount_tiers:Ce})},placeholder:"",className:"w-16 px-2 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-500 focus:outline-none focus:border-emerald-500"}),t.jsx("span",{className:"text-slate-400 text-sm",children:""})]}),t.jsxs("select",{value:d.type,onChange:he=>{const Ce=[...Z.discount_tiers];Ce[B].type=he.target.value,De({...Z,discount_tiers:Ce})},className:"px-2 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:border-emerald-500",children:[t.jsx("option",{value:"percent",children:"%"}),t.jsx("option",{value:"fixed",children:""})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("input",{type:"number",value:d.value,onChange:he=>{const Ce=[...Z.discount_tiers];Ce[B].value=he.target.value,De({...Z,discount_tiers:Ce})},placeholder:d.type==="percent"?"5":"1000",className:"w-20 px-2 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-500 focus:outline-none focus:border-emerald-500"}),t.jsx("span",{className:"text-slate-400 text-sm",children:d.type==="percent"?"%":""})]}),t.jsx("button",{type:"button",onClick:()=>{const he=Z.discount_tiers.filter((Ce,xt)=>xt!==B);De({...Z,discount_tiers:he})},className:"p-2 bg-red-600/20 hover:bg-red-600/30 rounded-lg text-red-400 transition-colors",children:t.jsx(pt,{className:"w-4 h-4"})})]},B)),t.jsx("p",{className:"text-slate-500 text-xs mt-2",children:'*    ""  (: 10~ = 10 )'})]})]}),t.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-4 flex items-start gap-3",children:[t.jsx(Hn,{className:"w-5 h-5 text-amber-400 mt-0.5 flex-shrink-0"}),t.jsxs("p",{className:"text-slate-400 text-sm",children:[t.jsx("span",{className:"text-red-400",children:"*"}),"    .     50 ."]})]})]}),t.jsxs("div",{className:"flex gap-4 mt-8",children:[t.jsx("button",{onClick:()=>{oe(!1),De({name:"",wholesale:"",retail:"",category:"",stock:"",min_stock:"5",discount_tiers:[]})},className:"flex-1 py-4 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-semibold text-lg transition-colors",children:""}),t.jsxs("button",{onClick:nl,disabled:!Z.name||!Z.wholesale||!Z.category,className:`flex-1 py-4 rounded-xl text-white font-semibold text-lg flex items-center justify-center gap-2 transition-colors ${!Z.name||!Z.wholesale||!Z.category?"bg-slate-600 cursor-not-allowed":"bg-amber-600 hover:bg-amber-500"}`,children:[t.jsx(Pt,{className:"w-5 h-5"})," "]})]})]})}),U&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-lg w-full p-6 border border-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"p-3 bg-blue-600/20 rounded-xl",children:t.jsx(dn,{className:"w-6 h-6 text-blue-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:" "}),t.jsx("p",{className:"text-slate-400 text-sm",children:"  "})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-1.5",children:" *"}),t.jsx("input",{type:"text",value:U.name,onChange:d=>ye({...U,name:d.target.value}),placeholder:" ",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-1.5",children:" *"}),t.jsx("input",{type:"text",value:U.category,onChange:d=>ye({...U,category:d.target.value}),placeholder:" ",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-1.5",children:" *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:U.wholesale,onChange:d=>ye({...U,wholesale:d.target.value}),placeholder:"0",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 pr-8"}),t.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-1.5",children:""}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:U.retail||"",onChange:d=>ye({...U,retail:d.target.value}),placeholder:"0",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 pr-8"}),t.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:""})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-1.5",children:" "}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:U.stock??50,onChange:d=>ye({...U,stock:d.target.value}),placeholder:"50",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 pr-8"}),t.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-1.5",children:" "}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:U.min_stock||5,onChange:d=>ye({...U,min_stock:d.target.value}),placeholder:"5",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 pr-8"}),t.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:""})]})]})]}),t.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-4",children:[t.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"  "}),t.jsx("div",{className:"flex items-center gap-2",children:(U.stock||0)===0?t.jsx("span",{className:"px-3 py-1 bg-red-600/20 text-red-400 rounded-full text-sm font-medium",children:""}):(U.stock||0)<=(U.min_stock||5)?t.jsxs("span",{className:"px-3 py-1 bg-yellow-600/20 text-yellow-400 rounded-full text-sm font-medium",children:["  (",U.stock,")"]}):t.jsxs("span",{className:"px-3 py-1 bg-emerald-600/20 text-emerald-400 rounded-full text-sm font-medium",children:[" (",U.stock,")"]})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("label",{className:"block text-slate-300 text-sm font-medium",children:["  ",t.jsx("span",{className:"text-slate-500 text-xs",children:"()"})]}),t.jsxs("button",{type:"button",onClick:()=>ye({...U,discount_tiers:[...U.discount_tiers||[],{minQty:"",maxQty:"",type:"percent",value:""}]}),className:"px-2 py-1 bg-emerald-600/20 hover:bg-emerald-600/30 border border-emerald-500/50 rounded-lg text-emerald-400 text-xs font-medium transition-colors flex items-center gap-1",children:[t.jsx(Pt,{className:"w-3 h-3"}),""]})]}),(U.discount_tiers||[]).length>0&&t.jsxs("div",{className:"space-y-2 bg-slate-700/30 rounded-xl p-3 border border-slate-600/50",children:[(U.discount_tiers||[]).map((d,B)=>t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("input",{type:"number",value:d.minQty,onChange:he=>{const Ce=[...U.discount_tiers];Ce[B].minQty=he.target.value,ye({...U,discount_tiers:Ce})},placeholder:"",className:"w-14 px-2 py-1.5 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-500 focus:outline-none focus:border-emerald-500"}),t.jsx("span",{className:"text-slate-400 text-xs",children:"~"}),t.jsx("input",{type:"number",value:d.maxQty||"",onChange:he=>{const Ce=[...U.discount_tiers];Ce[B].maxQty=he.target.value,ye({...U,discount_tiers:Ce})},placeholder:"",className:"w-14 px-2 py-1.5 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-500 focus:outline-none focus:border-emerald-500"})]}),t.jsxs("select",{value:d.type,onChange:he=>{const Ce=[...U.discount_tiers];Ce[B].type=he.target.value,ye({...U,discount_tiers:Ce})},className:"px-2 py-1.5 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:border-emerald-500",children:[t.jsx("option",{value:"percent",children:"%"}),t.jsx("option",{value:"fixed",children:""})]}),t.jsx("input",{type:"number",value:d.value,onChange:he=>{const Ce=[...U.discount_tiers];Ce[B].value=he.target.value,ye({...U,discount_tiers:Ce})},placeholder:d.type==="percent"?"5":"1000",className:"w-16 px-2 py-1.5 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-500 focus:outline-none focus:border-emerald-500"}),t.jsx("button",{type:"button",onClick:()=>{const he=U.discount_tiers.filter((Ce,xt)=>xt!==B);ye({...U,discount_tiers:he})},className:"p-1.5 bg-red-600/20 hover:bg-red-600/30 rounded-lg text-red-400 transition-colors",children:t.jsx(pt,{className:"w-3 h-3"})})]},B)),t.jsx("p",{className:"text-slate-500 text-xs",children:'*   "" '})]})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>ye(null),className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-medium transition-colors",children:""}),t.jsx("button",{onClick:bn,className:"flex-1 py-3 bg-blue-600 hover:bg-blue-500 rounded-xl text-white font-medium transition-colors",children:""})]})]})}),O&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-sm w-full p-6 animate-scale-in",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" "}),t.jsx("p",{className:"text-slate-400 mb-1",children:O.name}),t.jsx("div",{className:"mb-4",children:O.stock_status==="incoming"?t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-orange-600/20 border border-orange-500/50 rounded-lg text-orange-400 text-sm",children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-400 animate-pulse"})," "]}):(O.stock??0)===0?t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-red-600/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-400 animate-pulse"}),""]}):null}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("button",{onClick:()=>{const d=document.getElementById("stock-input");d.value=Math.max(0,parseInt(d.value||0)-10)},className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors",children:"-10"}),t.jsx("button",{onClick:()=>{const d=document.getElementById("stock-input");d.value=Math.max(0,parseInt(d.value||0)-1)},className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors",children:"-1"}),t.jsx("input",{id:"stock-input",type:"number",defaultValue:O.stock||0,className:"w-20 px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-center focus:outline-none focus:border-amber-500"}),t.jsx("button",{onClick:()=>{const d=document.getElementById("stock-input");d.value=parseInt(d.value||0)+1},className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors",children:"+1"}),t.jsx("button",{onClick:()=>{const d=document.getElementById("stock-input");d.value=parseInt(d.value||0)+10},className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors",children:"+10"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[t.jsxs("button",{onClick:()=>{document.getElementById("stock-input").value=0,vn(O.id,0,"out"),W(null)},className:`py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${O.stock_status!=="incoming"&&(O.stock??0)===0?"bg-red-600 text-white":"bg-red-600/20 hover:bg-red-600/40 border border-red-500/50 text-red-400"}`,children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-current"}),""]}),t.jsxs("button",{onClick:()=>{document.getElementById("stock-input").value=0,vn(O.id,0,"incoming"),W(null)},className:`py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${O.stock_status==="incoming"?"bg-orange-600 text-white":"bg-orange-600/20 hover:bg-orange-600/40 border border-orange-500/50 text-orange-400"}`,children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-current"}),""]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>W(null),className:"flex-1 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors",children:""}),t.jsx("button",{onClick:()=>{const d=document.getElementById("stock-input").value;vn(O.id,d),W(null)},className:"flex-1 py-2 bg-emerald-600 hover:bg-emerald-500 rounded-lg text-white font-medium transition-colors",children:""})]})]})}),be&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-sm w-full p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" "}),t.jsx("p",{className:"text-slate-400 mb-4",children:"  ?"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>$e(null),className:"flex-1 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white",children:""}),t.jsx("button",{onClick:()=>{j(be),$e(null)},className:"flex-1 py-2 bg-red-600 hover:bg-red-500 rounded-lg text-white font-medium",children:""})]})]})}),y&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-md w-full p-6 border border-slate-700 shadow-2xl animate-scale-in",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"p-3 bg-blue-600/20 rounded-xl",children:t.jsx(Va,{className:"w-6 h-6 text-blue-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:"  "}),t.jsx("p",{className:"text-slate-400 text-sm",children:"     "})]})]}),t.jsx("div",{className:"bg-slate-700/50 rounded-xl p-4 mb-4",children:t.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-xs mb-1",children:" "}),t.jsxs("p",{className:"text-white font-bold text-lg",children:[o.length,""]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-xs mb-1",children:" "}),t.jsxs("p",{className:"text-red-400 font-bold text-lg",children:[o.filter(d=>(d.stock??50)===0).length,""]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-xs mb-1",children:" "}),t.jsxs("p",{className:"text-yellow-400 font-bold text-lg",children:[o.filter(d=>(d.stock??50)>0&&(d.stock??50)<=(d.min_stock||5)).length,""]})]})]})}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"  "}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"number",value:Me,onChange:d=>H(parseInt(d.target.value)||0),min:"0",className:"flex-1 px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white text-lg font-bold text-center focus:outline-none focus:border-blue-500"}),t.jsx("span",{className:"text-slate-400",children:""})]}),t.jsx("div",{className:"flex gap-2 mt-2",children:[10,30,50,100].map(d=>t.jsxs("button",{onClick:()=>H(d),className:`flex-1 py-1.5 rounded-lg text-sm font-medium transition-colors ${Me===d?"bg-blue-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:[d,""]},d))})]}),t.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-3 mb-6",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Hn,{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-red-400 font-medium text-sm",children:"!"}),t.jsxs("p",{className:"text-red-400/80 text-xs",children:["    .    ",Me," ."]})]})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>L(!1),disabled:me,className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-medium transition-colors",children:""}),t.jsx("button",{onClick:kt,disabled:me,className:"flex-1 py-3 bg-blue-600 hover:bg-blue-500 rounded-xl text-white font-medium flex items-center justify-center gap-2 transition-colors",children:me?t.jsxs(t.Fragment,{children:[t.jsx(Fs,{className:"w-5 h-5 animate-spin"})," ..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Va,{className:"w-5 h-5"}),o.length,"  "]})})]})]})}),mt&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in",style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{Fe(!1),Vt(null)}}),t.jsxs("div",{className:"relative bg-slate-800 rounded-2xl w-full max-w-md overflow-hidden border border-slate-700 shadow-2xl animate-scale-in",children:[t.jsx("div",{className:`px-6 py-4 ${Ke==="stock"?"bg-gradient-to-r from-emerald-600 to-emerald-500":Ke==="outOfStock"?"bg-gradient-to-r from-red-600 to-red-500":Ke==="incoming"?"bg-gradient-to-r from-orange-600 to-orange-500":"bg-gradient-to-r from-slate-600 to-slate-500"}`,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:[Ke==="stock"&&t.jsx(js,{className:"w-6 h-6 text-white"}),Ke==="outOfStock"&&t.jsx("span",{className:"w-4 h-4 rounded-full bg-white"}),Ke==="incoming"&&t.jsx("span",{className:"w-4 h-4 rounded-full bg-white animate-pulse"}),Ke==="delete"&&t.jsx(pt,{className:"w-6 h-6 text-white"})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold text-white",children:[Ke==="stock"&&"  ",Ke==="outOfStock"&&"  ",Ke==="incoming"&&"  ",Ke==="delete"&&" "]}),t.jsxs("p",{className:"text-white/80 text-sm",children:[D.length,"  "]})]})]})}),t.jsxs("div",{className:"p-6",children:[Ke==="stock"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:"  "}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>It(Math.max(0,$t-10)),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors",children:"-10"}),t.jsx("button",{onClick:()=>It(Math.max(0,$t-1)),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors",children:"-1"}),t.jsx("input",{type:"number",value:$t,onChange:d=>It(Math.max(0,parseInt(d.target.value)||0)),className:"flex-1 px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-center text-lg font-bold focus:outline-none focus:border-emerald-500"}),t.jsx("button",{onClick:()=>It($t+1),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors",children:"+1"}),t.jsx("button",{onClick:()=>It($t+10),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors",children:"+10"})]}),t.jsx("div",{className:"flex gap-2 mt-3",children:[0,10,20,50,100].map(d=>t.jsxs("button",{onClick:()=>It(d),className:`flex-1 py-1.5 rounded-lg text-xs font-medium transition-colors ${$t===d?"bg-emerald-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[d,""]},d))})]}),Ke!=="stock"&&t.jsx("div",{className:`rounded-xl p-4 mb-6 ${Ke==="outOfStock"?"bg-red-500/10 border border-red-500/30":Ke==="incoming"?"bg-orange-500/10 border border-orange-500/30":"bg-slate-700/50 border border-slate-600"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Hn,{className:`w-6 h-6 mt-0.5 flex-shrink-0 ${Ke==="outOfStock"?"text-red-400":Ke==="incoming"?"text-orange-400":"text-slate-400"}`}),t.jsxs("div",{children:[t.jsxs("p",{className:`font-bold text-lg ${Ke==="outOfStock"?"text-red-400":Ke==="incoming"?"text-orange-400":"text-slate-300"}`,children:[Ke==="outOfStock"&&`${D.length}   `,Ke==="incoming"&&`${D.length}   `,Ke==="delete"&&`${D.length}  `]}),t.jsxs("p",{className:`text-sm mt-1 ${Ke==="outOfStock"?"text-red-400/80":Ke==="incoming"?"text-orange-400/80":"text-slate-400"}`,children:[Ke==="outOfStock"&&" 0    .",Ke==="incoming"&&" 0    .",Ke==="delete"&&"    ."]})]})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{Fe(!1),Vt(null)},disabled:at,className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-medium transition-colors disabled:opacity-50",children:""}),t.jsx("button",{onClick:Sn,disabled:at,className:`flex-1 py-3 rounded-xl text-white font-bold flex items-center justify-center gap-2 transition-colors disabled:opacity-50 ${Ke==="stock"?"bg-emerald-600 hover:bg-emerald-500":Ke==="outOfStock"?"bg-red-600 hover:bg-red-500":Ke==="incoming"?"bg-orange-600 hover:bg-orange-500":"bg-slate-600 hover:bg-slate-500"}`,children:at?t.jsxs(t.Fragment,{children:[t.jsx(Fs,{className:"w-5 h-5 animate-spin"})," ..."]}):t.jsxs(t.Fragment,{children:[Ke==="stock"&&t.jsxs(t.Fragment,{children:[t.jsx(js,{className:"w-5 h-5"})," "]}),Ke==="outOfStock"&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"w-3 h-3 rounded-full bg-white"})," "]}),Ke==="incoming"&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"w-3 h-3 rounded-full bg-white"})," "]}),Ke==="delete"&&t.jsxs(t.Fragment,{children:[t.jsx(pt,{className:"w-5 h-5"})," "]})]})})]})]})]})]}),Ie&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in",style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>ze(!1)}),t.jsxs("div",{className:"relative bg-slate-800 rounded-2xl w-full max-w-md overflow-hidden border border-slate-700 shadow-2xl animate-scale-in",children:[t.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-500 px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(pt,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:"  "}),t.jsx("p",{className:"text-red-100 text-sm",children:"  "})]})]})}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Hn,{className:"w-6 h-6 text-red-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-red-400 font-bold text-lg",children:[I==="products"?`${D.length} `:`${F.length} `," ?"]}),t.jsx("p",{className:"text-red-400/80 text-sm mt-1",children:"    ."})]})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>ze(!1),className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-medium transition-colors",children:""}),t.jsxs("button",{onClick:rl,className:"flex-1 py-3 bg-red-600 hover:bg-red-500 rounded-xl text-white font-bold flex items-center justify-center gap-2 transition-colors",children:[t.jsx(pt,{className:"w-5 h-5"})," "]})]})]})]})]})]})}function Nm({orders:o,onBack:m,onDeleteOrder:c,onDeleteMultiple:b,onViewOrder:j,onRefresh:$,isLoading:N,formatPrice:R,onSaveToCart:E,isDetailModalOpen:le=!1,customers:Q=[]}){const[ae,de]=p.useState(""),[ge,V]=p.useState(null),[I,Y]=p.useState("today"),je=H=>{if(!H||!Q||Q.length===0)return null;const me=Q.find(ke=>{var Ne;return((Ne=ke==null?void 0:ke.name)==null?void 0:Ne.toLowerCase().replace(/\s/g,""))===H.toLowerCase().replace(/\s/g,"")});return me!=null&&me.is_blacklist?{isBlacklist:!0,reason:me.blacklist_reason||""}:null},[Le,z]=p.useState(""),[X,J]=p.useState([]),[oe,U]=p.useState(!1),[ye,Z]=p.useState(!1),[De,be]=p.useState(!1),[$e,Re]=p.useState(!1);p.useEffect(()=>{const H=me=>{le||me.key==="Escape"&&($e?Re(!1):ge?V(null):oe?U(!1):ye?Z(!1):X.length>0?J([]):m())};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[m,ge,oe,ye,X,$e,le]);const Ae=H=>{if(I==="all")return!0;const me=new Date(H.createdAt),ke=new Date;if(ke.setHours(0,0,0,0),I==="today"){const Ne=new Date(me);return Ne.setHours(0,0,0,0),Ne.getTime()===ke.getTime()}if(I==="yesterday"){const Ne=new Date(ke);Ne.setDate(Ne.getDate()-1);const Ye=new Date(me);return Ye.setHours(0,0,0,0),Ye.getTime()===Ne.getTime()}if(I==="week"){const Ne=new Date(ke);return Ne.setDate(Ne.getDate()-7),me>=Ne}if(I==="month"){const Ne=new Date(ke);return Ne.setMonth(Ne.getMonth()-1),me>=Ne}if(I==="custom"&&Le){const Ne=new Date(Le),Ye=new Date(me);return Ye.getFullYear()===Ne.getFullYear()&&Ye.getMonth()===Ne.getMonth()&&Ye.getDate()===Ne.getDate()}return!0},te=o.filter(Ae).filter(H=>{const me=ae.toLowerCase().replace(/\s/g,""),ke=H.orderNumber.toLowerCase().replace(/\s/g,""),Ne=(H.customerName||"").toLowerCase().replace(/\s/g,""),Ye=(H.customerPhone||"").replace(/\s/g,"");return ke.includes(me)||Ne.includes(me)||Ye.includes(me)}),Xe=te.reduce((H,me)=>H+me.totalAmount,0),Ee=Bs(Xe),k=o.reduce((H,me)=>H+me.totalAmount,0),O=()=>{X.length===te.length?J([]):J(te.map(H=>H.orderNumber))},W=H=>{J(me=>me.includes(H)?me.filter(ke=>ke!==H):[...me,H])},y=()=>{b?b(X):X.forEach(H=>c(H)),J([]),U(!1)},L=()=>{const H=te.map(me=>me.orderNumber);b?b(H):H.forEach(me=>c(me)),J([]),Z(!1)},Me=()=>{switch(I){case"today":return"";case"yesterday":return"";case"week":return" 7";case"month":return" 1";case"custom":return Le;default:return""}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[t.jsx(_i,{}),t.jsxs("header",{className:"bg-slate-800/90 backdrop-blur-md border-b border-slate-700 sticky top-0 z-40 select-none",children:[t.jsxs("div",{className:"w-full px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:m,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:t.jsx(Ci,{className:"w-5 h-5 text-slate-300"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ha,{className:"w-6 h-6 text-emerald-400"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-white",children:" "}),t.jsxs("p",{className:"text-emerald-400 text-xs",children:[" ",o.length,"   ",te.length,""]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[X.length>0&&t.jsxs("button",{onClick:()=>U(!0),className:"text-sm px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg flex items-center gap-1.5 font-medium transition-all hover-lift",children:[t.jsx(pt,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:""})," (",X.length,")"]}),t.jsx("button",{onClick:$,disabled:N,className:"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors disabled:opacity-50",children:t.jsx(Fs,{className:`w-5 h-5 text-white ${N?"animate-spin":""}`})}),t.jsxs("button",{onClick:()=>be(!De),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-slate-300 hover:text-white flex items-center gap-1.5 text-sm",children:[t.jsx("span",{className:"hidden sm:inline",children:De?"":""}),t.jsx(Un,{className:`w-4 h-4 transition-transform duration-300 ${De?"rotate-180":""}`})]})]})]}),De&&t.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs bg-slate-700/30 rounded-lg px-3 py-2",children:[t.jsxs("span",{className:"text-slate-400",children:[Me(),"  ",te.length,"  ",t.jsx("span",{className:"text-emerald-400 font-semibold",children:R(Xe)})]}),ae&&t.jsxs("span",{className:"text-emerald-400",children:[": ",ae]})]})]}),t.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${De?"max-h-0 opacity-0":"max-h-[600px] opacity-100"}`,children:t.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[t.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-3 border border-slate-600",children:[t.jsxs("p",{className:"text-slate-400 text-xs flex items-center gap-1",children:[t.jsx(hn,{className:"w-3 h-3"})," ",I==="all"?" ":" "]}),t.jsxs("p",{className:"text-white font-bold text-lg",children:[te.length,""]}),I!=="all"&&t.jsxs("p",{className:"text-slate-500 text-[10px]",children:[" ",o.length,""]})]}),t.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-3 border border-slate-600",children:[t.jsxs("p",{className:"text-slate-400 text-xs flex items-center gap-1",children:[t.jsx(mn,{className:"w-3 h-3"})," ",I==="all"?" ":" "]}),t.jsx("p",{className:"text-emerald-400 font-bold text-lg",children:R(Xe)}),I!=="all"&&t.jsxs("p",{className:"text-slate-500 text-[10px]",children:[" ",R(k)]})]}),t.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-3 border border-slate-600",children:[t.jsxs("p",{className:"text-slate-400 text-xs flex items-center gap-1",children:[t.jsx(gr,{className:"w-3 h-3"})," "]}),t.jsx("p",{className:"text-blue-400 font-bold text-lg",children:R(Ee)})]}),t.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-3 border border-slate-600",children:[t.jsxs("p",{className:"text-slate-400 text-xs flex items-center gap-1",children:[t.jsx(gr,{className:"w-3 h-3"})," "]}),t.jsx("p",{className:"text-purple-400 font-bold text-lg",children:R(Xe-Ee)})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[[{key:"today",label:""},{key:"yesterday",label:""},{key:"week",label:" "},{key:"month",label:" "},{key:"custom",label:" "},{key:"all",label:""}].map(({key:H,label:me})=>t.jsx("button",{onClick:()=>{Y(H),J([])},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${I===H?"bg-emerald-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:me},H)),I==="custom"&&t.jsx("input",{type:"date",value:Le,onChange:H=>z(H.target.value),className:"px-3 py-1.5 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"}),t.jsxs("button",{onClick:()=>Z(!0),disabled:te.length===0,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${te.length===0?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-red-600/20 text-red-400 border border-red-500/50 hover:bg-red-600/40"}`,children:[t.jsx(pt,{className:"w-3.5 h-3.5"}),Me(),"  (",te.length,")"]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:", ,  ...",value:ae,onChange:H=>de(H.target.value),onFocus:Hs,className:"w-full pl-10 pr-4 py-2.5 bg-slate-700/50 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:te.length>0&&X.length===te.length,onChange:O,className:"w-4 h-4 rounded border-slate-500 bg-slate-700 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-slate-400 text-xs",children:" "}),t.jsxs("span",{className:"text-slate-400 text-xs",children:[" : ",t.jsxs("span",{className:"text-white font-semibold",children:[te.length,""]}),X.length>0&&t.jsxs("span",{className:"text-emerald-400 ml-1",children:["(",X.length," )"]})]})]}),t.jsx("span",{className:"text-emerald-400 font-semibold text-sm",children:R(Xe)})]})]})})]}),t.jsxs("div",{className:"w-full px-4 py-4",children:[N&&t.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[t.jsx(Fs,{className:"w-8 h-8 text-emerald-400 mx-auto mb-2 animate-spin"}),t.jsx("p",{className:"text-slate-400",children:" ..."})]}),!N&&te.length===0?t.jsxs("div",{className:"text-center py-16 animate-fade-in",children:[t.jsx(Ha,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-400",children:o.length===0?"   ":"  "})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:te.map((H,me)=>{const ke=je(H.customerName),Ne=ke==null?void 0:ke.isBlacklist;return t.jsxs("div",{className:`rounded-xl p-4 border transition-all duration-200 cursor-pointer transform select-none relative overflow-hidden ${X.includes(H.orderNumber)?"ring-2 ring-emerald-500 bg-emerald-900/20 border-emerald-500/50":Ne?"bg-gradient-to-br from-red-900/40 via-slate-800 to-slate-800 border-red-500/50 hover:border-red-400 hover:shadow-lg hover:shadow-red-500/20 hover:scale-[1.02]":"bg-slate-800 border-slate-700 hover:border-emerald-500 hover:bg-slate-750 hover:scale-[1.02] hover:shadow-lg hover:shadow-emerald-500/20"} animate-fade-in-up`,style:{animationDelay:`${Math.min(me*.05,.3)}s`},children:[Ne&&t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-600 via-red-500 to-red-600"}),t.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[t.jsx("input",{type:"checkbox",checked:X.includes(H.orderNumber),onChange:()=>W(H.orderNumber),className:"mt-1 w-5 h-5 rounded border-slate-500 bg-slate-700 text-emerald-500 focus:ring-emerald-500 cursor-pointer flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:"text-white font-semibold truncate",children:H.orderNumber}),t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium flex-shrink-0 ${H.priceType==="wholesale"?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"}`,children:H.priceType==="wholesale"?"":""})]}),t.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 mt-1",children:[t.jsx(nu,{className:"w-3 h-3"}),ou(H.createdAt)]})]}),t.jsxs("div",{className:"text-right flex-shrink-0",children:[t.jsx("p",{className:"text-emerald-400 font-bold text-sm",children:R(H.totalAmount)}),t.jsxs("p",{className:"text-[10px] text-slate-500",children:[" ",R(Bs(H.totalAmount))]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2 mb-3",children:[t.jsxs("div",{className:"text-xs text-slate-300 mb-1",children:[H.items.slice(0,3).map((Ye,we)=>t.jsxs("span",{children:[Ye.name,"(",Ye.quantity,")",we<Math.min(H.items.length-1,2)?", ":""]},we)),H.items.length>3&&t.jsxs("span",{className:"text-slate-500",children:["  ",H.items.length-3,""]})]}),t.jsxs("div",{className:"text-xs text-slate-400",children:[H.items.length," / ",H.items.reduce((Ye,we)=>Ye+we.quantity,0),""]}),H.customerName&&t.jsxs("div",{className:`text-xs border-t pt-2 mt-2 ${Ne?"border-red-700/50":"border-slate-700"}`,children:[t.jsxs("div",{className:`flex items-center gap-1 ${Ne?"text-red-400":"text-cyan-400"}`,children:[Ne?"":""," ",H.customerName,Ne&&t.jsx("span",{className:"px-1.5 py-0.5 bg-red-600/30 text-red-400 rounded text-[10px] ml-1",children:""})]}),Ne&&(ke==null?void 0:ke.reason)&&t.jsxs("div",{className:"text-[10px] text-red-400/70 mt-1 pl-4",children:[" ",ke.reason]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>j(H),className:"flex-1 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-xs font-medium flex items-center justify-center gap-1.5 transition-all btn-ripple",children:[t.jsx(am,{className:"w-3.5 h-3.5"}),""]}),t.jsxs("button",{onClick:()=>E&&E(H),className:"py-2 px-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-xs font-medium flex items-center justify-center gap-1.5 transition-all btn-ripple",children:[t.jsx(Fl,{className:"w-3.5 h-3.5"}),""]}),ge===H.orderNumber?t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>{c(H.orderNumber),V(null)},className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-xs font-medium transition-colors btn-ripple",children:""}),t.jsx("button",{onClick:()=>V(null),className:"px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded-lg text-xs font-medium transition-colors",children:""})]}):t.jsxs("button",{onClick:()=>V(H.orderNumber),className:"px-3 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg text-xs font-medium flex items-center justify-center gap-1 transition-colors",children:[t.jsx(pt,{className:"w-3.5 h-3.5"}),""]})]})]},H.orderNumber)})})]}),oe&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-sm w-full p-6 border border-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-3 bg-red-600/20 rounded-xl",children:t.jsx(Hn,{className:"w-6 h-6 text-red-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:" "}),t.jsxs("p",{className:"text-slate-400 text-sm",children:[X.length,"  "]})]})]}),t.jsxs("p",{className:"text-slate-300 mb-6",children:[" ",X.length,"  ?     ."]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>U(!1),className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-medium transition-colors",children:""}),t.jsx("button",{onClick:y,className:"flex-1 py-3 bg-red-600 hover:bg-red-500 rounded-xl text-white font-medium transition-colors",children:""})]})]})}),ye&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-md w-full p-6 border border-red-500/50",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-3 bg-red-600/30 rounded-xl",children:t.jsx(Hn,{className:"w-8 h-8 text-red-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:"   "}),t.jsxs("p",{className:"text-red-400 text-sm font-medium",children:[Me(),"  ",te.length,""]})]})]}),t.jsxs("div",{className:"bg-red-600/10 border border-red-500/30 rounded-xl p-4 mb-6",children:[t.jsx("p",{className:"text-slate-200 font-medium mb-2",children:"   :"}),t.jsxs("ul",{className:"text-slate-400 text-sm space-y-1",children:[t.jsxs("li",{children:[" : ",t.jsx("span",{className:"text-white",children:Me()})]}),t.jsxs("li",{children:["  : ",t.jsxs("span",{className:"text-red-400 font-bold",children:[te.length,""]})]}),t.jsxs("li",{children:["  : ",t.jsx("span",{className:"text-white",children:R(te.reduce((H,me)=>H+me.totalAmount,0))})]})]}),t.jsx("p",{className:"text-red-400 text-xs mt-3",children:"     !"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>Z(!1),className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-white font-medium transition-colors",children:""}),t.jsxs("button",{onClick:L,className:"flex-1 py-3 bg-red-600 hover:bg-red-500 rounded-xl text-white font-medium transition-colors flex items-center justify-center gap-2",children:[t.jsx(pt,{className:"w-5 h-5"})," "]})]})]})}),t.jsx("button",{onClick:()=>Re(!0),className:"fixed bottom-20 right-4 z-50 w-12 h-12 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full shadow-lg shadow-amber-500/30 flex items-center justify-center text-white hover:scale-110 transition-transform active:scale-95",title:"",children:t.jsx(mn,{className:"w-6 h-6"})}),$e&&t.jsx(Qr,{onClose:()=>Re(!1)})]})}function km({onComplete:o}){const[m,c]=p.useState(0),b=p.useRef(!1),j=p.useRef(o);return j.current=o,p.useEffect(()=>{if(b.current)return;b.current=!0;const $=[setTimeout(()=>c(1),100),setTimeout(()=>c(2),800),setTimeout(()=>c(3),1500),setTimeout(()=>c(4),2200),setTimeout(()=>j.current(),2800)];return()=>$.forEach(clearTimeout)},[]),t.jsxs("div",{className:`fixed z-[9999] flex items-center justify-center transition-opacity duration-500 overflow-hidden ${m>=4?"opacity-0":"opacity-100"}`,style:{top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",position:"fixed"},children:[t.jsx("div",{className:"bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%"}}),t.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(30)].map(($,N)=>t.jsx("div",{className:"absolute w-1 h-1 bg-emerald-500/30 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*3}s`}},N))}),t.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full bg-gradient-to-r from-emerald-600/20 via-teal-500/10 to-transparent blur-3xl transition-all duration-1000 ${m>=1?"scale-100 opacity-100":"scale-50 opacity-0"}`}),t.jsxs("div",{className:"relative z-10 text-center",children:[t.jsx("div",{className:`mb-6 transition-all duration-700 ${m>=1?"translate-y-0 opacity-100 scale-100":"translate-y-10 opacity-0 scale-75"}`,children:t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-3xl blur-xl opacity-50 animate-pulse"}),t.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-500 via-teal-500 to-emerald-600 rounded-3xl flex items-center justify-center shadow-2xl shadow-emerald-900/50",children:t.jsx(js,{className:"w-12 h-12 text-white drop-shadow-lg"})}),t.jsx("div",{className:`absolute -top-1 -right-1 w-4 h-4 bg-white rounded-full transition-all duration-500 ${m>=2?"opacity-100 scale-100":"opacity-0 scale-0"}`,children:t.jsx(Ka,{className:"w-4 h-4 text-amber-400"})})]})}),t.jsx("h1",{className:`text-3xl md:text-4xl font-black bg-gradient-to-r from-white via-emerald-200 to-teal-200 bg-clip-text text-transparent mb-3 transition-all duration-700 delay-100 ${m>=2?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:" POS "}),t.jsx("p",{className:`text-lg text-emerald-400/80 font-medium tracking-wider mb-2 transition-all duration-700 delay-200 ${m>=2?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:"INVENTORY MANAGEMENT SYSTEM"}),t.jsx("p",{className:`text-xs text-slate-500 mb-6 transition-all duration-700 delay-300 ${m>=2?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:"v9.0.0"}),t.jsx("div",{className:`w-48 h-1 mx-auto bg-slate-800 rounded-full overflow-hidden transition-all duration-500 ${m>=3?"opacity-100":"opacity-0"}`,children:t.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 via-teal-400 to-emerald-500 rounded-full transition-all duration-1000 ease-out",style:{width:m>=3?"100%":"0%"}})}),t.jsx("p",{className:`mt-4 text-sm text-slate-500 transition-all duration-500 ${m>=3?"opacity-100":"opacity-0"}`,children:"  ..."})]}),t.jsx("div",{className:`absolute bottom-8 left-0 right-0 text-center transition-all duration-500 ${m>=3?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:t.jsxs("p",{className:"text-xs text-slate-600 tracking-widest",children:["POWERED BY ",t.jsx("span",{className:"text-emerald-500/70",children:""})]})})]})}function Qr({onClose:o,initialValue:m=null}){const[c,b]=p.useState(m!=null?String(m):"0"),[j,$]=p.useState(null),[N,R]=p.useState(null),[E,le]=p.useState(!1),[Q,ae]=p.useState(m!=null?[`: ${m.toLocaleString()}`]:[]);p.useEffect(()=>{m!=null&&(b(String(m)),ae([`: ${m.toLocaleString()}`]))},[m]),p.useEffect(()=>{const Ae=te=>{if(te.key==="Escape"){te.stopPropagation(),o();return}if(te.key==="Enter"){te.preventDefault(),te.stopPropagation(),V.current("=");return}if(/^[0-9]$/.test(te.key)){de.current(te.key);return}if(te.key==="."){ge.current();return}te.key==="+"&&V.current("+"),te.key==="-"&&V.current("-"),te.key==="*"&&V.current(""),te.key==="/"&&(te.preventDefault(),V.current("")),te.key==="Backspace"&&I.current(),(te.key==="c"||te.key==="C")&&Y.current()};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[o]);const de=p.useRef(),ge=p.useRef(),V=p.useRef(),I=p.useRef(),Y=p.useRef(),je=Ae=>{E?(b(Ae),le(!1)):b(c==="0"?Ae:c+Ae)},Le=()=>{if(E){b("0."),le(!1);return}c.includes(".")||b(c+".")},z=Ae=>{const te=parseFloat(c);if(j===null)$(te);else if(N){const Xe=j||0;let Ee;switch(N){case"+":Ee=Xe+te;break;case"-":Ee=Xe-te;break;case"":Ee=Xe*te;break;case"":Ee=te!==0?Xe/te:"Error";break;default:Ee=te}Ae==="="&&ae(k=>[...k.slice(-4),`${Xe} ${N} ${te} = ${Ee}`]),b(String(Ee)),$(Ae==="="?null:Ee)}le(!0),R(Ae==="="?null:Ae)},X=()=>{b("0"),$(null),R(null),le(!1)},J=()=>{X(),ae([])},oe=()=>{b(String(parseFloat(c)*-1))},U=()=>{b(String(parseFloat(c)/100))},ye=()=>{c.length===1||c.length===2&&c[0]==="-"?b("0"):b(c.slice(0,-1))};de.current=je,ge.current=Le,V.current=z,I.current=ye,Y.current=X;const Z=Ae=>{const te=parseFloat(Ae);return isNaN(te)?Ae:Ae.includes(".")&&Ae.endsWith(".")?Ae.replace(/\B(?=(\d{3})+(?!\d))/g,","):te.toLocaleString("ko-KR",{maximumFractionDigits:10})},De="w-full aspect-square rounded-xl text-xl font-bold transition-all active:scale-95 flex items-center justify-center",be=`${De} bg-slate-700 hover:bg-slate-600 text-white`,$e=`${De} bg-amber-500 hover:bg-amber-400 text-white`,Re=`${De} bg-slate-600 hover:bg-slate-500 text-white`;return t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",onClick:o,children:t.jsxs("div",{className:"bg-slate-900 rounded-3xl w-full max-w-sm border border-slate-700 shadow-2xl overflow-hidden",onClick:Ae=>Ae.stopPropagation(),children:[t.jsxs("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(mn,{className:"w-5 h-5 text-white"}),t.jsx("span",{className:"text-white font-bold",children:" "})]}),t.jsx("button",{onClick:o,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(zt,{className:"w-5 h-5 text-white"})})]}),Q.length>0&&t.jsx("div",{className:"px-4 py-2 bg-slate-800/50 max-h-20 overflow-y-auto",children:Q.map((Ae,te)=>t.jsx("p",{className:"text-slate-500 text-xs text-right",children:Ae},te))}),t.jsx("div",{className:"px-4 py-6 bg-slate-800",children:t.jsxs("div",{className:"text-right",children:[j!==null&&N&&t.jsxs("p",{className:"text-slate-500 text-sm mb-1",children:[Z(String(j))," ",N]}),t.jsx("p",{className:"text-white text-4xl font-bold truncate",children:Z(c)})]})}),t.jsxs("div",{className:"p-3 bg-slate-900 grid grid-cols-4 gap-2",children:[t.jsx("button",{onClick:J,className:Re,children:"AC"}),t.jsx("button",{onClick:oe,className:Re,children:""}),t.jsx("button",{onClick:U,className:Re,children:"%"}),t.jsx("button",{onClick:()=>z(""),className:`${$e} ${N===""?"ring-2 ring-white":""}`,children:""}),t.jsx("button",{onClick:()=>je("7"),className:be,children:"7"}),t.jsx("button",{onClick:()=>je("8"),className:be,children:"8"}),t.jsx("button",{onClick:()=>je("9"),className:be,children:"9"}),t.jsx("button",{onClick:()=>z(""),className:`${$e} ${N===""?"ring-2 ring-white":""}`,children:""}),t.jsx("button",{onClick:()=>je("4"),className:be,children:"4"}),t.jsx("button",{onClick:()=>je("5"),className:be,children:"5"}),t.jsx("button",{onClick:()=>je("6"),className:be,children:"6"}),t.jsx("button",{onClick:()=>z("-"),className:`${$e} ${N==="-"?"ring-2 ring-white":""}`,children:""}),t.jsx("button",{onClick:()=>je("1"),className:be,children:"1"}),t.jsx("button",{onClick:()=>je("2"),className:be,children:"2"}),t.jsx("button",{onClick:()=>je("3"),className:be,children:"3"}),t.jsx("button",{onClick:()=>z("+"),className:`${$e} ${N==="+"?"ring-2 ring-white":""}`,children:"+"}),t.jsx("button",{onClick:()=>je("0"),className:`${be} col-span-1`,children:"0"}),t.jsx("button",{onClick:ye,className:Re,children:""}),t.jsx("button",{onClick:Le,className:be,children:"."}),t.jsx("button",{onClick:()=>z("="),className:`${De} bg-emerald-500 hover:bg-emerald-400 text-white`,children:"="})]}),t.jsx("div",{className:"px-3 pb-3 bg-slate-900",children:t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsx("button",{onClick:()=>b(String(Math.round(parseFloat(c)*1.1))),className:"py-2 bg-blue-600/30 hover:bg-blue-600/50 rounded-lg text-blue-400 text-xs font-medium transition-colors",children:"+10% "}),t.jsx("button",{onClick:()=>b(String(Math.round(parseFloat(c)/1.1))),className:"py-2 bg-purple-600/30 hover:bg-purple-600/50 rounded-lg text-purple-400 text-xs font-medium transition-colors",children:""}),t.jsx("button",{onClick:()=>{const Ae=parseFloat(c),te=Math.round(Ae/1.1),Xe=Ae-te;ae(Ee=>[...Ee.slice(-4),`${Z(String(Ae))}  : ${Z(String(te))}, : ${Z(String(Xe))}`])},className:"py-2 bg-emerald-600/30 hover:bg-emerald-600/50 rounded-lg text-emerald-400 text-xs font-medium transition-colors",children:""}),t.jsx("button",{onClick:()=>navigator.clipboard.writeText(c.replace(/,/g,"")),className:"py-2 bg-slate-600/50 hover:bg-slate-600 rounded-lg text-slate-300 text-xs font-medium transition-colors",children:""})]})})]})})}function Sm(){const[o,m]=p.useState(!0),[c,b]=p.useState(""),[j,$]=p.useState(""),[N,R]=p.useState([]),[E,le]=p.useState("wholesale"),[Q,ae]=p.useState("catalog"),[de,ge]=p.useState({}),[V,I]=p.useState(!1),[Y,je]=p.useState(!1),[Le,z]=p.useState(null),[X,J]=p.useState(null),[oe,U]=p.useState("main"),[ye,Z]=p.useState([]),[De,be]=p.useState(null),[$e,Re]=p.useState(!1),[Ae,te]=p.useState(!1),[Xe,Ee]=p.useState(!1),[k,O]=p.useState(!0),[W,y]=p.useState(null),[L,Me]=p.useState([]),[H,me]=p.useState(!1),[ke,Ne]=p.useState(""),[Ye,we]=p.useState(""),[ft,P]=p.useState(""),[pe,ve]=p.useState(!1),[w,_]=p.useState(!1),[K,A]=p.useState(!1),[_e,ce]=p.useState(""),[qe,Te]=p.useState(!1),[Ue,ct]=p.useState(!1),[g,ue]=p.useState([]),[h,D]=p.useState(!1),[ne,F]=p.useState(!1),[G,Ie]=p.useState([]),[ze,mt]=p.useState(!1),[Fe,Ke]=p.useState(!1),[Vt,$t]=p.useState(!1),[It,at]=p.useState(!1),[Je,ht]=p.useState(!1),[jt,Nt]=p.useState(null),[ot,St]=p.useState(()=>{const u=localStorage.getItem("notificationSettings");return u?JSON.parse(u):{enabled:!0,time:"09:00",daysBeforeReminder:[0,1],includeOverdue:!0,dailyNotification:!0}}),Ht=p.useMemo(()=>{const u=g.length>0?g:As;return[...new Set(u.map(S=>S.category))]},[g]);p.useEffect(()=>{if(Ht.length>0&&Object.keys(de).length===0){const u={};Ht.forEach(S=>u[S]=!0),ge(u)}},[Ht]),p.useEffect(()=>{Mt(),Jt()},[]),p.useEffect(()=>{if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<768)return;const S=new tm({duration:1.2,easing:ie=>Math.min(1,1.001-Math.pow(2,-10*ie)),orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,smoothTouch:!1,wheelMultiplier:1,touchMultiplier:2,infinite:!1,prevent:ie=>ie.closest("[data-lenis-prevent]")!==null||ie.closest(".fixed.inset-0")!==null});function q(ie){S.raf(ie),requestAnimationFrame(q)}return requestAnimationFrame(q),()=>{S.destroy()}},[]);const Be=(u,S="success")=>{y({message:u,type:S}),setTimeout(()=>y(null),2e3)};p.useEffect(()=>{const u=S=>{S.key==="Escape"&&K&&(A(!1),ce(""))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[K]);const ss=async()=>{te(!0);try{console.log("  ...");const u=await Ct.getSavedCarts();console.log(" :",u);const S=JSON.parse(localStorage.getItem("cart_extras")||"{}");if(u){const q=u.map(ie=>({...ie,...S[ie.id]||{}}));Me(q),console.log("savedCarts  :",q.length,"")}}catch(u){console.error("   :",u)}finally{te(!1)}};p.useEffect(()=>{ss()},[]),p.useEffect(()=>{if(!(ot!=null&&ot.enabled)||("Notification"in window&&Notification.permission==="default"&&Notification.requestPermission(),L.length===0))return;const u=new Date,S=new Date;S.setHours(0,0,0,0);const q=(ot==null?void 0:ot.time)||"09:00",[ie,fe]=q.split(":").map(Number),Se=u.getHours(),Ze=u.getMinutes();if(ot!=null&&ot.dailyNotification&&(Math.abs(Se-ie)>0||Math.abs(Ze-fe)>5))return;const rt={},Tt=[],ys=(ot==null?void 0:ot.daysBeforeReminder)||[];if(L.forEach(lt=>{if(!lt.delivery_date)return;const dt=new Date(lt.delivery_date);dt.setHours(0,0,0,0);const gt=Math.floor((dt-S)/(1e3*60*60*24));gt<0&&(ot!=null&&ot.includeOverdue)?Tt.push(lt):Array.isArray(ys)&&ys.includes(gt)&&(rt[gt]||(rt[gt]=[]),rt[gt].push(lt))}),!(Tt.length>0||Object.keys(rt).length>0))return;const os=ot!=null&&ot.dailyNotification?"lastDeliveryNotification":"lastDeliveryNotificationTime",kt=localStorage.getItem(os),Qs=ot!=null&&ot.dailyNotification?S.toISOString().split("T")[0]:u.toISOString();if(kt!==Qs&&Notification.permission==="granted"){let lt="";Tt.length>0&&(lt+=`  : ${Tt.length}
`),Object.keys(rt).forEach(dt=>{const gt=rt[dt].length;dt==="0"?lt+=`  : ${gt}
`:dt==="1"?lt+=`  : ${gt}
`:lt+=` ${dt}  : ${gt}
`}),new Notification("  ",{body:lt.trim(),icon:"/icon-192.png",badge:"/icon-192.png",tag:"delivery-reminder",renotify:!1}),localStorage.setItem(os,Qs)}},[L,ot]);const ds=async u=>{try{const S=new Date,q=N.reduce((dt,gt)=>{const We=E==="wholesale"?gt.wholesale:gt.retail||gt.wholesale;return dt+We*gt.quantity},0),ie=typeof u=="string",fe=ie?u:u.name,Se=ie?"":u.phone||"",Ze=ie?"":u.address||"",rt=ie?null:u.deliveryDate,Tt=ie?"normal":u.priority,ys=ie?"":u.memo,os=N.some(dt=>dt.stock_status==="incoming"||dt.stock===0&&dt.stock_status!=="normal")?"reservation":ie?"scheduled":u.status,kt={name:fe,phone:Se||null,address:Ze||null,items:N.map(dt=>({...dt})),total:q,price_type:E,date:S.toLocaleDateString("ko-KR"),time:S.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),created_at:S.toISOString()};ie||(kt.delivery_date=rt||null,kt.status=os||"scheduled",kt.priority=Tt||"normal",kt.memo=ys||"",kt.reminded=!1),console.log("  :",kt);const Qs=dt=>{if(!dt)return!0;const gt=dt.trim();return[/^\d{1,2}\s*\d{1,2}/,/^\d{4}[.\-/]\s*\d{1,2}[.\-/]\s*\d{1,2}/,/^|^/,/^\d{1,2}:\d{2}/].some(nl=>nl.test(gt))};if(fe&&fe.trim()&&Array.isArray(G)&&!Qs(fe))try{const dt=G.find(gt=>{var We;return((We=gt==null?void 0:gt.name)==null?void 0:We.toLowerCase().replace(/\s/g,""))===fe.toLowerCase().replace(/\s/g,"")});if(dt){if(dt&&(Se||Ze)&&(!dt.phone&&Se||!dt.address&&Ze))try{const We=await Ct.updateCustomer(dt.id,{phone:Se||dt.phone,address:Ze||dt.address});We&&(Ie(nl=>nl.map(bn=>bn.id===dt.id?We:bn)),console.log("    :",fe))}catch(We){console.log("   :",We)}}else{const gt=await Ct.addCustomer({name:fe.trim(),phone:Se||null,address:Ze||null,memo:`  -   (${new Date().toLocaleDateString()})`});gt&&(Ie(We=>[...We,gt]),console.log("     ():",fe))}}catch(dt){console.log("   :",dt)}const lt=await Ct.addSavedCart(kt);if(console.log(" :",lt),lt&&lt[0]){const dt={...kt,...lt[0],delivery_date:lt[0].delivery_date||kt.delivery_date,status:lt[0].status||kt.status,priority:lt[0].priority||kt.priority,memo:lt[0].memo||kt.memo,reminded:lt[0].reminded!==void 0?lt[0].reminded:kt.reminded};if(lt[0]._localOnly&&lt[0].id){const We=JSON.parse(localStorage.getItem("cart_extras")||"{}");We[lt[0].id]={delivery_date:kt.delivery_date,status:kt.status,priority:kt.priority,memo:kt.memo,reminded:kt.reminded},localStorage.setItem("cart_extras",JSON.stringify(We)),console.log("   localStorage :",We[lt[0].id])}Me(We=>[dt,...We]),R([]),G.find(We=>{var nl;return((nl=We==null?void 0:We.name)==null?void 0:nl.toLowerCase().replace(/\s/g,""))===fe.toLowerCase().replace(/\s/g,"")&&We.is_blacklist})?Be(` "${fe}"  ( )`,"warning"):Be(` "${fe}" !`)}else console.error("  - result:",lt),Be("  ","error")}catch(S){console.error("  :",S),Be("  : "+S.message,"error")}},us=u=>{const S=u.items.filter(q=>g.some(ie=>ie.id===q.id)).map(q=>{const ie=g.find(fe=>fe.id===q.id);return ie?{...ie,quantity:q.quantity}:null}).filter(Boolean);if(S.length===0){Be("     ","error");return}R(S),le(u.price_type||u.priceType||"wholesale"),S.length<u.items.length?Be(` ${S.length}/${u.items.length}  `):Be(` "${u.name}" !`)},Rt=async(u,S)=>{const q=L[u];if(q&&q.id){const ie=await Ct.updateSavedCart(q.id,S);return ie&&ie[0]?(Me(fe=>{const Se=[...fe];return Se[u]=ie[0],Se}),Be("  "),!0):(Be("  ","error"),!1)}else return Me(ie=>{const fe=[...ie];return fe[u]={...S},fe}),Be("  "),!0},Ks=async u=>{const S=L[u];S&&S.id?await Ct.deleteSavedCart(S.id)?(Me(ie=>ie.filter((fe,Se)=>Se!==u)),Be("  ")):Be("  ","error"):(Me(q=>q.filter((ie,fe)=>fe!==u)),Be("  "))},xn=async()=>{await Ct.deleteAllSavedCarts()?(Me([]),Be("   ")):Be("  ","error")},Mt=async()=>{D(!0);try{const u=await Ct.getProducts();if(u){const S=u.map(q=>({...q,stock:q.stock!==null&&q.stock!==void 0?q.stock:50,min_stock:q.min_stock!==null&&q.min_stock!==void 0?q.min_stock:5,stock_status:q.stock_status||"normal"}));ue(S),O(!0)}}catch(u){console.log("   :",u)}finally{D(!1)}},Jt=async()=>{try{const u=await Ct.getCustomers();u&&Ie(u)}catch(u){console.log("   :",u)}},Ns=async u=>{try{if(await Ct.addCustomer(u))return await Jt(),Be("  "),!0}catch{Be("   ","error")}return!1},Us=async(u,S)=>{try{if(await Ct.updateCustomer(u,S))return await Jt(),Be("  "),!0}catch{Be("   ","error")}return!1},pn=async u=>{try{if(await Ct.deleteCustomer(u))return await Jt(),Be("  "),!0}catch{Be("   ","error")}return!1},wr=async u=>{try{if(await Ct.addProduct(u))return await Mt(),Be("  "),!0}catch{Be("   ","error")}return!1},fn=async(u,S)=>{try{if(await Ct.updateProduct(u,S))return await Mt(),Be("  "),!0}catch{Be("   ","error")}return!1},Zt=async u=>{try{if(await Ct.deleteProduct(u))return await Mt(),Be("  "),!0}catch{Be("   ","error")}return!1},gn=async(u,S)=>{try{if(await Ct.updateProduct(u,S))return await Mt(),Be("  "),!0}catch{Be("   ","error")}return!1},Wn=async u=>{try{const S=g.length>0?g:As;let q=0;for(const ie of S)try{await Ct.updateProduct(ie.id,{stock:u}),q++}catch(fe){console.log("  :",ie.name,fe)}return await Mt(),Be(` ${q}   ${u} `),!0}catch(S){return console.error("   :",S),Be("   ","error"),!1}},yn=()=>{if(!_e.trim()){ct(!0),setTimeout(()=>ct(!1),500);return}_e===mm?(A(!1),Te(!0),setTimeout(()=>{_(!0),ce(""),U("admin"),Mt(),Te(!1)},2e3)):(ct(!0),ce(""),setTimeout(()=>ct(!1),500))},tl=async()=>{te(!0);try{const u=await Ct.getOrders();if(u){const S=u.map(q=>({orderNumber:q.id,createdAt:q.created_at,customerName:q.customer_name,customerPhone:q.customer_phone,customerAddress:q.customer_address||"",priceType:q.price_type,items:q.items,totalAmount:q.total,memo:q.memo}));Z(S),O(!0)}else O(!1)}catch(u){console.log("   :",u),Z([]),O(!1)}finally{te(!1)}},wn=async u=>{Ee(!0);try{const S={id:u.orderNumber,customer_name:u.customerName||null,customer_phone:u.customerPhone||null,customer_address:u.customerAddress||null,price_type:u.priceType,items:u.items,subtotal:Math.round(u.totalAmount/1.1),vat:u.totalAmount-Math.round(u.totalAmount/1.1),total:u.totalAmount,memo:u.memo||null};if(await Ct.saveOrder(S)){const ie=Se=>{if(!Se)return!0;const Ze=Se.trim();return[/^\d{1,2}\s*\d{1,2}/,/^\d{4}[.\-/]\s*\d{1,2}[.\-/]\s*\d{1,2}/,/^|^/,/^\d{1,2}:\d{2}/].some(Tt=>Tt.test(Ze))};if(u.customerName&&Array.isArray(G)&&!ie(u.customerName)){const Se=G.find(Ze=>{var rt;return((rt=Ze==null?void 0:Ze.name)==null?void 0:rt.toLowerCase().replace(/\s/g,""))===u.customerName.toLowerCase().replace(/\s/g,"")});if(Se){if(Se&&(u.customerPhone||u.customerAddress)&&(!Se.phone&&u.customerPhone||!Se.address&&u.customerAddress))try{const rt=await Ct.updateCustomer(Se.id,{phone:u.customerPhone||Se.phone,address:u.customerAddress||Se.address});rt&&(Ie(Tt=>Tt.map(ys=>ys.id===Se.id?rt:ys)),console.log("    :",u.customerName))}catch(rt){console.log("   :",rt)}}else try{const Ze=await Ct.addCustomer({name:u.customerName,phone:u.customerPhone||null,address:u.customerAddress||null,memo:`  (${new Date().toLocaleDateString()})`});Ze&&(Ie(rt=>[...rt,Ze]),console.log("    :",u.customerName))}catch(Ze){console.log("   :",Ze)}}const fe={orderNumber:u.orderNumber,createdAt:new Date().toISOString(),customerName:u.customerName,customerPhone:u.customerPhone,customerAddress:u.customerAddress,priceType:u.priceType,items:u.items,totalAmount:u.totalAmount,memo:u.memo};Z(Se=>[fe,...Se]);for(const Se of u.items){const Ze=g.find(rt=>rt.id===Se.id);if(Ze){const rt=Ze.stock!==void 0?Ze.stock:50,Tt=Math.max(0,rt-Se.quantity);try{await Ct.updateProduct(Se.id,{stock:Tt})}catch(ys){console.log("  :",Se.name,ys)}}}return ue(Se=>Se.map(Ze=>{const rt=u.items.find(Tt=>Tt.id===Ze.id);if(rt){const Tt=Ze.stock!==void 0?Ze.stock:50;return{...Ze,stock:Math.max(0,Tt-rt.quantity)}}return Ze})),u.items.forEach(Se=>{const Ze=As.find(rt=>rt.id===Se.id);Ze&&(Ze.stock=Math.max(0,(Ze.stock??50)-Se.quantity))}),R([]),X&&(await Ct.deleteSavedCart(X)&&(Me(Ze=>Ze.filter(rt=>rt.id!==X)),console.log("      ")),J(null)),O(!0),!0}else return O(!1),alert("  .   ."),!1}catch(S){return console.error("  :",S),O(!1),alert(" .   ."),!1}finally{Ee(!1)}},sl=async u=>{te(!0);try{const S={customer_name:u.customerName||null,customer_phone:u.customerPhone||null,price_type:u.priceType,items:u.items,subtotal:Math.round(u.totalAmount/1.1),vat:u.totalAmount-Math.round(u.totalAmount/1.1),total:u.totalAmount,memo:u.memo||null};console.log("   :",u.orderNumber,S);const q=await Ct.updateOrder(u.orderNumber,S);return console.log("   :",q),q!==null?(Z(ie=>ie.map(fe=>fe.orderNumber===u.orderNumber?u:fe)),be(u),O(!0),Be("  "),!0):(O(!1),Be("  ","error"),!1)}catch(S){return console.error(" :",S),O(!1),Be("  ","error"),!1}finally{te(!1)}},Bl=async u=>{te(!0);try{await Ct.deleteOrder(u)?(Z(q=>q.filter(ie=>ie.orderNumber!==u)),O(!0),Be("  ")):(O(!1),Be("  ","error"))}catch(S){console.error(" :",S),O(!1),Be("  ","error")}finally{te(!1)}},Vl=async u=>{if(!u||u.length===0)return;te(!0);let S=0,q=0;try{for(const ie of u)await Ct.deleteOrder(ie)?S++:q++;Z(ie=>ie.filter(fe=>!u.includes(fe.orderNumber))),q===0?(Be(` ${S}  !`),O(!0)):Be(` ${S} , ${q} `,"error")}catch(ie){console.error("  :",ie),Be("    ","error"),O(!1)}finally{te(!1)}};p.useEffect(()=>{tl(),Jt()},[]);const El=u=>{be(u),Re(!0)},Et=p.useMemo(()=>(g.length>0?g:As).filter(S=>{const q=Cl(S.name,c),ie=j===""||S.category===j;return q&&ie}),[c,j,g]),Tl=p.useMemo(()=>{const u={};return Et.forEach(S=>{u[S.category]||(u[S.category]=[]),u[S.category].push(S)}),u},[Et]),ll=u=>{const S=u.stock!==void 0?u.stock:50,q=N.find(Ze=>Ze.id===u.id),ie=q?q.quantity:0,fe=u.stock_status==="incoming",Se=S===0&&!fe;if(ie>=S&&S>0){Be("  ","error");return}fe&&ie===0?Be("   ( )","warning"):Se&&ie===0&&Be("   ( )","warning"),R(q?N.map(Ze=>Ze.id===u.id?{...Ze,quantity:Ze.quantity+1}:Ze):[...N,{...u,quantity:1}])},Ls=u=>R(N.filter(S=>S.id!==u)),Hl=(u,S,q)=>{const ie=E==="wholesale"?S.wholesale:S.retail||S.wholesale;R(fe=>fe.map(Se=>Se.id===u?{...S,quantity:q,price:ie}:Se))},as=(u,S)=>{if(S<1)return Ls(u);const q=g.length>0?g.find(Se=>Se.id===u):As.find(Se=>Se.id===u),ie=(q==null?void 0:q.stock)!==void 0?q.stock:50,fe=(q==null?void 0:q.stock_status)==="incoming";if(S>ie&&ie>0&&!fe){Be("  ","error");return}R(N.map(Se=>Se.id===u?{...Se,quantity:S}:Se))},Ws=p.useMemo(()=>{const u=g.length>0?g:As;return N.map(S=>{const q=E==="wholesale"?S.wholesale:S.retail||S.wholesale,ie=u.find(Se=>Se.id===S.id),fe=um(ie||{},S.quantity,q);return{...S,unitPrice:q,originalTotal:q*S.quantity,discountedPrice:fe.discountedPrice,discountAmount:fe.discountAmount,totalDiscount:fe.discountAmount*S.quantity,finalTotal:fe.discountedPrice*S.quantity,appliedTier:fe.appliedTier}})},[N,E,g]),Qt=p.useMemo(()=>Ws.reduce((u,S)=>u+S.finalTotal,0),[Ws]),Kt=p.useMemo(()=>Ws.reduce((u,S)=>u+S.totalDiscount,0),[Ws]);return oe==="admin"?t.jsx(jm,{products:g.length>0?g:As,onBack:()=>{U("main"),_(!1)},onAddProduct:wr,onUpdateProduct:fn,onDeleteProduct:Zt,onUpdateStock:gn,onResetAllStock:Wn,formatPrice:vt,isLoading:h,onRefresh:Mt,customers:G,onAddCustomer:Ns,onUpdateCustomer:Us,onDeleteCustomer:pn,onRefreshCustomers:Jt}):oe==="history"?t.jsxs(t.Fragment,{children:[t.jsx(Nm,{orders:ye,customers:G,onBack:()=>U("main"),onDeleteOrder:Bl,onDeleteMultiple:Vl,onViewOrder:El,onRefresh:tl,isLoading:Ae,formatPrice:vt,isDetailModalOpen:$e,onSaveToCart:async u=>{const S=new Date,q={name:u.customerName||"",phone:u.customerPhone||"",address:"",items:u.items,price_type:u.priceType,total:u.totalAmount,date:S.toLocaleDateString("ko-KR"),time:S.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),created_at:S.toISOString(),memo:`  (${u.orderNumber})`};Be("   ...");const ie=await Ct.addSavedCart(q);ie&&ie.length>0?(Me(fe=>[ie[0],...fe]),Be("    !")):Be("  ","error")}}),t.jsx(hm,{isOpen:$e,onClose:()=>{Re(!1),be(null)},order:De,formatPrice:vt,onUpdateOrder:sl,products:g.length>0?g:As}),W&&t.jsx("div",{className:`fixed bottom-24 md:bottom-8 left-1/2 -translate-x-1/2 px-6 py-3 rounded-xl shadow-2xl z-50 ${W.type==="success"?"bg-emerald-600":"bg-red-600"} text-white font-medium animate-fade-in`,children:W.message})]}):ne?t.jsx(gm,{products:g.length>0?g:As,categories:Ht,formatPrice:vt,onBack:()=>F(!1)}):Fe?t.jsx(pm,{customers:G,orders:ye,formatPrice:vt,onBack:()=>Ke(!1)}):pe?t.jsx(xm,{savedCarts:L,onLoad:us,onDelete:Ks,onDeleteAll:xn,onUpdate:Rt,onOrder:u=>{us(u),z({name:u.name||"",phone:u.phone||"",address:u.address||""}),J(u.id||null),ve(!1),I(!0)},products:g,customers:G,formatPrice:vt,onBack:()=>ve(!1),onRefresh:ss,isLoading:Ae}):t.jsxs(t.Fragment,{children:[o&&t.jsx(km,{onComplete:()=>m(!1)}),t.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 transition-opacity duration-500 ${o?"opacity-0":"opacity-100"}`,children:[t.jsx(_i,{}),Vt&&t.jsx(bm,{products:g.length>0?g:As,onAddToCart:(u,S)=>{R(q=>q.find(fe=>fe.id===u.id)?q.map(fe=>fe.id===u.id?{...fe,quantity:fe.quantity+S}:fe):[...q,{...u,quantity:S}]),Be(` ${u.name} ${S} `)},formatPrice:vt,priceType:E,onBack:()=>$t(!1)}),It&&t.jsx(wm,{isOpen:It,onClose:()=>at(!1),settings:ot,onSave:u=>{St(u),localStorage.setItem("notificationSettings",JSON.stringify(u)),at(!1),Be("   ")}}),t.jsx("header",{className:"bg-slate-800/80 backdrop-blur-sm border-b border-slate-700 sticky top-0 z-40 animate-fade-in-down",children:t.jsx("div",{className:"w-full px-1.5 xs:px-2 sm:px-4 py-1.5 xs:py-2 sm:py-3",children:t.jsxs("div",{className:"flex items-center justify-between gap-1 xs:gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 xs:gap-2 flex-shrink-0",children:[t.jsx("div",{className:"w-7 h-7 xs:w-8 xs:h-8 bg-gradient-to-br from-amber-500 to-yellow-600 rounded-lg flex items-center justify-center",children:t.jsx(js,{className:"w-4 h-4 xs:w-5 xs:h-5 text-white"})}),t.jsx("div",{className:"hidden sm:block",children:t.jsxs("h1",{className:"text-base font-bold text-amber-400",children:[" POS ",t.jsx("span",{className:"text-amber-500/70 text-xs font-normal",children:"v9.0"})]})}),t.jsx("div",{className:"sm:hidden",children:t.jsx("h1",{className:"text-xs xs:text-sm font-bold text-amber-400",children:" POS"})}),t.jsxs("div",{className:`hidden md:flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium ${k?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:[k?t.jsx(dm,{className:"w-3 h-3"}):t.jsx(cm,{className:"w-3 h-3"}),k?" ":""]})]}),t.jsxs("div",{className:"flex items-center gap-0.5 xs:gap-1 sm:gap-2 overflow-x-auto overflow-y-visible scrollbar-hide flex-1 sm:justify-end py-2",style:{WebkitOverflowScrolling:"touch",overscrollBehaviorX:"contain"},children:[t.jsx("button",{onClick:()=>A(!0),className:"flex-shrink-0 flex items-center justify-center p-1.5 xs:p-2 sm:px-3 sm:py-2 bg-amber-600/20 hover:bg-amber-600/40 border border-amber-500/50 rounded-lg transition-all hover-lift btn-ripple",title:"",children:t.jsx(au,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4 sm:w-5 sm:h-5 text-amber-400"})}),t.jsxs("button",{onClick:()=>{U("history"),tl()},className:"flex-shrink-0 flex items-center justify-center gap-0.5 xs:gap-1 p-1.5 xs:p-2 sm:px-3 sm:py-2 bg-emerald-600/30 hover:bg-emerald-600/50 border border-emerald-500/50 rounded-lg transition-all hover-lift btn-ripple",title:" ",children:[t.jsx(Ha,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4 sm:w-5 sm:h-5 text-emerald-400"}),(()=>{const u=new Date,S=ye.filter(q=>new Date(q.createdAt).toDateString()===u.toDateString()).length;return S>0&&t.jsx("span",{className:"min-w-3.5 xs:min-w-4 sm:min-w-5 h-3.5 xs:h-4 sm:h-5 px-0.5 xs:px-1 sm:px-1.5 bg-emerald-500 text-white text-[8px] xs:text-[10px] sm:text-xs rounded-full flex items-center justify-center font-bold",children:S>99?"99+":S})})()]}),t.jsxs("button",{onClick:async()=>{await ss(),ve(!0)},className:"flex-shrink-0 flex items-center justify-center gap-0.5 xs:gap-1 p-1.5 xs:p-2 sm:px-3 sm:py-2 bg-violet-600/30 hover:bg-violet-600/50 border border-violet-500/50 rounded-lg transition-all hover-lift btn-ripple",title:" ",children:[t.jsx(Ti,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4 sm:w-5 sm:h-5 text-violet-400"}),(()=>{const u=new Date;u.setHours(0,0,0,0);const S=new Date(u);S.setDate(S.getDate()+1);const q=L.filter(ie=>{if(!ie.delivery_date)return!1;const fe=new Date(ie.delivery_date);return fe.setHours(0,0,0,0),fe<=S}).length;return q>0?t.jsx("span",{className:"min-w-3.5 xs:min-w-4 sm:min-w-5 h-3.5 xs:h-4 sm:h-5 px-0.5 xs:px-1 sm:px-1.5 bg-red-500 text-white text-[8px] xs:text-[10px] sm:text-xs rounded-full flex items-center justify-center font-bold",children:q>9?"9+":q}):L.length>0?t.jsx("span",{className:"min-w-3.5 xs:min-w-4 sm:min-w-5 h-3.5 xs:h-4 sm:h-5 px-0.5 xs:px-1 sm:px-1.5 bg-violet-500 text-white text-[8px] xs:text-[10px] sm:text-xs rounded-full flex items-center justify-center font-bold",children:L.length>9?"9+":L.length}):null})()]}),(()=>{const u=new Date().toDateString(),S=ye.filter(ie=>new Date(ie.createdAt).toDateString()===u).length,q=S>0;return t.jsxs("button",{onClick:()=>{tl(),mt(!0)},className:`flex-shrink-0 flex items-center justify-center gap-0.5 p-1.5 xs:p-2 sm:px-3 sm:py-2 ${q?"bg-orange-600/30 hover:bg-orange-600/50 border-orange-500/50":"bg-slate-700/50 hover:bg-slate-600/50 border-slate-500/50"} border rounded-lg transition-all hover-lift btn-ripple`,title:" ",children:[t.jsx(Ni,{className:`w-3.5 h-3.5 xs:w-4 xs:h-4 sm:w-5 sm:h-5 ${q?"text-orange-400":"text-slate-300"}`}),q&&t.jsx("span",{className:"min-w-3.5 xs:min-w-4 sm:min-w-5 h-3.5 xs:h-4 sm:h-5 px-0.5 xs:px-1 sm:px-1.5 bg-orange-500 text-white text-[8px] xs:text-[10px] sm:text-xs rounded-full flex items-center justify-center font-bold",children:S>9?"9+":S})]})})(),t.jsx("div",{className:"hidden sm:block w-px h-6 bg-slate-600 mx-1"}),t.jsx("button",{onClick:()=>$t(!0),className:"flex-shrink-0 flex items-center justify-center p-1.5 xs:p-2 sm:px-3 sm:py-2 bg-yellow-600/30 hover:bg-yellow-600/50 border border-yellow-500/50 rounded-lg transition-all hover-lift btn-ripple",title:"AI  ",children:t.jsx(Ka,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4 sm:w-5 sm:h-5 text-yellow-400"})}),t.jsx("button",{onClick:()=>{Jt(),Ke(!0)},className:"flex-shrink-0 flex items-center justify-center p-1.5 xs:p-2 sm:px-3 sm:py-2 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-500/50 rounded-lg transition-all hover-lift btn-ripple",title:" ",children:t.jsx(yr,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4 sm:w-5 sm:h-5 text-slate-300"})}),t.jsx("button",{onClick:()=>F(!0),className:"flex-shrink-0 flex items-center justify-center p-1.5 xs:p-2 sm:px-3 sm:py-2 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-500/50 rounded-lg transition-all hover-lift btn-ripple",title:" ",children:t.jsx(js,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4 sm:w-5 sm:h-5 text-slate-300"})}),t.jsx("button",{onClick:()=>at(!0),className:"flex-shrink-0 flex items-center justify-center p-1.5 xs:p-2 sm:px-3 sm:py-2 bg-blue-600/30 hover:bg-blue-600/50 border border-blue-500/50 rounded-lg transition-all hover-lift btn-ripple",title:" ",children:t.jsx(lu,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4 sm:w-5 sm:h-5 text-blue-400"})})]})]})})}),t.jsx("div",{className:"fixed top-[56px] xs:top-[64px] sm:top-[85px] left-2 xs:left-4 right-2 xs:right-4 md:right-[400px] lg:right-[420px] z-30",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-900/95 to-blue-800/90 backdrop-blur-md rounded-xl p-3 border border-blue-600/50 shadow-lg shadow-blue-900/20",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch",children:[t.jsxs("div",{className:"flex bg-slate-900/50 rounded-lg p-0.5 border border-slate-600 order-first sm:order-last",children:[t.jsx("button",{onClick:()=>le("wholesale"),className:`flex-1 sm:flex-none px-4 py-2 rounded-md text-xs font-medium transition-all ${E==="wholesale"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:""}),t.jsx("button",{onClick:()=>le("retail"),className:`flex-1 sm:flex-none px-4 py-2 rounded-md text-xs font-medium transition-all ${E==="retail"?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:""})]}),t.jsxs("select",{value:j,onChange:u=>$(u.target.value),className:"flex-1 min-w-[100px] px-3 py-2.5 bg-slate-900/50 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer order-2 sm:order-2",children:[t.jsx("option",{value:"",children:""}),Ht.map(u=>t.jsx("option",{value:u,children:u},u))]}),t.jsxs("div",{className:"flex-[3] relative order-last sm:order-first",children:[t.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:" ...",value:c,onChange:u=>b(u.target.value),onFocus:Hs,className:"w-full h-full pl-9 pr-3 py-2.5 bg-slate-900/50 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})})}),t.jsx("div",{className:"w-full px-4 pt-[125px] sm:pt-[145px] pb-48 md:pb-3 md:pr-[400px] lg:pr-[420px]",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"mb-2 text-slate-400 text-xs",children:[Et.length," "]}),Object.keys(Tl).length===0?t.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[t.jsx(js,{className:"w-12 h-12 text-slate-600 mx-auto mb-2"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"  "})]}):t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:Object.entries(Tl).map(([u,S],q)=>{const ie=de[u]!==!1;return t.jsxs("div",{className:`bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700 overflow-hidden card-glow animate-fade-in-up stagger-${Math.min(q+1,6)}`,children:[t.jsx("div",{onClick:()=>ge(fe=>({...fe,[u]:!ie})),className:"px-4 py-3 bg-gradient-to-r from-slate-700/80 to-slate-700/50 border-b border-slate-600/50 cursor-pointer hover:from-slate-600/80 hover:to-slate-600/50 transition-all",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`transition-transform duration-300 ${ie?"rotate-180":""}`,children:t.jsx(Un,{className:"w-4 h-4 text-slate-400"})}),t.jsx("span",{className:"text-white font-bold",children:u})]}),t.jsxs("span",{className:"text-xs text-slate-300 bg-slate-600 px-2 py-1 rounded-full",children:[S.length,""]})]})}),ie&&t.jsx("div",{className:"p-2 grid grid-cols-2 gap-1.5 max-h-80 overflow-y-auto category-scroll animate-fade-in overscroll-contain mobile-scroll","data-lenis-prevent":"true",style:{WebkitOverflowScrolling:"touch"},children:S.map(fe=>{const Se=N.find(lt=>lt.id===fe.id),Ze=Se?Se.quantity:0,rt=E==="wholesale"?fe.wholesale:fe.retail||fe.wholesale,Tt=Math.round(rt/1.1),xl=(fe.stock!==void 0?fe.stock:50)-Ze,os=fe.stock_status==="incoming",kt=xl<=0&&!os,Qs=xl>0&&xl<=(fe.min_stock||5);return t.jsxs("div",{onClick:()=>!Se&&ll(fe),className:`px-2 py-2 rounded-lg cursor-pointer transition-all duration-200 hover-lift select-none ${Se?"bg-blue-600/30 border border-blue-500/50":os?"bg-orange-900/20 border border-orange-500/30 hover:bg-orange-900/40":kt?"bg-red-900/20 border border-red-500/30 hover:bg-red-900/40":"bg-slate-700/30 hover:bg-slate-700/60 border border-transparent hover:border-slate-600"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-white text-xs font-medium truncate flex-1 pr-1",children:fe.name}),t.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full font-medium flex-shrink-0 flex items-center gap-1 ${os?"bg-orange-600/30 text-orange-400":kt?"bg-red-600/30 text-red-400":Qs?"bg-yellow-600/30 text-yellow-400":"bg-emerald-600/30 text-emerald-400"}`,children:os?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-400 animate-pulse"}),""]}):kt?"":`${xl}`})]}),Se?t.jsxs("div",{className:"flex items-center justify-between gap-1",children:[t.jsx("p",{className:`text-sm font-bold whitespace-nowrap ${E==="wholesale"?"text-blue-400":"text-red-400"}`,children:vt(rt)}),t.jsxs("div",{className:"flex items-center gap-0.5 bg-slate-800 rounded flex-shrink-0",children:[t.jsx("button",{onClick:lt=>{lt.stopPropagation(),as(fe.id,Se.quantity-1)},className:"w-6 h-6 flex items-center justify-center hover:bg-slate-600 rounded-l",children:t.jsx(Kn,{className:"w-3 h-3 text-white"})}),t.jsx("input",{type:"number",value:Se.quantity,onClick:lt=>lt.stopPropagation(),onChange:lt=>{const dt=parseInt(lt.target.value)||0;dt>=0&&as(fe.id,dt)},onFocus:lt=>lt.target.select(),className:"w-8 h-6 text-center text-white text-xs font-bold bg-transparent border-none focus:outline-none focus:bg-slate-600 rounded [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),t.jsx("button",{onClick:lt=>{lt.stopPropagation(),as(fe.id,Se.quantity+1)},className:"w-6 h-6 flex items-center justify-center hover:bg-slate-600 rounded-r",children:t.jsx(Pt,{className:"w-3 h-3 text-white"})})]})]}):t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:`text-sm font-bold whitespace-nowrap ${E==="wholesale"?"text-blue-400":"text-red-400"}`,children:vt(rt)}),t.jsxs("p",{className:"text-[10px] text-slate-500 whitespace-nowrap",children:["(VAT ",vt(Tt),")"]})]}),t.jsx(Pt,{className:"w-4 h-4 text-slate-500 flex-shrink-0"})]})]},fe.id)})})]},u)})})]}),t.jsx("div",{className:"hidden md:block fixed md:top-[85px] md:bottom-auto md:left-auto md:right-4 md:w-[380px] lg:w-[400px] z-40",children:t.jsxs("div",{className:"bg-gradient-to-r from-emerald-900/95 to-teal-900/90 backdrop-blur-md md:rounded-xl md:border border-emerald-500/50 shadow-2xl shadow-emerald-900/30 md:shadow-lg animate-slide-in-right",children:[t.jsxs("div",{className:"px-3 py-2 border-b border-emerald-700/50 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Fl,{className:"w-4 h-4 text-emerald-400"}),t.jsx("h2",{className:"text-sm font-semibold text-white",children:" "}),t.jsxs("span",{className:"text-xs text-emerald-300 bg-emerald-800/50 px-2 py-0.5 rounded-full",children:[N.length," / ",N.reduce((u,S)=>u+S.quantity,0),""]})]}),t.jsx("button",{onClick:()=>je(!0),className:"p-1.5 hover:bg-emerald-700/50 rounded-lg transition-colors",title:"",children:t.jsx(im,{className:"w-4 h-4 text-emerald-400"})})]}),t.jsx("div",{className:"max-h-[calc(100vh-280px)] overflow-y-auto order-scroll","data-lenis-prevent":"true",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:N.length===0?t.jsxs("div",{className:"p-6 text-center",children:[t.jsx(Fl,{className:"w-10 h-10 text-emerald-700 mx-auto mb-2"}),t.jsx("p",{className:"text-emerald-400/70 text-sm",children:"  "})]}):t.jsx("div",{className:"p-2 grid grid-cols-2 gap-1.5",children:Ws.map(u=>{const q=(u.stock!==void 0?u.stock:50)-u.quantity,ie=u.appliedTier&&u.totalDiscount>0;return t.jsxs("div",{className:`rounded-lg p-2 hover:bg-emerald-900/50 transition-colors group relative ${ie?"bg-amber-950/40 ring-1 ring-amber-500/30":"bg-emerald-950/40"}`,children:[t.jsx("button",{onClick:()=>Ls(u.id),className:"absolute top-1 right-1 w-5 h-5 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-red-500/80 hover:bg-red-500 rounded-full text-white transition-all",children:t.jsx(zt,{className:"w-3 h-3"})}),t.jsxs("div",{className:"flex items-center justify-between pr-5 mb-2",children:[t.jsx("p",{className:"text-white text-xs font-medium truncate flex-1",children:u.name}),ie?t.jsx("span",{className:"text-[9px] px-1 py-0.5 rounded bg-amber-600/30 text-amber-400 font-medium",children:u.appliedTier.type==="percent"?`${u.appliedTier.value}%`:`${vt(u.appliedTier.value)}`}):t.jsx("span",{className:`text-[9px] px-1 py-0.5 rounded ${q<=0?"bg-red-600/30 text-red-400":q<=5?"bg-yellow-600/30 text-yellow-400":"bg-slate-600/30 text-slate-400"}`,children:q<=0?"":`${q}`})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-emerald-800/50 rounded-lg px-1",children:[t.jsx("button",{onClick:()=>as(u.id,u.quantity-1),className:"w-6 h-6 flex items-center justify-center hover:bg-emerald-700 rounded text-emerald-300 transition-colors",children:t.jsx(Kn,{className:"w-3 h-3"})}),t.jsx("input",{type:"number",value:u.quantity,onChange:fe=>{const Se=parseInt(fe.target.value)||0;Se>=0&&as(u.id,Se)},onFocus:fe=>fe.target.select(),className:"w-10 h-6 text-center text-white text-sm font-bold bg-transparent border-none focus:outline-none focus:bg-emerald-700/50 rounded [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),t.jsx("button",{onClick:()=>as(u.id,u.quantity+1),className:"w-6 h-6 flex items-center justify-center hover:bg-emerald-700 rounded text-emerald-300 transition-colors",children:t.jsx(Pt,{className:"w-3 h-3"})})]}),t.jsxs("div",{className:"text-right",children:[ie&&t.jsx("p",{className:"text-slate-500 text-[9px] line-through",children:vt(u.originalTotal)}),t.jsx("p",{className:`text-xs font-semibold ${ie?"text-amber-400":"text-emerald-400"}`,children:vt(u.finalTotal)})]})]})]},u.id)})})}),N.length>0&&t.jsxs("div",{className:"p-3 border-t border-emerald-700/50 bg-emerald-950/50 animate-fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"text-emerald-300/70 text-xs",children:[t.jsxs("p",{children:[" ",vt(Bs(Qt))]}),t.jsxs("p",{children:["VAT ",vt(Qt-Bs(Qt))]}),Kt>0&&t.jsxs("p",{className:"text-amber-400 font-medium",children:[" -",vt(Kt)]})]}),t.jsxs("div",{className:"text-right cursor-pointer hover:bg-emerald-800/30 rounded-lg p-1 -m-1 transition-colors",onClick:()=>{Nt(Qt),ht(!0)},title:" ",children:[t.jsx("p",{className:"text-emerald-400/70 text-xs",children:"  "}),t.jsx("p",{className:"text-2xl font-bold text-white",children:vt(Qt)})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>R([]),className:"py-2.5 px-4 bg-emerald-800/50 hover:bg-emerald-700/50 text-emerald-200 rounded-xl text-sm font-medium btn-ripple hover-lift transition-all",children:""}),t.jsxs("button",{onClick:()=>{z(null),J(null),I(!0)},className:"flex-1 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-400 text-white rounded-xl text-sm font-bold flex items-center justify-center gap-2 btn-ripple hover-lift transition-all shadow-lg shadow-emerald-900/50",children:[t.jsx(mn,{className:"w-5 h-5"})," "]})]})]})]})})]})}),t.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-gradient-to-r from-emerald-900/95 to-teal-900/90 backdrop-blur border-t-2 border-emerald-500/50 p-3 z-30 animate-fade-in-up",style:{paddingBottom:"max(20px, env(safe-area-inset-bottom))"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{onClick:()=>N.length>0&&je(!0),className:`${N.length>0?"cursor-pointer active:scale-95":""} transition-transform`,children:[t.jsxs("p",{className:"text-emerald-300/70 text-xs",children:[" ",vt(Bs(Qt))," + VAT"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-white text-xl font-bold",children:vt(Qt)}),N.length>0&&t.jsx(rm,{className:"w-4 h-4 text-emerald-400 animate-bounce"})]})]}),t.jsxs("button",{onClick:()=>{N.length>0?(z(null),J(null),I(!0)):Be(" ","error")},className:"px-5 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl text-sm font-bold flex items-center gap-2 btn-ripple hover-lift transition-all shadow-lg shadow-emerald-900/50",children:[t.jsx(mn,{className:"w-5 h-5"}),"  (",N.reduce((u,S)=>u+S.quantity,0),")"]})]})}),W&&t.jsx("div",{className:`fixed bottom-24 md:bottom-8 left-1/2 -translate-x-1/2 px-6 py-3 rounded-xl shadow-2xl z-50 ${W.type==="success"?"bg-emerald-600":"bg-red-600"} text-white font-medium animate-fade-in`,children:W.message}),Y&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-50 p-4 animate-fade-in",onClick:()=>je(!1),children:t.jsxs("div",{className:"bg-gradient-to-br from-emerald-900 to-teal-900 rounded-2xl border border-emerald-500/50 shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden animate-scale-in",onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{className:"px-6 py-4 border-b border-emerald-700/50 flex items-center justify-between bg-emerald-950/50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Fl,{className:"w-6 h-6 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-bold text-white",children:" "}),t.jsxs("span",{className:"text-sm text-emerald-300 bg-emerald-800/50 px-3 py-1 rounded-full",children:[N.length," / ",N.reduce((u,S)=>u+S.quantity,0),""]})]}),t.jsx("button",{onClick:()=>je(!1),className:"p-2 hover:bg-emerald-700/50 rounded-lg transition-colors",children:t.jsx(zt,{className:"w-6 h-6 text-emerald-400"})})]}),t.jsx("div",{className:"max-h-[calc(90vh-200px)] overflow-y-auto p-4",children:N.length===0?t.jsxs("div",{className:"py-16 text-center",children:[t.jsx(Fl,{className:"w-16 h-16 text-emerald-700 mx-auto mb-4"}),t.jsx("p",{className:"text-emerald-400/70 text-lg",children:"  "})]}):t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:Ws.map(u=>{const q=(u.stock!==void 0?u.stock:50)-u.quantity,ie=u.appliedTier&&u.totalDiscount>0;return t.jsxs("div",{className:`rounded-xl p-4 hover:bg-emerald-900/50 transition-colors group relative border ${ie?"bg-amber-950/40 border-amber-500/30":"bg-emerald-950/60 border-emerald-800/50"}`,children:[t.jsx("button",{onClick:()=>Ls(u.id),className:"absolute top-2 right-2 w-7 h-7 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-red-500/80 hover:bg-red-500 rounded-full text-white transition-all",children:t.jsx(zt,{className:"w-4 h-4"})}),t.jsxs("div",{className:"mb-3",children:[t.jsx("p",{className:"text-white text-sm font-medium line-clamp-2 pr-6 min-h-[40px]",children:u.name}),t.jsxs("div",{className:"flex items-center gap-1 mt-1 flex-wrap",children:[ie&&t.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-amber-600/30 text-amber-400 font-medium",children:u.appliedTier.type==="percent"?`${u.appliedTier.value}% `:`${vt(u.appliedTier.value)} `}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${q<=0?"bg-red-600/30 text-red-400":q<=5?"bg-yellow-600/30 text-yellow-400":"bg-slate-600/30 text-slate-400"}`,children:q<=0?"":`${q}`})]})]}),t.jsx("div",{className:"text-xs mb-2",children:ie?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-500 line-through",children:vt(u.unitPrice)}),t.jsx("span",{className:"text-amber-400 font-medium",children:vt(u.discountedPrice)})]}):t.jsxs("span",{className:"text-emerald-400/70",children:[": ",vt(u.unitPrice)]})}),t.jsxs("div",{className:"flex items-center justify-center gap-1 bg-emerald-800/50 rounded-lg px-2 py-1 mb-3",children:[t.jsx("button",{onClick:()=>as(u.id,u.quantity-1),className:"w-8 h-8 flex items-center justify-center hover:bg-emerald-700 rounded text-emerald-300 transition-colors",children:t.jsx(Kn,{className:"w-4 h-4"})}),t.jsx("input",{type:"number",value:u.quantity,onChange:fe=>{const Se=parseInt(fe.target.value)||0;Se>=0&&as(u.id,Se)},onFocus:fe=>fe.target.select(),className:"w-14 h-8 text-center text-white text-lg font-bold bg-transparent border-none focus:outline-none focus:bg-emerald-700/50 rounded [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),t.jsx("button",{onClick:()=>as(u.id,u.quantity+1),className:"w-8 h-8 flex items-center justify-center hover:bg-emerald-700 rounded text-emerald-300 transition-colors",children:t.jsx(Pt,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"text-center",children:[ie&&t.jsx("p",{className:"text-slate-500 text-xs line-through",children:vt(u.originalTotal)}),t.jsx("p",{className:`text-base font-bold ${ie?"text-amber-400":"text-emerald-400"}`,children:vt(u.finalTotal)})]})]},u.id)})})}),N.length>0&&t.jsxs("div",{className:"p-4 border-t border-emerald-700/50 bg-emerald-950/50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"text-emerald-300/70 text-sm",children:[t.jsxs("p",{children:[" ",vt(Bs(Qt))]}),t.jsxs("p",{children:["VAT ",vt(Qt-Bs(Qt))]}),Kt>0&&t.jsxs("p",{className:"text-amber-400 font-medium",children:[" -",vt(Kt)]})]}),t.jsxs("div",{className:"text-right cursor-pointer hover:bg-emerald-800/30 rounded-lg p-2 -m-2 transition-colors",onClick:()=>{Nt(Qt),ht(!0)},title:" ",children:[t.jsx("p",{className:"text-emerald-400/70 text-sm",children:"  "}),t.jsx("p",{className:"text-3xl font-bold text-white",children:vt(Qt)})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>R([]),className:"py-3 px-6 bg-emerald-800/50 hover:bg-emerald-700/50 text-emerald-200 rounded-xl text-sm font-medium transition-all",children:""}),t.jsxs("button",{onClick:()=>{je(!1),z(null),J(null),I(!0)},className:"flex-1 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-400 text-white rounded-xl text-base font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-emerald-900/50",children:[t.jsx(mn,{className:"w-5 h-5"})," "]})]})]})]})}),K&&t.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center z-50 p-4 animate-fade-in",onKeyDown:u=>{u.key==="Escape"&&(A(!1),ce(""))},tabIndex:-1,children:[t.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-20",children:[...Array(20)].map((u,S)=>t.jsx("div",{className:"absolute text-red-500 text-xs font-mono",style:{left:`${Math.random()*100}%`,top:"-20px",animation:`matrix-rain ${2+Math.random()*3}s linear infinite`,animationDelay:`${Math.random()*2}s`},children:Math.random()>.5?"01001":"10110"},S))}),t.jsxs("div",{className:`relative max-w-md w-full ${Ue?"animate-shake-error":""}`,children:[t.jsx("div",{className:"absolute inset-0 rounded-2xl overflow-hidden pointer-events-none secret-scanline"}),t.jsxs("div",{className:`relative bg-gradient-to-b from-slate-900 via-slate-900 to-black rounded-2xl p-8 border-2 shadow-2xl ${Ue?"animate-flash-red border-red-500":"border-red-500/50 animate-border-glow"}`,style:{boxShadow:Ue?"0 0 60px rgba(255,0,64,0.8)":"0 0 40px rgba(255,0,64,0.3), inset 0 0 60px rgba(0,0,0,0.5)"},children:[t.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-l-2 border-t-2 border-red-500 rounded-tl-2xl"}),t.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-r-2 border-t-2 border-red-500 rounded-tr-2xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-l-2 border-b-2 border-red-500 rounded-bl-2xl"}),t.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-r-2 border-b-2 border-red-500 rounded-br-2xl"}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"relative inline-block mb-4",children:[t.jsx("div",{className:`w-20 h-20 rounded-full bg-gradient-to-br from-red-600/20 to-red-900/40 flex items-center justify-center border ${Ue?"border-red-500 animate-pulse":"border-red-500/50"}`,style:{boxShadow:Ue?"0 0 50px rgba(255,0,64,0.8)":"0 0 30px rgba(255,0,64,0.4)"},children:t.jsx(om,{className:`w-10 h-10 text-red-500 ${Ue?"animate-pulse":""}`})}),t.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent border-t-red-500 border-r-red-500/50",style:{animation:"unlock-spin 3s linear infinite"}})]}),t.jsx("h3",{className:`text-2xl font-bold mb-2 tracking-wider font-mono ${Ue?"text-red-400 animate-pulse":"text-red-500"}`,style:{textShadow:"0 0 10px rgba(255,0,64,0.8)"},children:Ue?"[ ACCESS DENIED ]":"[ RESTRICTED ACCESS ]"}),t.jsx("p",{className:"text-slate-500 text-sm font-mono tracking-widest",children:Ue?"INVALID CREDENTIALS":"AUTHENTICATION REQUIRED"}),t.jsx("div",{className:`mt-4 py-2 px-4 rounded-lg border inline-block ${Ue?"bg-red-600/30 border-red-500/50":"bg-red-900/20 border-red-500/30"}`,children:t.jsx("p",{className:`text-xs font-mono ${Ue?"text-red-300 animate-pulse":"text-red-400 animate-pulse"}`,children:Ue?" AUTHENTICATION FAILED":" UNAUTHORIZED ACCESS PROHIBITED"})})]}),t.jsxs("div",{className:"relative mb-6",children:[t.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 font-mono text-sm ${Ue?"text-red-400":"text-red-500"}`,children:">>"}),t.jsx("input",{type:"password",value:_e,onChange:u=>ce(u.target.value),onKeyDown:u=>{u.key==="Enter"&&yn(),u.key==="Escape"&&(A(!1),ce(""))},placeholder:Ue?"TRY AGAIN...":"ENTER PASSCODE...",className:`w-full pl-12 pr-4 py-4 bg-black/50 border-2 rounded-xl text-red-400 font-mono tracking-widest placeholder-slate-600 focus:outline-none focus:shadow-lg transition-all ${Ue?"border-red-500 bg-red-900/20":"border-red-500/30 focus:border-red-500"}`,style:{caretColor:"#ff0040",textShadow:"0 0 5px rgba(255,0,64,0.5)"},autoFocus:!0}),t.jsx("div",{className:"absolute inset-0 rounded-xl pointer-events-none",style:{boxShadow:_e?"0 0 20px rgba(255,0,64,0.3)":"none",transition:"box-shadow 0.3s"}})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>{A(!1),ce("")},className:"flex-1 py-4 bg-slate-800/80 hover:bg-slate-700 border border-slate-600 rounded-xl text-slate-400 hover:text-white font-mono tracking-wider transition-all duration-300 hover:border-slate-500",children:"[ CANCEL ]"}),t.jsxs("button",{onClick:yn,className:"flex-1 py-4 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 rounded-xl text-white font-bold font-mono tracking-wider transition-all duration-300 relative overflow-hidden group",style:{boxShadow:"0 0 20px rgba(255,0,64,0.4)"},children:[t.jsx("span",{className:"relative z-10",children:"[ ACCESS ]"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]})]}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-red-500/20 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),t.jsx("span",{className:"text-slate-600 text-xs font-mono",children:"SECURE CONNECTION"})]}),t.jsx("span",{className:"text-slate-700 text-xs font-mono",children:"v2.0.25"})]})]})]})]}),qe&&t.jsxs("div",{className:"fixed inset-0 bg-black z-[100] flex items-center justify-center overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
                linear-gradient(rgba(0,255,0,0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,255,0,0.1) 1px, transparent 1px)
              `,backgroundSize:"50px 50px",animation:"pulse 2s ease-in-out infinite"}}),t.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,255,0,0.03) 2px, rgba(0,255,0,0.03) 4px)"}}),t.jsxs("div",{className:"relative text-center",children:[t.jsx("div",{className:"mx-auto mb-8 w-32 h-32 rounded-full border-4 border-green-500 flex items-center justify-center",style:{boxShadow:"0 0 60px rgba(0,255,0,0.5), inset 0 0 60px rgba(0,255,0,0.1)",animation:"access-granted 0.5s ease-out forwards"},children:t.jsx(Vs,{className:"w-16 h-16 text-green-500",style:{filter:"drop-shadow(0 0 10px rgba(0,255,0,0.8))",animation:"access-granted 0.5s ease-out 0.2s forwards",opacity:0}})}),t.jsx("div",{className:"font-mono text-5xl font-bold text-green-500 mb-4 tracking-widest",style:{textShadow:"0 0 20px rgba(0,255,0,0.8), 0 0 40px rgba(0,255,0,0.4)",animation:"access-granted 0.5s ease-out 0.3s forwards",opacity:0},children:"ACCESS GRANTED"}),t.jsx("div",{className:"font-mono text-green-400/70 tracking-wider mb-8",style:{animation:"access-granted 0.5s ease-out 0.5s forwards",opacity:0},children:"WELCOME, ADMINISTRATOR"}),t.jsx("div",{className:"w-64 h-1 bg-green-900/50 rounded-full mx-auto overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-400 rounded-full",style:{animation:"loading-bar 1.5s ease-out forwards",width:"0%"}})}),t.jsxs("div",{className:"mt-6 font-mono text-xs text-green-500/50 space-y-1",style:{animation:"access-granted 0.5s ease-out 0.7s forwards",opacity:0},children:[t.jsx("p",{children:"INITIALIZING ADMIN INTERFACE..."}),t.jsx("p",{children:"LOADING SECURE MODULES..."})]})]}),t.jsx("div",{className:"absolute top-8 left-8 w-16 h-16 border-l-2 border-t-2 border-green-500/50"}),t.jsx("div",{className:"absolute top-8 right-8 w-16 h-16 border-r-2 border-t-2 border-green-500/50"}),t.jsx("div",{className:"absolute bottom-8 left-8 w-16 h-16 border-l-2 border-b-2 border-green-500/50"}),t.jsx("div",{className:"absolute bottom-8 right-8 w-16 h-16 border-r-2 border-b-2 border-green-500/50"}),t.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 font-mono text-xs text-green-500/30 flex items-center gap-4",children:[t.jsx("span",{children:"SYS.AUTH.v2.0"}),t.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500/50"}),t.jsx("span",{children:"ENCRYPTION: AES-256"}),t.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500/50"}),t.jsx("span",{children:"STATUS: AUTHENTICATED"})]})]}),V&&t.jsx(vm,{cart:N,priceType:E,totalAmount:Qt,formatPrice:vt,onSaveOrder:wn,isSaving:Xe,onUpdateQuantity:as,onRemoveItem:Ls,onAddItem:ll,onReplaceItem:Hl,products:As,initialCustomer:Le,onSaveCart:u=>{const S=typeof u=="object";Ne(S?u.name||"":u||""),we(S&&u.phone||""),P(S&&u.address||""),me(!0)},customers:G,onBack:()=>{I(!1),z(null),J(null)},cartWithDiscount:Ws,totalDiscount:Kt}),t.jsx(ym,{isOpen:H,onSave:ds,cart:N,priceType:E,formatPrice:vt,customerName:ke,initialPhone:Ye,initialAddress:ft,onBack:()=>me(!1),onCloseAll:()=>{me(!1),I(!1)}}),ze&&W0.createPortal(t.jsx(fm,{orders:ye,customers:G,formatPrice:vt,onBack:()=>mt(!1),refreshCustomers:Jt}),document.body),!o&&!V&&!Vt&&t.jsx("button",{onClick:()=>{Nt(null),ht(!0)},className:"fixed bottom-20 right-4 z-50 w-12 h-12 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full shadow-lg shadow-amber-500/30 flex items-center justify-center text-white hover:scale-110 transition-transform active:scale-95",title:"",children:t.jsx(mn,{className:"w-6 h-6"})}),Je&&t.jsx(Qr,{onClose:()=>{ht(!1),Nt(null)},initialValue:jt})]})]})}U0.createRoot(document.getElementById("root")).render(t.jsx(Sm,{}));
